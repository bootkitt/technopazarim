if (self.CavalryLogger) { CavalryLogger.start_js(["eReOQ"]); }

__d("ChatSidebarSections",[],(function a(b,c,d,e,f,g){f.exports={ADMINED_PAGES:"admined_pages",MORE_ONLINE_FRIENDS:"more_online_friends",MORE_ONLINE_COWORKERS:"more_online_coworkers",OFFLINE_USERS:"offline_users",ORDERED_LIST:"ordered_list",ORDERED_COWORKERS:"ordered_coworkers",TYPEAHEAD:"typeahead",NOW_PINNED_LIST:"now_pinned_list",NEARBY:"nearby",WORKPLACE_BOTS:"workplace_bots",WORKPLACE_OTHERS:"workplace_others",PYMM:"pymm"}}),null);
__d("AjaxRequest",["ErrorUtils","Keys","PHPQuerySerializer","TimeSlice","URI","UserAgent_DEPRECATED","ZeroRewrites","setTimeoutAcrossTransitions"],(function a(b,c,d,e,f,g){function h(l,m,n){if(!(m instanceof c("URI")))m=new(c("URI"))(m);this.xhr=c("ZeroRewrites").getTransportBuilderForURI(m)();if(n&&l=="GET")m.setQueryData(n);else this._params=n;this.method=l;this.uri=m;this.xhr.open(l,m)}var i=window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest();h.supportsCORS=function(){return i};h.ERROR="ar:error";h.TIMEOUT="ar:timeout";h.PROXY_ERROR="ar:proxy error";h.TRANSPORT_ERROR="ar:transport error";h.SERVER_ERROR="ar:http error";h.PARSE_ERROR="ar:parse error";h.SERVICE_UNAVAILABLE="ar:noservice";h._inflight=[];function j(){var l=h._inflight;h._inflight=[];l.forEach(function(m){m.abort()})}function k(l){l.onJSON=l.onError=l.onSuccess=null;clearTimeout(l._timer);if(l.xhr&&l.xhr.readyState<4){l.xhr.abort();l.xhr=null}h._inflight=h._inflight.filter(function(m){return m&&m!=l&&m.xhr&&m.xhr.readyState<4})}Object.assign(h.prototype,{timeout:6e4,streamMode:true,prelude:/^for \(;;\);/,status:null,_eol:-1,_call:function l(m){if(this[m])this[m](this)},_parseStatus:function l(){var m;try{this.status=this.xhr.status;m=this.xhr.statusText}catch(n){if(this.xhr.readyState>=4){this.errorType=h.TRANSPORT_ERROR;this.errorText=n.message}return}if(this.status===0&&!/^(file|ftp)/.test(this.uri))this.errorType=h.TRANSPORT_ERROR;else if(this.status>=100&&this.status<200)this.errorType=h.PROXY_ERROR;else if(this.status>=200&&this.status<300)return;else if(this.status>=300&&this.status<400)this.errorType=h.PROXY_ERROR;else if(this.status>=400&&this.status<500)this.errorType=h.SERVER_ERROR;else if(this.status===503)this.errorType=h.SERVICE_UNAVAILABLE;else if(this.status>500&&this.status<600)this.errorType=h.PROXY_ERROR;else if(this.status==1223)return;else if(this.status>=12001&&this.status<=12156)this.errorType=h.TRANSPORT_ERROR;else{m="unrecognized status code: "+this.status;this.errorType=h.ERROR}if(!this.errorText)this.errorText=m},_parseResponse:function l(){var m,n=this.xhr.readyState;try{m=this.xhr.responseText||""}catch(o){if(n>=4){this.errorType=h.ERROR;this.errorText="responseText not available - "+o.message}return}while(this.xhr){var p=this._eol+1,q=this.streamMode?m.indexOf("\n",p):m.length;if(q<0&&n==4)q=m.length;if(q<=this._eol)break;var r=m;if(this.streamMode)r=m.substr(p,q-p).replace(/^\s*|\s*$/g,"");if(p===0&&this.prelude)if(this.prelude.test(r))r=r.replace(this.prelude,"");this._eol=q;if(r){try{this.json=JSON.parse(r)}catch(o){var s=/(<body[\S\s]+?<\/body>)/i.test(m)&&RegExp.$1,t={message:o.message,"char":p,excerpt:(p===0&&s||r).substr(512)};this.errorType=h.PARSE_ERROR;this.errorText="parse error - "+JSON.stringify(t);return}c("ErrorUtils").applyWithGuard(this._call,this,["onJSON"])}}},_onReadyState:function l(m,n){var o=this.xhr&&this.xhr.readyState||0;if(this.status==null&&o>=2)this._parseStatus();if(!this.errorType&&this.status!=null)if(o==3&&this.streamMode||o==4)m.call(this);if(this.errorType||o==4){this._time=Date.now()-this._sentAt;n.call(this,this._call,!this.errorType?"onSuccess":"onError");k(this)}},send:function l(m){var n=c("TimeSlice").getGuardedContinuation("AjaxRequest xhr.onreadystatechange",true),o=c("TimeSlice").guard(this._parseResponse.bind(this),"AjaxRequest xhr.parseResponse",{isContinuation:false});this.xhr.onreadystatechange=this._onReadyState.bind(this,o,n);var p=this.timeout;if(p)this._timer=c("setTimeoutAcrossTransitions")(function(){this.errorType=h.TIMEOUT;this.errorText="timeout";this._time=Date.now()-this._sentAt;this._call("onError");k(this)}.bind(this),p);h._inflight.push(this);if(this.method=="POST")this.xhr.setRequestHeader("Content-Type","application/x-www-form-urlencoded");this._sentAt=Date.now();this.xhr.send(m?c("PHPQuerySerializer").serialize(m):"")},abort:function l(){k(this)},toString:function l(){var m="[AjaxRequest readyState="+this.xhr.readyState;if(this.errorType)m+=" errorType="+this.errorType+" ("+this.errorText+")";return m+"]"},toJSON:function l(){var m={json:this.json,status:this.status,errorType:this.errorType,errorText:this.errorText,time:this._time};if(this.errorType)m.uri=this.uri;for(var n in m)if(m[n]==null)delete m[n];return m}});if(window.addEventListener&&c("UserAgent_DEPRECATED").firefox())window.addEventListener("keydown",function(event){if(event.keyCode===c("Keys").ESC)event.prevent()},false);if(window.attachEvent)window.attachEvent("onunload",j);f.exports=h}),null);
__d("AvailableListConstants",[],(function a(b,c,d,e,f,g){var h={ON_AVAILABILITY_CHANGED:"buddylist/availability-changed",ON_UPDATE_ERROR:"buddylist/update-error",ON_UPDATED:"buddylist/updated",ON_CHAT_NOTIFICATION_CHANGED:"chat-notification-changed",OFFLINE:0,IDLE:1,ACTIVE:2,MOBILE:3,WEB_STATUS:"webStatus",FB_APP_STATUS:"fbAppStatus",MESSENGER_STATUS:"messengerStatus",OTHER_STATUS:"otherStatus",STATUS_ACTIVE:"active",STATUS_IDLE:"idle",STATUS_OFFLINE:"offline"};f.exports=h}),null);
__d("LastActiveTimes",["fbt","ServerTime"],(function a(b,c,d,e,f,g,h){var i={};function j(n){if(!n||n<0)return null;var o=c("ServerTime").get()/1e3-n,p=Math.floor(o/60),q=Math.floor(p/60),r=Math.floor(q/24);if(p<=1)return h._({"*":"{count}m"},[h.param("count",1,[0])]);else if(p<60)return h._({"*":"{count}m"},[h.param("count",p,[0])]);else if(q<24)return h._({"*":"{count}h"},[h.param("count",q,[0])]);else if(r<3)return h._({"*":"{count}d"},[h.param("count",r,[0])]);else return null}function k(n,o){if(!(n in i)||i[n]<o)i[n]=o}function l(n){if(n in i)return i[n];else return 0}var m={update:function n(o){for(var p in o)k(p,o[p])},getShortDisplay:function n(o){return j(l(o))},get:function n(o){return l(o)},getDebugData:function n(){return i}};f.exports=m}),null);
__d("ChatConfig",["ChatConfigInitialData"],(function a(b,c,d,e,f,g){var h={},i={get:function j(k,l){return k in h?h[k]:l},set:function j(k){if(arguments.length>1){var l={};l[k]=arguments[1];k=l}Object.assign(h,k)},getDebugInfo:function j(){return h}};i.set(c("ChatConfigInitialData"));f.exports=i}),null);
__d("PresenceUtil",["CurrentUser","randomInt"],(function a(b,c,d,e,f,g){var h=c("randomInt")(0,4294967295)+1;function i(){return h}function j(){return c("CurrentUser").isLoggedInNow()}f.exports={getSessionID:i,hasUserCookie:j}}),null);
__d("PresencePrivacy",["Arbiter","AsyncRequest","ChannelConstants","CurrentUser","PresencePrivacyInitialData","JSLogger","PresenceUtil"],(function a(b,c,d,e,f,g){var h="/ajax/chat/privacy/settings.php",i="/ajax/chat/privacy/online_policy.php",j="/ajax/chat/privacy/visibility.php",k="friend_visibility",l="visibility",m="online_policy",n=babelHelpers["extends"]({},c("PresencePrivacyInitialData").privacyData),o=c("PresencePrivacyInitialData").visibility,p=babelHelpers["extends"]({},c("PresencePrivacyInitialData").privacyData),q=o,r=c("PresencePrivacyInitialData").onlinePolicy,s=r,t=[],u=false;function v(){return c("JSLogger").create("blackbird")}var w=Object.assign(new(c("Arbiter"))(),{WHITELISTED:1,BLACKLISTED:-1,UNLISTED:0,ONLINE:1,OFFLINE:0,ONLINE_TO_WHITELIST:0,ONLINE_TO_BLACKLIST:1});function x(J){var K;for(K in J){var L=J[K];if(K==c("CurrentUser").getID()){v().error("set_viewer_visibility");throw new Error("Invalid to set current user's visibility")}switch(L){case w.WHITELISTED:case w.BLACKLISTED:case w.UNLISTED:break;default:v().error("set_invalid_friend_visibility",{id:K,value:L});throw new Error("Invalid state: "+L)}}for(K in J)n[K]=J[K];w.inform("privacy-changed")}function y(J,K){var L={};L[J]=K;x(L)}function z(J){switch(J){case w.ONLINE:case w.OFFLINE:break;default:v().error("set_invalid_visibility",{value:J});throw new Error("Invalid visibility: "+J)}o=J;w.inform("privacy-changed");w.inform("privacy-user-presence-changed")}function A(J){switch(J){case w.ONLINE_TO_WHITELIST:case w.ONLINE_TO_BLACKLIST:break;default:throw new Error("Invalid default online policy: "+J)}r=J;w.inform("privacy-user-presence-changed");w.inform("privacy-changed")}function B(J,K){u=true;J.send()}function C(J,K){t.push({request:J,data:K});if(!u){var L=t.shift();B(L.request,L.data)}}function D(J,K){var L=J.type;if(L===k){w.inform("privacy-availability-changed");for(var M in J.settings)p[M]=J.settings[M]}else{if(L===l)q=J.visibility;else if(L===m)s=J.online_policy;w.inform("privacy-user-presence-response")}v().log("set_update_response",{data:J,response:K})}function E(J,K){if(o!==q)z(q);if(r!==s)A(s);Object.assign(n,p);w.inform("privacy-changed");t=[];v().log("set_error_response",{data:J,response:K})}function F(J){u=false;if(t.length>0){var K=t.shift();B(K.request,K.data)}}function G(J,K){if(c("PresenceUtil")!=null){var L=J.getData();L.window_id=c("PresenceUtil").getSessionID();J.setData(L)}J.setHandler(D.bind(this,K)).setErrorHandler(E.bind(this,K)).setTransportErrorHandler(E.bind(this,K)).setFinallyHandler(F.bind(this)).setAllowCrossPageTransition(true);return J}function H(J,K,L){return G(new(c("AsyncRequest"))(J).setData(K),L)}function I(J,K){var L=K.obj;if(L.viewer_id!=c("CurrentUser").getID()){v().error("invalid_viewer_for_channel_message",{type:J,data:K});throw new Error("Viewer got from the channel is not the real viewer")}if(L.window_id===c("PresenceUtil").getSessionID())return;var M=L.data;if(L.event=="access_control_entry")M.target_ids.forEach(function(O){y(O,M.setting);p[O]=M.setting});else{if(L.event=="visibility_update"){var N=!!M.visibility?w.ONLINE:w.OFFLINE;z(N);q=N}else if(L.event=="online_policy_update"){A(M.online_policy);s=M.online_policy}w.inform("privacy-user-presence-response")}v().log("channel_message_received",{data:K.obj})}Object.assign(w,{WHITELISTED:1,BLACKLISTED:-1,UNLISTED:0,ONLINE:1,OFFLINE:0,ONLINE_TO_WHITELIST:0,ONLINE_TO_BLACKLIST:1,init:function J(K,L,M){},setVisibility:function J(K){q=o;z(K);var L={visibility:K},M={type:l,visibility:K},N=H(j,L,M);C(N,M);v().log("set_visibility",{data:L});return K},getVisibility:function J(){return o},setOnlinePolicy:function J(K){s=r;A(K);var L={online_policy:K},M={type:m,online_policy:K},N=H(i,L,M);C(N,M);v().log("set_online_policy",{data:L});return K},getOnlinePolicy:function J(){return r},getFriendVisibility:function J(K){return n[K]||w.UNLISTED},isUserOffline:function J(){return this.getVisibility()===w.OFFLINE},allows:function J(K){if(this.isUserOffline())return false;var L=this.getOnlinePolicy();return L===w.ONLINE_TO_WHITELIST?n[K]==w.WHITELISTED:n[K]!=w.BLACKLISTED},setFriendsVisibility:function J(K,L){if(K.length>0){var M={};for(var N=0;N<K.length;N++){var O=K[N];p[O]=n[O];M[O]=L}x(M);var P=L;if(P==w.UNLISTED)P=p[K[0]];var Q={users:K,setting:L,setting_type:P},R={type:k,settings:M},S=H(h,Q,R);C(S,R);v().log("set_friend_visibility",{data:Q})}return L},setFriendVisibilityMap:function J(K,L){for(var M in K)p[M]=n[M];x(K);var N={type:k,settings:K};C(G(L,N),N);v().log("set_friend_visibility_from_map",{data:K})},allow:function J(K){if(this.allows(K)){v().error("allow_already_allowed");throw new Error("allow() should only be called for users that are not already allowed")}if(this.getVisibility()===w.OFFLINE){v().error("allow_called_while_offline");throw new Error("allow() should only be called when the user is already online")}var L=this.getOnlinePolicy()===w.ONLINE_TO_WHITELIST?w.WHITELISTED:w.UNLISTED;return this.setFriendsVisibility([K],L)},disallow:function J(K){if(!this.allows(K)){v().error("disallow_already_disallowed");throw new Error("disallow() should only be called for users that are not already disallowed")}if(this.getVisibility()===w.OFFLINE){v().error("disallow_called_while_offline");throw new Error("disallow() should only be called when the user is already online")}var L=this.getOnlinePolicy()===w.ONLINE_TO_BLACKLIST?w.BLACKLISTED:w.UNLISTED;return this.setFriendsVisibility([K],L)},getBlacklist:function J(){var K=[];for(var L in n)if(n[L]===w.BLACKLISTED)K.push(L);return K},getWhitelist:function J(){var K=[];for(var L in n)if(n[L]===w.WHITELISTED)K.push(L);return K},getMapForTest:function J(){return n},setMapForTest:function J(K){n=K}});w.inform("privacy-changed");w.inform("privacy-user-presence-changed",c("Arbiter").BEHAVIOR_STATE);v().log("initialized",{visibility:o,policy:r});c("Arbiter").subscribe(c("JSLogger").DUMP_EVENT,function(J,K){K.presence_privacy={initial:c("PresencePrivacyInitialData").privacyData,current:n}});c("Arbiter").subscribe(c("ChannelConstants").getArbiterType("privacy_changed"),I.bind(this));c("Arbiter").subscribe(c("ChannelConstants").ON_CONFIG,function(J,K){var L=K.getConfig("visibility",null);if(L!==null&&typeof L!=="undefined"){var M=L?w.ONLINE:w.OFFLINE;z(M);v().log("config_visibility",{vis:M})}}.bind(this));f.exports=w}),null);
__d("ChatVisibility",["Arbiter","JSLogger","PresencePrivacy"],(function a(b,c,d,e,f,g){var h={isOnline:function i(){return c("PresencePrivacy").getVisibility()===c("PresencePrivacy").ONLINE},hasBlackbirdEnabled:function i(){return this.isVisibleToMostFriends()||this.isVisibleToSomeFriends()},isVisibleToMostFriends:function i(){return c("PresencePrivacy").getOnlinePolicy()===c("PresencePrivacy").ONLINE_TO_BLACKLIST&&c("PresencePrivacy").getBlacklist().length>0},isVisibleToSomeFriends:function i(){return c("PresencePrivacy").getOnlinePolicy()===c("PresencePrivacy").ONLINE_TO_WHITELIST&&c("PresencePrivacy").getWhitelist().length>0},goOnline:function i(j){if(c("PresencePrivacy").getVisibility()===c("PresencePrivacy").OFFLINE){c("JSLogger").create("blackbird").log("chat_go_online");c("PresencePrivacy").setVisibility(c("PresencePrivacy").ONLINE);c("Arbiter").inform("chat-visibility/go-online")}j&&j()},goOffline:function i(j){if(c("PresencePrivacy").getVisibility()===c("PresencePrivacy").ONLINE){c("JSLogger").create("blackbird").log("chat_go_offline");c("PresencePrivacy").setVisibility(c("PresencePrivacy").OFFLINE);c("Arbiter").inform("chat-visibility/go-offline")}j&&j()},toggleVisibility:function i(){if(h.isOnline())h.goOffline();else h.goOnline()}};f.exports=h}),null);
__d("PresenceStatus",["ArbiterMixin","AvailableListConstants","BanzaiODS","Bootloader","ChatConfig","ChatVisibility","CurrentUser","FBID","LastActiveTimes","PresencePrivacy","ServerTime","createObjectFrom","debounceAcrossTransitions"],(function a(b,c,d,e,f,g){c("BanzaiODS").setEntitySample("presence",1e-4);var h={},i={},j={},k={},l=Object.assign({},c("ArbiterMixin")),m=c("debounceAcrossTransitions")(function(){return l.inform("change")},0);function n(o){var p,q=parseInt(o.topic.match(/\d+$/),10),r=parseInt(JSON.parse(o.payload).lat,10),s=Date.now()-r*1e3,t=c("ChatConfig").get("active_cutoff")*1e3-s;c("LastActiveTimes").update((p={},p[q]=r,p));l.checkPresence(q);if(l.get(q)===c("AvailableListConstants").ACTIVE){clearTimeout(k[q].timeout);k[q].timeout=setTimeout(function(){l.checkPresence(q)},t)}}Object.assign(l,{resetPresenceData:function o(){h={};i={}},reset:function o(){l.resetPresenceData();j={}},get:function o(p){if(p==c("CurrentUser").getID())return c("ChatVisibility").isOnline()?c("AvailableListConstants").ACTIVE:c("AvailableListConstants").OFFLINE;if(!c("FBID").isUser(p)&&!k[p]){c("BanzaiODS").bumpEntityKey("presence","page_subscribe");k[p]={};if(c("ChatConfig").get("presence_page_green_dot_sub"))c("Bootloader").loadModules(["RTISubscriptionManager"],function(r){r.subscribe("presence_push/fb/"+p,n)},"PresenceStatus")}var q=c("AvailableListConstants").OFFLINE;if(p in h)q=h[p];if(!c("PresencePrivacy").allows(p))q=c("AvailableListConstants").OFFLINE;return q},getCapabilities:function o(p){var q=i[p];return q?q:0},isPlayingCanvasGameUser:function o(p){return!!j[p]},getGroup:function o(p){return p.some(function(q){if(q==c("CurrentUser").getID())return false;return l.get(q)===c("AvailableListConstants").ACTIVE})?c("AvailableListConstants").ACTIVE:c("AvailableListConstants").OFFLINE},set:function o(p,q,r,s,t,u){if(p==c("CurrentUser").getID())return false;var v;if(q!==null&&q!==undefined){q=q==c("AvailableListConstants").ACTIVE?c("AvailableListConstants").ACTIVE:c("AvailableListConstants").OFFLINE;var w=l.get(p);v=w!=q;if((v||q==c("AvailableListConstants").ACTIVE)&&c("FBID").isUser(p)){var x;c("LastActiveTimes").update((x={},x[p]=c("ServerTime").get()/1e3,x))}h[p]=q}var y=false;if(t!==undefined&&t!==null){y=l.getCapabilities(p)!=t;i[p]=t}var z=v||y;if(z&&!u)m();return z},setPlayingCanvasGameFriends:function o(p){j=c("createObjectFrom")(p)},getOnlineIDs:function o(){var p,q=[];for(p in h)if(l.get(p)===c("AvailableListConstants").ACTIVE)q.push(p);return q},getAllIDs:function o(){return Object.keys(h)},getOnlineCount:function o(){return l.getOnlineIDs().length},getPresenceStats:function o(){var p=0,q=0,r=0;for(var s in h){p+=1;switch(l.get(s)){case c("AvailableListConstants").OFFLINE:q+=1;break;case c("AvailableListConstants").ACTIVE:r+=1;break;default:break}}return{total:p,offline:q,active:r}},getAllDebugInfo:function o(){var p={};for(var q in h)p[q]={p:h[q],vc:i[q]};return p},setMultiChatproxy:function o(p){var q={};for(var r in p){if(p[r].lat)q[r]=p[r].lat;var s=p[r].p;l.set(r,s,false,"chatproxy",p[r].vc,true)}c("LastActiveTimes").update(q);m()},setMultiActive:function o(p,q){var r=false;p.forEach(function(s){l.set(s,c("AvailableListConstants").ACTIVE,false,q,null,true)&&(r=true)});if(r)m()},checkPresence:function o(p){var q=false,r=Math.ceil(Date.now()/1e3)-c("LastActiveTimes").get(p);l.set(p,r<c("ChatConfig").get("active_cutoff")?c("AvailableListConstants").ACTIVE:c("AvailableListConstants").OFFLINE,false,"pylon",null,true)&&(q=true);if(q)m()}});f.exports=l}),null);
__d("ChatproxyPresence",["Arbiter","AvailableListConstants","AvailableListInitialData","BanzaiODS","ChannelConstants","LastActiveTimes","PresenceStatus","debounceAcrossTransitions","ClientChromeExperimentsData"],(function a(b,c,d,e,f,g){var h=c("ClientChromeExperimentsData").ClientChromeAvailableListInitialDataPreloader;function i(k){var l=k.activeList,m=k.lastActiveTimes;if(l)c("PresenceStatus").setMultiActive(l,"available_list_active");if(m&&!Array.isArray(m))c("LastActiveTimes").update(m)}function j(k){"use strict";this.$ChatproxyPresence1=k;this.$ChatproxyPresence2=false;this.$ChatproxyPresence3=c("AvailableListInitialData").chatNotif;this.$ChatproxyPresence4=false;if(h)h.onLoaded(i);else i(c("AvailableListInitialData"))}j.prototype.subscribe=function(){"use strict";c("Arbiter").subscribe(c("ChannelConstants").getArbiterType("chatproxy-presence"),this.updatePresenceInfo.bind(this));c("Arbiter").subscribe(c("ChannelConstants").ON_INVALID_HISTORY,function(){this.$ChatproxyPresence2=true}.bind(this));c("Arbiter").subscribe(c("ChannelConstants").RTI_SESSION,function(k,l){if(l)this.$ChatproxyPresence4=l}.bind(this));c("Arbiter").subscribe(c("ChannelConstants").getArbiterType("get_debug_presence"),function(k,l){var m=c("PresenceStatus").getAllDebugInfo(),n=c("LastActiveTimes").getDebugData();for(var o in n){var p=m[o];if(p===undefined){p={};m[o]=p}p.l=Math.floor(n[o])}this.$ChatproxyPresence4.issueRequest("/debug_presence",{},m,function(){c("BanzaiODS").bumpEntityKey("ChatproxyPresence","debug_presence.sucess")})}.bind(this))};j.prototype.getRTISession=function(){"use strict";return this.$ChatproxyPresence4};j.prototype.updatePresenceInfo=function(k,l){"use strict";if(this.$ChatproxyPresence2){this.$ChatproxyPresence2=false;c("PresenceStatus").resetPresenceData()}l=l.obj;var m=l.buddyList;c("PresenceStatus").setMultiChatproxy(m);var n=false;if(l.chatNotif!==undefined)n=this.$ChatproxyPresence3!==l.chatNotif;if(n)this.$ChatproxyPresence3=l.chatNotif;if(l.gamers)c("PresenceStatus").setPlayingCanvasGameFriends(l.gamers);if(n)this.$ChatproxyPresence1(c("AvailableListConstants").ON_CHAT_NOTIFICATION_CHANGED,this.$ChatproxyPresence3);c("debounceAcrossTransitions")(function(){this.$ChatproxyPresence1(c("AvailableListConstants").ON_AVAILABILITY_CHANGED)}.bind(this),0)()};j.prototype.getWebChatNotification=function(){"use strict";return this.$ChatproxyPresence3};f.exports=j}),null);
__d("ChatDispatcher",["ExplicitRegistrationDispatcher"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("ExplicitRegistrationDispatcher"));i=h&&h.prototype;function j(){h.apply(this,arguments)}f.exports=new j({strict:false})}),null);
__d("ChatReliabilityEvents",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ERROR:"error",CHANNEL_DISCONNECT:"channel_disconnect",CHANNEL_CONNECT:"channel_connect",CHANNEL_INIT:"channel_init",CHANNEL_NOCONFIG:"channel_noconfig",CHANNEL_HISTORY_INVALID:"channel_history_invalid",CHANNEL_STALLED:"channel_stalled",MESSAGE_RECEIVED:"msg_received",THREAD_INFO_ENDPOINT_FATAL:"thread_info_fatal",DFF_ENDPOINT_FATAL:"invalidate_global_state_fatal",DFF_DELTA_INIT:"dff_initiated_by_delta",DFF_HOLE_INIT:"dff_initiated_by_hole"})}),null);
__d("ChatReliabilityTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:ChatReliabilityLoggerConfig",this.$ChatReliabilityTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:ChatReliabilityLoggerConfig",this.$ChatReliabilityTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$ChatReliabilityTypedLogger1={};return this};h.prototype.updateData=function(j){this.$ChatReliabilityTypedLogger1=babelHelpers["extends"]({},this.$ChatReliabilityTypedLogger1,j);return this};h.prototype.setEvent=function(j){this.$ChatReliabilityTypedLogger1.event=j;return this};h.prototype.setEventData=function(j){this.$ChatReliabilityTypedLogger1.event_data=j;return this};var i={event:true,event_data:true};f.exports=h}),null);
__d("ChatReliabilityInstrumentation",["ChatReliabilityEvents","ChatReliabilityTypedLogger","gkx"],(function a(b,c,d,e,f,g){"use strict";var h=function h(event,j){if(!c("gkx")("AT5ZjV8HMgIrvWAdtan2dRootzXgNDn_gwV31adDo4tXzlNarwl6mRO_oeBdt0f9htexVFvjQxI0k_n8DA4dQ67qv29jXbtX1X-VERmy6nzotA"))return;new(c("ChatReliabilityTypedLogger"))().setEvent(event).setEventData(j).log()},i={logERROR:function j(k){h(c("ChatReliabilityEvents").ERROR,k)},logCHANNEL_DISCONNECT:function j(k){h(c("ChatReliabilityEvents").CHANNEL_DISCONNECT,k)},logCHANNEL_CONNECT:function j(k){h(c("ChatReliabilityEvents").CHANNEL_CONNECT,k)},logCHANNEL_HISTORY_INVALID:function j(k){h(c("ChatReliabilityEvents").CHANNEL_HISTORY_INVALID,k)},logMESSAGE_RECEIVED:function j(k){h(c("ChatReliabilityEvents").MESSAGE_RECEIVED,k)},logCHANNEL_STALLED:function j(k){h(c("ChatReliabilityEvents").CHANNEL_STALLED,k)},logCHANNEL_INIT:function j(k){h(c("ChatReliabilityEvents").CHANNEL_INIT,k)},logCHANNEL_NOCONFIG:function j(k){h(c("ChatReliabilityEvents").CHANNEL_NOCONFIG,k)},logDFF_DELTA_INIT:function j(k){h(c("ChatReliabilityEvents").DFF_DELTA_INIT,k)},logDFF_HOLE_INIT:function j(k){h(c("ChatReliabilityEvents").DFF_HOLE_INIT,k)}};f.exports=i}),null);
__d("PresenceStatusActionTypes",["keyMirror"],(function a(b,c,d,e,f,g){"use strict";f.exports=c("keyMirror")({AVAILABILITY_CHANGED:null})}),null);
__d("TypingStates",[],(function a(b,c,d,e,f,g){var h={INACTIVE:0,TYPING:1,QUITTING:2};f.exports=h}),null);
__d("AvailableList",["Arbiter","ArbiterMixin","AsyncRequest","AvailableListConstants","BanzaiODS","Bootloader","ChannelConstants","ChatConfig","ChatDispatcher","ChatproxyPresence","ChatReliabilityInstrumentation","ChatVisibility","CurrentUser","FBID","ErrorUtils","JSLogger","LastActiveTimes","PresencePrivacy","PresenceStatus","PresenceStatusActionTypes","Run","ServerTime","TypingStates","debounceAcrossTransitions","emptyFunction","requireWeak"],(function a(b,c,d,e,f,g){"use strict";c("BanzaiODS").setEntitySample("presence",1e-4);var h=babelHelpers["extends"]({},c("AvailableListConstants"),c("ArbiterMixin")),i=/\D/;h.subscribe([c("AvailableListConstants").ON_AVAILABILITY_CHANGED,c("AvailableListConstants").ON_UPDATE_ERROR],function(p,q){c("Arbiter").inform(p,q)});c("PresenceStatus").subscribe("change",c("debounceAcrossTransitions")(function(){h.inform(c("AvailableListConstants").ON_AVAILABILITY_CHANGED)},0));var j=c("debounceAcrossTransitions")(function(){h.inform(c("AvailableListConstants").ON_AVAILABILITY_CHANGED);c("ChatDispatcher").dispatch({type:c("PresenceStatusActionTypes").AVAILABILITY_CHANGED})},0);function k(q,r,s,t,u){if(q===c("CurrentUser").getID())return;var v=c("PresenceStatus").set(q,r,s,t,u);if(v){var w=c("debounceAcrossTransitions")(function(){h.inform(c("AvailableListConstants").ON_AVAILABILITY_CHANGED,q);c("ChatDispatcher").dispatch({type:c("PresenceStatusActionTypes").AVAILABILITY_CHANGED,id:q})},0);w()}}function l(q){var r=q.payload.availability||{};for(var s in r)k(s&&s.toString(),r[s].a,true,"mercury_tabs",r[s].c)}function m(q){if(!q||q==="0"||i.test(q)){c("ChatReliabilityInstrumentation").logERROR("bad id for available list: "+q);return}new(c("AsyncRequest"))("/ajax/mercury/tabs_presence.php").setData({target_id:q}).setHandler(l).setErrorHandler(c("emptyFunction")).setAllowCrossPageTransition(true).send()}function n(q,r){r.chat_config=c("ChatConfig").getDebugInfo();r.available_list_debug_info={count:c("PresenceStatus").getOnlineIDs().length}}var o=undefined;try{o=new(c("ChatproxyPresence"))(function(event){h.inform(event)});o.subscribe()}catch(p){c("ErrorUtils").reportError&&c("ErrorUtils").reportError(p,false);c("ChatReliabilityInstrumentation").logERROR(p.getMessage())}Object.assign(h,{getChatproxyPresenceObject:function q(){return o},get:function q(r){return c("PresenceStatus").get(r)},updateForID:function q(r){if(c("ChatConfig").get("presence_page_green_dot_sub")&&!c("FBID").isUser(r))return;m(r);if(c("PresencePrivacy").getVisibility()==c("PresencePrivacy").ONLINE)c("Run").onAfterLoad(function(){return c("Bootloader").loadModules(["ChannelManager","ChannelTransport"],function(s,t){s.startChannelManager();t.sendAdditionalBuddyRequest(s.getCompleteConfig(),r)},"AvailableList")})},getWebChatNotification:function q(){return o&&o.getWebChatNotification()},isReady:function q(){return!!o},set:function q(r,s,t,u){k(r,s,true,t,u)}});c("Arbiter").subscribe(c("JSLogger").DUMP_EVENT,n);c("PresencePrivacy").subscribe(["privacy-changed","privacy-availability-changed","privacy-user-presence-response"],j);c("requireWeak")("ChannelConnection",function(q){return q.subscribe([q.CONNECTED,q.RECONNECTING,q.SHUTDOWN,q.MUTE_WARNING,q.UNMUTE_WARNING],j)});c("Arbiter").subscribe(c("ChannelConstants").getArbiterType("buddylist_overlay"),function(q,r){var s={},t=r.obj.overlay;for(var u in t){h.set(u,t[u].a,t[u].s||"channel",t[u].vc);if(t[u].la)s[u]=t[u].la}c("LastActiveTimes").update(s)});c("Arbiter").subscribe([c("ChannelConstants").getArbiterType("typ"),c("ChannelConstants").getArbiterType("ttyp")],function(q,r){var s=r.obj;if(s.st===c("TypingStates").TYPING){var t=s.from;if(c("ChatVisibility").isOnline()){c("BanzaiODS").bumpEntityKey("presence","stale_presence_check_typing");var u=c("PresenceStatus").get(t);if(u!=c("AvailableListConstants").ACTIVE){var v=c("LastActiveTimes").get(t)*1e3,w=c("ServerTime").get();if(!v)c("BanzaiODS").bumpEntityKey("presence","no_detailed_presence_typing");else if(w-v>5*60*1e3){var x="stale_presence_typing",y=w-v;if(y<10*60*1e3)x+="600";else if(y<60*60*1e3)x+="3600";c("BanzaiODS").bumpEntityKey("presence",x)}}}h.set(t&&t.toString(),c("AvailableListConstants").ACTIVE,"channel-typing")}});c("Arbiter").subscribe(c("ChannelConstants").getArbiterType("messaging"),function(q,r){if(!c("ChatVisibility").isOnline())return;var s=r.obj;if(s.message&&s.message.timestamp&&s.message.sender_fbid){var t=c("ServerTime").get(),u=s.message.timestamp;if(t-u<2*60*1e3){c("BanzaiODS").bumpEntityKey("presence","stale_presence_check");var v=s.message.sender_fbid,w=c("PresenceStatus").get(v);if(w==c("AvailableListConstants").ACTIVE)return;var x=c("LastActiveTimes").get(v)*1e3;if(!x)c("BanzaiODS").bumpEntityKey("presence","no_detailed_presence");else if(u-x>5*60*1e3){var y="stale_presence",z=u-x;if(z<10*60*1e3)y+="600";else if(z<60*60*1e3)y+="3600";c("BanzaiODS").bumpEntityKey("presence",y)}}}});f.exports=h}),null);
__d("ChatOpenTabEventLogger",["Banzai","Bootloader"],(function a(b,c,d,e,f,g){"use strict";var h="messaging_tracking",i={_log:function j(k,l,m,n){var o={referrer:k||"",message_thread_id:l,message_view:"chat",timestamp_send:Date.now(),message_target_ids:[]};if(m!==undefined)o.message_target_ids=[m];c("Bootloader").loadModules(["ChatImpressionLogger"],function(p){p.logImpression(k,m,n);c("Banzai").post(h,o,{delay:0,retry:true})},"ChatOpenTabEventLogger")},logClickOpen:function j(k,l,m,n){c("Bootloader").loadModules(["MercuryIDs","ChatImpressionLogger","PagesLogger","PagesLoggerEventEnum","PagesLoggerEventTargetEnum"],function(o){this._log(k,l,m,n);this._logPageClick(k,o.getUserIDFromThreadID(String(l)))}.bind(this),"ChatOpenTabEventLogger")},logUserClickOpen:function j(k,l,m){c("Bootloader").loadModules(["MercuryIDs","ChatImpressionLogger","PagesLogger","PagesLoggerEventEnum","PagesLoggerEventTargetEnum"],function(n){var o=n.getThreadIDFromUserID(l);this.logClickOpen(k,o,l,m)}.bind(this),"ChatOpenTabEventLogger")},logAutoOpen:function j(k,l,m,n){this._log(k,l,m,n)},logUserAutoOpen:function j(k,l){c("Bootloader").loadModules(["MercuryIDs","ChatImpressionLogger"],function(m){var n=m.getThreadIDFromUserID(l);this._log(k,n,l)}.bind(this),"ChatOpenTabEventLogger")},_logPageClick:function j(k,l){c("Banzai").post("page_message_button_click",{page_id:l,ref:k});c("Bootloader").loadModules(["PagesLogger","PagesLoggerEventEnum","PagesLoggerEventTargetEnum"],function(m,n,o){m.log(l,n.CLICK,o.PAGE_MESSAGE,k)},"ChatOpenTabEventLogger")}};f.exports=i}),null);
__d("ChatSidebarActionTypes",["keyMirror"],(function a(b,c,d,e,f,g){"use strict";f.exports=c("keyMirror")({INIT:null,LOADED:null,SET_ENABLED:null,SHOW:null})}),null);
__d("ChatSidebarHideReason",[],(function a(b,c,d,e,f,g){var h={VIEWPORT_INCAPABLE:0,LOW_FRIEND_COUNT:1,NOT_ENABLED:2};f.exports=h}),null);
__d("SidebarType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({SIDEBAR:"sidebar",BUDDYLIST:"buddylist",BUDDYLIST_NUB:"buddylist_nub"})}),null);
__d("ChatSidebarStore",["ChatDispatcher","ChatOptionsInitialData","ChatSidebarActionTypes","FluxStore","SidebarType","performanceAbsoluteNow"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("FluxStore"));i=h&&h.prototype;function j(){i.constructor.call(this,c("ChatDispatcher"));this.$ChatSidebarStore2={initialized:false,initTime:c("performanceAbsoluteNow")(),loaded:false,enabled:!!c("ChatOptionsInitialData").sidebar_mode,visible:null};this.$ChatSidebarStore1={}}j.prototype.__onDispatch=function(k){var l=k.type;this.$ChatSidebarStore1=babelHelpers["extends"]({},this.$ChatSidebarStore2);switch(l){case c("ChatSidebarActionTypes").INIT:if(!this.$ChatSidebarStore1.initialized)this.$ChatSidebarStore2.initTime=c("performanceAbsoluteNow")();this.$ChatSidebarStore2.initialized=true;break;case c("ChatSidebarActionTypes").LOADED:this.$ChatSidebarStore2.loaded=true;break;case c("ChatSidebarActionTypes").SHOW:this.$ChatSidebarStore2.visible=k.sidebarType;break;case c("ChatSidebarActionTypes").SET_ENABLED:this.$ChatSidebarStore2.enabled=k.enabled;this.$ChatSidebarStore2.visible=k.sidebarType;break}for(var m in this.$ChatSidebarStore2)if(Object.prototype.hasOwnProperty.call(this.$ChatSidebarStore2,m))if(this.$ChatSidebarStore2[m]!==this.$ChatSidebarStore1[m]){this.__emitChange();break}};j.prototype.getPrevState=function(){return this.$ChatSidebarStore1};j.prototype.getState=function(){return this.$ChatSidebarStore2};j.prototype.isInitialized=function(){return this.$ChatSidebarStore2.initialized};j.prototype.isLoaded=function(){return this.$ChatSidebarStore2.loaded};j.prototype.isEnabled=function(){return this.$ChatSidebarStore2.enabled};j.prototype.getInitTime=function(){return this.$ChatSidebarStore2.initTime};j.prototype.getVisibleType=function(){return this.$ChatSidebarStore2.visible};f.exports=new j()}),null);
__d("ChatSidebarPreloadStore",["ChatSidebarData","InitialChatFriendsList"],(function a(b,c,d,e,f,g){"use strict";var h={onLoaded:function i(j){if(c("ChatSidebarData").AsyncDataPreloader)c("ChatSidebarData").AsyncDataPreloader.onLoaded(function(k){var l=k.result,m=l.list,n=l.groups,o=l.shortProfiles,p=l.nearby,q=l.adminedPages,r=l.pageListModule,s=l.pymmList;return j({buddies:m,groups:n,shortProfiles:o,nearby:p,adminedPages:q,pageListModule:r,pymmList:s,profiles:[]})});else if(c("ChatSidebarData").WebGraphQLPreloader)c("ChatSidebarData").WebGraphQLPreloader.onLoaded(function(k){return j(c("ChatSidebarData").WebGraphQLNormalizer.normalize(k))});else j({buddies:c("InitialChatFriendsList").list||[],groups:c("InitialChatFriendsList").groups||[],shortProfiles:c("InitialChatFriendsList").shortProfiles||{},nearby:c("InitialChatFriendsList").nearby||[],adminedPages:c("InitialChatFriendsList").adminedPages||[],pageListModule:c("InitialChatFriendsList").pageListModule,pymmList:c("InitialChatFriendsList").pymmList||{},profiles:[]})}};f.exports=h}),null);
__d("ChatProfileStore",["ChatSidebarPreloadStore"],(function a(b,c,d,e,f,g){"use strict";var h={},i={init:function j(){c("ChatSidebarPreloadStore").onLoaded(function(k){var l=k.profiles,m=k.nearby;return l.filter(function(n){return!m||m.indexOf(n.id)===-1}).forEach(function(n){var o=new Date(),p=n.birthdate&&o.getDate()===n.birthdate.day&&o.getMonth()+1===n.birthdate.month,q=n.profile_picture&&n.profile_picture.uri?n.profile_picture.uri:null;h[n.id]={id:n.id,is_birthday:p,thumbSrc:q,name:n.name,is_messenger_only:!!n.is_messenger_only}})})},get:function j(k){return h[k]}};f.exports=i}),null);
__d("OrderedFriendsList",["AvailableListConstants","ChatProfileStore","ChatSidebarPreloadStore","MercuryIDs","PresenceStatus","SearchableEntry","ShortProfiles","WorkModeConfig","createArrayFromMixed","isValidUniqueID"],(function a(b,c,d,e,f,g){"use strict";var h=null,i={},j=[],k={};function l(r){r=String(r);return c("MercuryIDs").isValid(r)?r:c("MercuryIDs").getParticipantIDFromUserID(r)}function m(r,s){var t=c("createArrayFromMixed")(r);s(t.filter(function(u){var v=c("ShortProfiles").getNow(u);return!v||p(v)||v.is_nonfriend_messenger_contact}))}function n(r){h=[];var s=0;r.forEach(function(t){var u=t.slice(0,-2),v=t.slice(-1);if(c("PresenceStatus").get(u)==v){h[s]=u;i[u]=s++}})}function o(r){var s=0;r.forEach(function(t){var u=t.slice(0,-2),v=t.slice(-1);if(v==c("AvailableListConstants").ACTIVE){j[s]=u;k[u]=s++}})}function p(r){return r.type==="friend"||c("WorkModeConfig").is_work_user&&r.type==="fb4c"}var q={contains:function r(s){return s in i},getList:function r(s){if(h&&h.length){m(h,s);return}c("ChatSidebarPreloadStore").onLoaded(function(t){var u=t.buddies;n(u);m(h,s)})},getSearchableEntries:function r(s,t,u){q.getList(function(v){c("ChatSidebarPreloadStore").onLoaded(function(w){var x=w.groups;c("ShortProfiles").getMulti(v.slice(0,s),function(y){var z=[];for(var A in y)z.push(q.normalizeProfileEntry(y[A],A));var B=t?x.map(q.normalizeThreadEntry):[];u(z.concat(B).filter(function(C){return!!C}).sort(function(C,D){return C.getOrder()-D.getOrder()}))})})})},normalizeProfileEntry:function r(s,t){var u=s.searchTokens||[],v=s.name,w=null;return new(c("SearchableEntry"))({uniqueID:s.id||t,keywordString:u.join(" "),order:q.getRank(s.id||t),photo:s.thumbSrc,title:v,subtitle:w,type:s.type,uri:s.uri,auxiliaryData:{isMessengerUser:s.is_messenger_user}})},normalizeThreadEntry:function r(s,t){var u=s.mercury_thread,v=s.participants_to_render.map(function(B){return babelHelpers["extends"]({},B,{id:l(B.id)})});u.participants=u.participants.map(l);var w=s.text,x=null;if(!w)w=u.name;var y=v.map(function(B){return B.name}),z=y.join(", ");if(!w)w=z;else x=z;var A=s.uid;if(!w||!c("isValidUniqueID")(A))return null;return new(c("SearchableEntry"))({uniqueID:A,order:t,photo:u.image_src,title:w,subtitle:x,type:"thread",auxiliaryData:{participantsToRender:v,tooltipContent:y.join("\n"),thread:u}})},getRank:function r(s){if(s in i)return i[s];return h?h.length:0},getActiveList:function r(s){if(j.length>0){s(j);return}q.getList(function(t){return s(t)})},getActiveRank:function r(s){return s in k?k[s]:q.getRank(s)}};(function(){c("ChatSidebarPreloadStore").onLoaded(function(r){var s=r.buddies,t=r.shortProfiles;c("ShortProfiles").setMulti(t);o(s);n(s)});c("ChatProfileStore").init()})();f.exports=q}),null);
__d("ChatSidebarVisibility",["ChatConfig","ChatSidebarHideReason","ChatSidebarStore","OrderedFriendsList","SidebarType","getViewportDimensions"],(function a(b,c,d,e,f,g){"use strict";var h=c("ChatConfig").get("sidebar.min_friends"),i=c("ChatConfig").get("sidebar.minimum_width"),j={getViewport:function k(){return c("getViewportDimensions").withoutScrollbars()},shouldShowSidebar:function k(l,m){j.shouldShowSidebarIgnoreEnabled(l,function(n,o){var p=c("ChatSidebarStore").isEnabled();m(n&&p,p?o:o.concat([c("ChatSidebarHideReason").NOT_ENABLED]))})},shouldShowSidebarIgnoreEnabled:function k(l,m){c("OrderedFriendsList").getActiveList(function(n){var o=l||j.getViewport(),p=o.width>i,q=n.length<h,r=true,s=[];if(!p){r=false;s.push(c("ChatSidebarHideReason").VIEWPORT_INCAPABLE)}if(q){r=false;s.push(c("ChatSidebarHideReason").LOW_FRIEND_COUNT)}m(r,s)})},isSidebarVisible:function k(){return c("ChatSidebarStore").getVisibleType()===c("SidebarType").SIDEBAR},isBuddyListVisible:function k(){return c("ChatSidebarStore").getVisibleType()===c("SidebarType").BUDDYLIST}};f.exports=j}),null);
__d("ChatSidebarActions",["ChatDispatcher","ChatSidebarActionTypes","ChatSidebarVisibility","SidebarType"],(function a(b,c,d,e,f,g){"use strict";var h={init:function i(){c("ChatDispatcher").dispatch({type:c("ChatSidebarActionTypes").INIT})},loaded:function i(){c("ChatDispatcher").dispatch({type:c("ChatSidebarActionTypes").LOADED})},disable:function i(){c("ChatDispatcher").dispatch({type:c("ChatSidebarActionTypes").SET_ENABLED,enabled:false,sidebarType:c("SidebarType").BUDDYLIST})},enable:function i(j){c("ChatDispatcher").dispatch({type:c("ChatSidebarActionTypes").SET_ENABLED,enabled:true,sidebarType:j})},show:function i(j){c("ChatDispatcher").dispatch({type:c("ChatSidebarActionTypes").SHOW,sidebarType:j})}};f.exports=h}),null);
__d("FBRTCDispatcher",["Dispatcher_DEPRECATED"],(function a(b,c,d,e,f,g){"use strict";f.exports=new(c("Dispatcher_DEPRECATED"))()}),null);
__d("FBRTCStore",["FBRTCDispatcher","FluxStore"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("FluxStore"));i=h&&h.prototype;function j(){i.constructor.call(this,c("FBRTCDispatcher"))}j.prototype.__emitChange=function(){this.__emitter.emit(this.__changeEvent)};f.exports=j}),null);
__d("VideoCallTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:VideoCallLoggerConfig",this.$VideoCallTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:VideoCallLoggerConfig",this.$VideoCallTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$VideoCallTypedLogger1={};return this};h.prototype.updateData=function(j){this.$VideoCallTypedLogger1=babelHelpers["extends"]({},this.$VideoCallTypedLogger1,j);return this};h.prototype.setEvent=function(j){this.$VideoCallTypedLogger1.event=j;return this};h.prototype.setMessage=function(j){this.$VideoCallTypedLogger1.message=j;return this};var i={event:true,message:true};f.exports=h}),null);
__d("FBRTCCallBlockingStore",["Arbiter","AsyncRequest","ChannelConstants","FBRTCDispatcher","FBRTCStore","VideoCallTypedLogger","setTimeoutAcrossTransitions"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=false,k=0,l=null,m="call_block_setting_changed";h=babelHelpers.inherits(n,c("FBRTCStore"));i=h&&h.prototype;n.prototype.init=function(o){this.$FBRTCCallBlockingStore1(o);c("Arbiter").subscribe(c("ChannelConstants").getArbiterType("videocall_block_setting"),this.$FBRTCCallBlockingStore2.bind(this))};n.prototype.__onDispatch=function(o){if(o.type!==m)return;this.$FBRTCCallBlockingStore1(o.data)};n.prototype.$FBRTCCallBlockingStore1=function(o){switch(o){case 0:j=false;this.$FBRTCCallBlockingStore3();break;case-1:j=true;this.$FBRTCCallBlockingStore3();break;default:j=true;this.$FBRTCCallBlockingStore4(o)}this.__emitChange()};n.prototype.$FBRTCCallBlockingStore4=function(o){if(l===null)l=c("setTimeoutAcrossTransitions")(this.turnOnVideoCalling.bind(this),o*1e3)};n.prototype.getBlockingStatus=function(){return j};n.prototype.turnOnVideoCalling=function(){new(c("AsyncRequest"))("/ajax/chat/settings.php").setHandler(this.$FBRTCCallBlockingStore5.bind(this)).setData({call_blocked_until:0}).send()};n.prototype.turnOffVideoCalling=function(o){k=o;new(c("AsyncRequest"))("/ajax/chat/settings.php").setHandler(this.$FBRTCCallBlockingStore6.bind(this)).setData({call_blocked_until:o}).send()};n.prototype.$FBRTCCallBlockingStore3=function(){if(l){clearTimeout(l);l=null}};n.prototype.$FBRTCCallBlockingStore5=function(){c("FBRTCDispatcher").dispatch({type:m,data:0});new(c("VideoCallTypedLogger"))().setEvent(m).setMessage("enable").log()};n.prototype.$FBRTCCallBlockingStore6=function(){c("FBRTCDispatcher").dispatch({type:m,data:k});new(c("VideoCallTypedLogger"))().setEvent(m).setMessage("disable_"+k).log()};n.prototype.$FBRTCCallBlockingStore2=function(o,p){c("FBRTCDispatcher").dispatch({type:m,data:p.obj.value})};function n(){h.apply(this,arguments)}f.exports=new n()}),null);
__d("ChatOptions",["Arbiter","ChannelConstants","ChatSidebarActions","ChatSidebarVisibility","FBRTCCallBlockingStore","JSLogger","PresenceUtil","SidebarType","ChatOptionsInitialData"],(function a(b,c,d,e,f,g){var h=c("JSLogger").create("chat_options"),i={};(function(){var k=c("ChatOptionsInitialData");for(var l in k){var m=k[l];if(l==="call_blocked_until")c("FBRTCCallBlockingStore").init(m);else i[l]=!!m}})();var j=Object.assign(new(c("Arbiter"))(),{getSetting:function k(l){return i[l]},setSetting:function k(l,m,n){if(l==="sidebar_mode"){c("ChatSidebarVisibility").shouldShowSidebarIgnoreEnabled(null,function(o,p){if(m)c("ChatSidebarActions").enable(o?c("SidebarType").SIDEBAR:c("SidebarType").BUDDYLIST);else c("ChatSidebarActions").disable()});return}if(this.getSetting(l)==m)return;if(n){n="from_"+n;h.log(n,{name:l,new_value:m,old_value:this.getSetting(l)})}i[l]=!!m;c("Arbiter").inform("chat/option-changed",{name:l,value:m})}});c("Arbiter").subscribe(c("ChannelConstants").getArbiterType("setting"),function(k,l){var m=l.obj;if(m.window_id===c("PresenceUtil").getSessionID())return;j.setSetting(m.setting,!!m.value,"channel")});c("Arbiter").subscribe(c("JSLogger").DUMP_EVENT,function(k,l){l.chat_options=i});f.exports=j}),null);
__d("ChatUnreadCountActionTypes",["keyMirror"],(function a(b,c,d,e,f,g){"use strict";f.exports=c("keyMirror")({COUNT_UPDATED:null})}),null);
__d("ChatPerfTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:ChatPerfLoggerConfig",this.$ChatPerfTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:ChatPerfLoggerConfig",this.$ChatPerfTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$ChatPerfTypedLogger1={};return this};h.prototype.updateData=function(j){this.$ChatPerfTypedLogger1=babelHelpers["extends"]({},this.$ChatPerfTypedLogger1,j);return this};h.prototype.setDuration=function(j){this.$ChatPerfTypedLogger1.duration=j;return this};h.prototype.setEndpoint=function(j){this.$ChatPerfTypedLogger1.endpoint=j;return this};h.prototype.setEvent=function(j){this.$ChatPerfTypedLogger1.event=j;return this};h.prototype.setTabsOpen=function(j){this.$ChatPerfTypedLogger1.tabs_open=j;return this};var i={duration:true,endpoint:true,event:true,tabs_open:true};f.exports=h}),null);
__d("FantaConst",[],(function a(b,c,d,e,f,g){"use strict";var h={DEFAULT_ALLOWED_RAISED_TABS:2,DEFAULT_MESSAGE_COUNT:10,cookieIDs:{PERSONAL_COOKIE_ID:"t3",PERSONAL_FOCUS_COOKIE_ID:"lm3",PERSONAL_TIME_COOKIE_ID:"utc3",WORK_COOKIE_ID:"t3w",WORK_FOCUS_COOKIE_ID:"lm3w",WORK_TIME_COOKIE_ID:"utc3w"},getCookieIDs:function i(){return[h.cookieIDs.PERSONAL_COOKIE_ID,h.cookieIDs.PERSONAL_FOCUS_COOKIE_ID,h.cookieIDs.PERSONAL_TIME_COOKIE_ID,h.cookieIDs.WORK_COOKIE_ID,h.cookieIDs.WORK_FOCUS_COOKIE_ID,h.cookieIDs.WORK_TIME_COOKIE_ID]}};f.exports=h}),null);
__d("Dcode",[],(function a(b,c,d,e,f,g){var h,i={},j={_:"%",A:"%2",B:"000",C:"%7d",D:"%7b%22",E:"%2c%22",F:"%22%3a",G:"%2c%22ut%22%3a1",H:"%2c%22bls%22%3a",I:"%2c%22n%22%3a%22%",J:"%22%3a%7b%22i%22%3a0%7d",K:"%2c%22pt%22%3a0%2c%22vis%22%3a",L:"%2c%22ch%22%3a%7b%22h%22%3a%22",M:"%7b%22v%22%3a2%2c%22time%22%3a1",N:".channel%22%2c%22sub%22%3a%5b",O:"%2c%22sb%22%3a1%2c%22t%22%3a%5b",P:"%2c%22ud%22%3a100%2c%22lc%22%3a0",Q:"%5d%2c%22f%22%3anull%2c%22uct%22%3a",R:".channel%22%2c%22sub%22%3a%5b1%5d",S:"%22%2c%22m%22%3a0%7d%2c%7b%22i%22%3a",T:"%2c%22blc%22%3a1%2c%22snd%22%3a1%2c%22ct%22%3a",U:"%2c%22blc%22%3a0%2c%22snd%22%3a1%2c%22ct%22%3a",V:"%2c%22blc%22%3a0%2c%22snd%22%3a0%2c%22ct%22%3a",W:"%2c%22s%22%3a0%2c%22blo%22%3a0%7d%2c%22bl%22%3a%7b%22ac%22%3a",X:"%2c%22ri%22%3a0%7d%2c%22state%22%3a%7b%22p%22%3a0%2c%22ut%22%3a1",Y:"%2c%22pt%22%3a0%2c%22vis%22%3a1%2c%22bls%22%3a0%2c%22blc%22%3a0%2c%22snd%22%3a1%2c%22ct%22%3a",Z:"%2c%22sb%22%3a1%2c%22t%22%3a%5b%5d%2c%22f%22%3anull%2c%22uct%22%3a0%2c%22s%22%3a0%2c%22blo%22%3a0%7d%2c%22bl%22%3a%7b%22ac%22%3a"};(function(){var l=[];for(var m in j){i[j[m]]=m;l.push(j[m])}l.reverse();h=new RegExp(l.join("|"),"g")})();var k={encode:function l(m){return encodeURIComponent(m).replace(/([_A-Z])|%../g,function(n,o){return o?"%"+o.charCodeAt(0).toString(16):n}).toLowerCase().replace(h,function(n){return i[n]})},decode:function l(m){return decodeURIComponent(m.replace(/[_A-Z]/g,function(n){return j[n]}))}};f.exports=k}),null);
__d("PresenceCookieManager",["Cookie","CurrentUser","Dcode","ErrorUtils","JSLogger","PresenceInitialData","PresenceUtil","WebStorage","WorkModeConfig"],(function a(b,c,d,e,f,g){var h=c("PresenceInitialData").cookieVersion,i="presence",j={},k=null,l=null,m=c("JSLogger").create("presence_cookie");function n(y){var z=c("Cookie").get(i)||"";if(z.length===0)return null;if(z[0]!==y)return null;return z.substring(1)}function o(y,z){c("Cookie").set(i,y+z)}function p(){if(!(c("PresenceInitialData").useWebStorage||false))return null;return c("WebStorage").getSessionStorage()}function q(){var y=p(),z=y!=null?y.getItem(i):null;if(z!=null)return z.substring(1);return null}function r(y){var z=p();if(z==null)return false;z.setItem(i,"E"+y);return true}function s(){var y=q();if(y!=null)return y;return n("E")}function t(y){var z=y.state;if(z==null)return"";var A=n("S")||"",B=c("WorkModeConfig").is_work_user?"w":"f",C=c("WorkModeConfig").is_work_user?z.t3w:z.t3,D=C!=null?C.length>0:false,E=A.indexOf(B)!==-1;if(E&&!D)A=A.replace(B,"");if(!E&&D)A+=B;return A}function u(y,z){var A=r(y);if(A)o("S",z);else{if(y.length>1024)m.warn("big_cookie",y.length);o("E",y)}}function v(){try{var y=s();if(k!==y){k=y;l=null;if(y){y=c("Dcode").decode(y);l=JSON.parse(y)}}if(l){if(l.user&&l.user!==c("CurrentUser").getID())return null;if(l.v!==h)return null;return l}}catch(z){m.warn("getcookie_error",z)}return null}function w(){return parseInt(Date.now()/1e3,10)}var x={register:function y(z,A){j[z]=A},store:function y(){var z=v();if(z&&z.v&&h<z.v){m.debug("stale_cookie",h);return}var A={v:h,time:w(),user:c("CurrentUser").getID()};for(var B in j)A[B]=c("ErrorUtils").applyWithGuard(j[B],j,[z&&z[B]],function(D){D.presence_subcookie=B});var C=c("Dcode").encode(JSON.stringify(A));if(c("PresenceUtil").hasUserCookie())u(C,t(A))},clear:function y(){c("Cookie").clear(i);var z=c("WebStorage").getSessionStorage();if(z!=null)z.removeItem(i)},getSubCookie:function y(z){var A=v();if(!A)return null;return A[z]}};f.exports=x}),null);
__d("PresenceState",["Arbiter","ErrorUtils","FantaConst","JSLogger","PresenceCookieManager","debounceAcrossTransitions","setIntervalAcrossTransitions","PresenceInitialData"],(function a(b,c,d,e,f,g){"use strict";var h=c("PresenceInitialData").cookiePollInterval||2e3,i=c("PresenceInitialData").shouldSuppress||false,j=[],k=[],l=null,m=null,n=0,o=null,p=0,q=["sb2","tr","tw","at","wml"].concat(c("FantaConst").getCookieIDs()),r=c("JSLogger").create("presence_state");function s(){return c("PresenceCookieManager").getSubCookie("state")}function t(){n=Date.now();c("PresenceCookieManager").store();x(m)}var u=c("debounceAcrossTransitions")(t,0);function v(C){if(C==undefined||isNaN(C)||C==Number.POSITIVE_INFINITY||C==Number.NEGATIVE_INFINITY)C=0;return C}function w(C){var D={};if(C){q.forEach(function(G){if(C&&C[G])D[G]=C[G]});if(n<C.ut)r.error("new_cookie",{cookie_time:C.ut,local_time:n})}D.ut=n;for(var E=0,F=j.length;E<F;E++)c("ErrorUtils").applyWithGuard(j[E],null,[D]);m=D;return m}function x(C){p++;n=v(C&&C.ut);if(!l)l=c("setIntervalAcrossTransitions")(A,h);m=C;if(o===null)o=C;for(var D=0,E=k.length;D<E;D++)c("ErrorUtils").applyWithGuard(k[D],null,[C]);p--}function y(C){if(C&&C.ut)if(n<C.ut)return true;else if(C.ut<n)r.error("old_cookie",{cookie_time:C.ut,local_time:n});return false}function z(){var C=s();if(y(C))m=C;return m}function A(){var C=s();if(y(C))x(C)}c("PresenceCookieManager").register("state",w);c("Arbiter").subscribe(c("JSLogger").DUMP_EVENT,function(C,D){D.presence_state={initial:babelHelpers["extends"]({},o),state:babelHelpers["extends"]({},m),update_time:n,sync_paused:p,poll_time:h}});(function(){var C=z();if(C)x(C);else{r.debug("no_cookie_initial");x(w());return}})();var B={doSync:function C(D){if(p)return;if(D)t();else u()},registerStateStorer:function C(D){j.push(D)},registerStateLoader:function C(D){k.push(D)},get:function C(){return z()},getInitial:function C(){return o},shouldSuppress:function C(){return i},verifyNumber:v};f.exports=B}),null);
__d("ChatPerfInstrumentation",["Promise","BaseEventEmitter","ChatPerfEvent","ChatPerfTypedLogger","FantaConst","PresenceState","WorkModeConfig","emptyFunction","performanceAbsoluteNow"],(function a(b,c,d,e,f,g){"use strict";var h=c("WorkModeConfig").is_work_user,i=h?c("FantaConst").cookieIDs.WORK_COOKIE_ID:c("FantaConst").cookieIDs.PERSONAL_COOKIE_ID,j=c("PresenceState").getInitial(),k=j&&j[i]?j[i].length:0,l=void 0,m={_startTime:Number,_sidebarStartTime:Number,init:function n(){this._startTime=c("performanceAbsoluteNow")();return new(c("Promise"))(function(o){return o()})},initDivebar:function n(){this._sidebarStartTime=c("performanceAbsoluteNow")()},_log:function n(event,o){var p=c("performanceAbsoluteNow")()-(o||this._startTime);if(l)l.emit(event,p);var q=new(c("ChatPerfTypedLogger"))();q.setEvent(event).setDuration(p);q.setTabsOpen(k);q.log()},addPerfTimingsListener:function n(event,o){if(!l)l=new(c("BaseEventEmitter"))();return l.once(event,o)},logInitStores:function n(){this.logInitStores=c("emptyFunction");this._log(c("ChatPerfEvent").CHAT_INIT_STORES)},logInitData:function n(){this.logInitData=c("emptyFunction");this._log(c("ChatPerfEvent").CHAT_INIT_DATA)},logInitUI:function n(){this.logInitUI=c("emptyFunction");this._log(c("ChatPerfEvent").CHAT_INIT_UI)},logInitSound:function n(){this.logInitSound=c("emptyFunction");this._log(c("ChatPerfEvent").CHAT_INIT_SOUND)},logDisplayDone:function n(){this.logDisplayDone=c("emptyFunction");this._log(c("ChatPerfEvent").CHAT_DISPLAY_DONE)},logTTI:function n(){this.logTTI=c("emptyFunction");this._log(c("ChatPerfEvent").TTI)},logCHAT_CONVERSATION_TTI:function n(){this.logCHAT_CONVERSATION_TTI=c("emptyFunction");this._log(c("ChatPerfEvent").CHAT_CONVERSATION_TTI)},logSIDEBAR_FROM_CLIENT_TTI:function n(){this.logSIDEBAR_FROM_CLIENT_TTI=c("emptyFunction");this._log(c("ChatPerfEvent").SIDEBAR_FROM_CLIENT_TTI,this._sidebarStartTime)},logSIDEBAR_DISPLAY_DONE:function n(){this.logSIDEBAR_DISPLAY_DONE=c("emptyFunction");this._log(c("ChatPerfEvent").SIDEBAR_DISPLAY_DONE,this._sidebarStartTime)}};f.exports=m}),null);
__d("FantaDispatcher",["ExplicitRegistrationDispatcher"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("ExplicitRegistrationDispatcher"));i=h&&h.prototype;function j(){h.apply(this,arguments)}f.exports=new j({strict:false})}),null);
__d("WebMessengerThreadPermalinks",["MercuryIDs","MessagingTag","MessengerURIConstants","URI","WWWBase","requireWeak"],(function a(b,c,d,e,f,g){"use strict";var h={getThreadURI:function j(k,l,m){var n="";if(c("MercuryIDs").isCanonical(k))n=c("MercuryIDs").tokenize(k).value;else c("requireWeak")("MercuryThreadIDMap",function(p){n=p.get().getServerIDFromClientIDNow(k)});var o=h.getThreadURIFromServerID(n,m);l&&l(o)},getThreadURIFromServerID:function j(k,l){var m=new(c("URI"))(c("WWWBase").uri),n=c("MessengerURIConstants").FACEBOOK_PREFIX;if(l)switch(l){case c("MessagingTag").OTHER:n+="/filtered";break;case c("MessagingTag").PENDING:n+="/requests";break;case c("MessagingTag").INBOX:break;default:n+="/"+l;break}m.setPath(n+c("MessengerURIConstants").THREAD_PREFIX+k);return m.toString()},getThreadURIFromUserID:function j(k,l){var m=new(c("URI"))(c("WWWBase").uri),n=c("MessengerURIConstants").FACEBOOK_PREFIX;m.setPath(i(n,l)+"/t/"+k);return m.toString()}};function i(j,k){if(k&&k!=c("MessagingTag").INBOX)j+="/"+k;return j}f.exports=h}),null);
__d("FantaTabActions",["Bootloader","FantaDispatcher","MercuryConfig","MessengerURIConstants","URI","WebMessengerThreadPermalinks","goURI","ifRequired","keyMirror"],(function a(b,c,d,e,f,g){"use strict";var h=c("keyMirror")({BLUR_TAB:null,CLOSE_ALL_TABS:null,CLOSE_AND_TAB_NEXT:null,CLOSE_TAB:null,DELETE_TAB:null,FOCUS_NEXT_TAB:null,FOCUS_PREVIOUS_TAB:null,FOCUS_TAB:null,HOVERED_TAB:null,LOAD_FROM_DATA:null,MINIMIZE_ALL_TABS:null,MINIMIZE_TAB:null,OPEN_TAB_WITH_INTERSTITIAL_DATA:null,OPEN_TAB:null,REPLACE_TAB:null,SCROLL_BOTTOM_CHANGED:null,SET_ALLOWED_RAISED_TABS:null,SET_MESSAGE_COUNT:null,SHOW_UNSEEN_MESSAGES:null,UNHOVERED_TAB:null,UNMINIMIZE_TAB:null});function i(l){var m=l?new(c("URI"))(c("WebMessengerThreadPermalinks").getThreadURIFromServerID(l)):new(c("URI"))(c("MessengerURIConstants").COMPOSE_SUBPATH);c("ifRequired")("BusinessURI.brands",function(n){return c("goURI")(n(m))},function(){return c("goURI")(m)})}function j(l,m){if(c("MercuryConfig").ChatOpenEventually)setTimeout(function(){k.openTabEventually(l,m)},100);else i(l)}var k={Types:h,openTab:function l(m,n){c("ifRequired")("FantaTabsEagerBootloader",function(o){return o.bootload()});this.dispatchOrBootloadGetMessages(function(){c("FantaDispatcher").dispatch({type:h.OPEN_TAB,tabID:m,entryPoint:n});c("ifRequired")("FantaTabsReactApp",function(o){this._tryLoadSlimApp(m,n)}.bind(this),function(){this._tryLoadSlimApp(m,n,function(){return i(m)})}.bind(this))}.bind(this))},openTabEventually:function l(m,n){this.dispatchOrBootloadGetMessages(function(){c("FantaDispatcher").dispatch({type:h.OPEN_TAB,tabID:m,entryPoint:n});c("ifRequired")("FantaTabsReactApp",function(o){this._tryLoadSlimApp(m,n)}.bind(this),function(){this._tryLoadSlimApp(m,n,function(){return j(m,n)})}.bind(this))}.bind(this))},openInterstitialTab:function l(m,n,o){this.dispatchOrBootloadGetMessages(function(){c("FantaDispatcher").dispatch({type:h.OPEN_TAB_WITH_INTERSTITIAL_DATA,tabID:m,interstitialData:n,entryPoint:o});c("ifRequired")("FantaTabsReactApp",function(p){this._tryLoadSlimAppWithInterstitialData(m,n,o)}.bind(this),function(){this._tryLoadSlimAppWithInterstitialData(m,n,o)}.bind(this))}.bind(this))},_tryLoadSlimApp:function l(m,n,i){c("ifRequired")("FantaTabsSlimApp",function(o){c("ifRequired")("FantaAppStore",function(){},function(){o.getPumpedUp(function(){c("FantaDispatcher").dispatch({type:h.OPEN_TAB,tabID:m,entryPoint:n})})})},function(){return i&&i(m)})},_tryLoadSlimAppWithInterstitialData:function l(m,n,o){c("ifRequired")("FantaTabsSlimApp",function(p){c("ifRequired")("FantaAppStore",function(){},function(){p.getPumpedUp(function(){c("FantaDispatcher").dispatch({type:h.OPEN_TAB_WITH_INTERSTITIAL_DATA,tabID:m,interstitialData:n,entryPoint:o})})})})},replaceTab:function l(m,n){c("FantaDispatcher").dispatch({type:h.REPLACE_TAB,tabID:m,newTabID:n})},minimizeTab:function l(m){c("FantaDispatcher").dispatch({type:h.MINIMIZE_TAB,tabID:m})},minimizeAllTabs:function l(){c("FantaDispatcher").dispatch({type:h.MINIMIZE_ALL_TABS})},unminimizeTab:function l(m){c("FantaDispatcher").dispatch({type:h.UNMINIMIZE_TAB,tabID:m})},closeTab:function l(m){c("FantaDispatcher").dispatch({type:h.CLOSE_TAB,tabID:m})},closeAllTabs:function l(){c("FantaDispatcher").dispatch({type:h.CLOSE_ALL_TABS})},closeAndTabNext:function l(m){c("FantaDispatcher").dispatch({type:h.CLOSE_AND_TAB_NEXT,tabID:m})},deleteTab:function l(m){c("FantaDispatcher").dispatch({type:h.DELETE_TAB,tabID:m})},focusTab:function l(m){c("FantaDispatcher").dispatch({type:h.FOCUS_TAB,tabID:m})},blurTab:function l(m){c("FantaDispatcher").dispatch({type:h.BLUR_TAB,tabID:m})},hoveredTab:function l(m){c("FantaDispatcher").dispatch({type:h.HOVERED_TAB,tabID:m})},unhoveredTab:function l(m){c("FantaDispatcher").dispatch({type:h.UNHOVERED_TAB,tabID:m})},setAllowedRaisedTabs:function l(m){c("FantaDispatcher").dispatch({type:h.SET_ALLOWED_RAISED_TABS,allowedRaisedTabs:m})},loadFromData:function l(m){this.dispatchOrBootloadGetMessages(function(){c("FantaDispatcher").dispatch({type:h.LOAD_FROM_DATA,tabData:m})})},focusNextTab:function l(event){c("FantaDispatcher").dispatch({type:h.FOCUS_NEXT_TAB,event:event})},focusPreviousTab:function l(event){c("FantaDispatcher").dispatch({type:h.FOCUS_PREVIOUS_TAB,event:event})},scrollBottomChanged:function l(m,n,o){c("FantaDispatcher").dispatch({type:h.SCROLL_BOTTOM_CHANGED,isScrolledToBottom:n,tabID:m,showUnseenMessages:o})},showUnseenMessages:function l(m){c("FantaDispatcher").dispatch({type:h.SHOW_UNSEEN_MESSAGES,tabID:m})},dispatchOrBootloadGetMessages:function l(m){c("ifRequired")("FantaReducersGetMessages",function(){m()},function(){c("ifRequired")("FantaAppStore",function(n){c("Bootloader").loadModules(["FantaReducersGetMessages"],function(o){n.addReducers(o);m()},"FantaTabActions")},function(){m()})})}};f.exports=k}),null);
__d("MessengerDispatcher",["Dispatcher_DEPRECATED"],(function a(b,c,d,e,f,g){"use strict";f.exports=new(c("Dispatcher_DEPRECATED"))()}),null);
__d("FBRTCSupport",["ChannelConstants","RTCConfig","UserAgent"],(function a(b,c,d,e,f,g){var h={isSendWebrtcSupported:function i(){return c("RTCConfig").SendNewVCGK},isReceiveWebrtcSupported:function i(){return c("RTCConfig").ReceiveNewVCGK},isVideoInteropSupported:function i(){return c("RTCConfig").VideoInteropGK},isVideoCallBlockingSupported:function i(){return c("RTCConfig").VideoCallBlockingGK},isWebrtcSupported:function i(){return c("UserAgent").isBrowser("Chrome >= 28")||c("UserAgent").isBrowser("Firefox >= 25")||c("RTCConfig").RtcUseWebRTCForEdge&&c("UserAgent").isBrowser("Edge >= 15.15042")||c("UserAgent").isBrowser("Opera >= 20")},isGroupCallWebtrcSupported:function i(){return c("UserAgent").isBrowser("Chrome >= 28")||c("UserAgent").isBrowser("Opera >= 20")},isCollabSupported:function i(){return h.isWebrtcSupported()&&(c("RTCConfig").CollabWhitelistedBrowserGK||c("UserAgent").isBrowser("Chrome >= 48"))},isWirelessScreenSharingSupported:function i(){return c("RTCConfig").CollabWirelessScreenSharingGK&&c("UserAgent").isBrowser("Chrome >= 48")},isOSSupported:function i(){return!c("UserAgent").isPlatform("Android")&&!c("UserAgent").isPlatform("iOS")},getCapabilities:function i(){var j=0;if(this.isReceiveWebrtcSupported())j=c("ChannelConstants").CAPABILITY_VOIP_INTEROP;return j}};f.exports=h}),null);
__d("MercuryLoggingHelper",[],(function a(b,c,d,e,f,g){function h(j){return Array.from(j).slice(0,6).join("")}var i={obfuscateThread:function j(k){var l=babelHelpers["extends"]({},k);if(k&&k.snippet&&k.snippet.length>9)l.snippet=h(k.snippet)+"...";return l},obfuscateMessage:function j(k){var l=babelHelpers["extends"]({},k);if(k&&k.body&&k.body.length>9)l.body=h(k.body)+"...";return l}};f.exports=i}),null);
__d("Poller",["ArbiterMixin","AsyncRequest","CurrentUser","emptyFunction","mixin","setTimeoutAcrossTransitions","setTimeout"],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c("mixin")(c("ArbiterMixin")));i=h&&h.prototype;function j(l){"use strict";i.constructor.call(this);this._config=babelHelpers["extends"]({clearOnQuicklingEvents:true,setupRequest:c("emptyFunction"),maxRequests:Infinity},l);this._handle=null;this._isSkipIndefinitely=false;this._hasSkippedRequest=false;this._requests=0;this._muted=false;this._polling=false;this._skip=false;this._cancelRequest=c("emptyFunction");if(!this._config.dontStart)this.start()}j.prototype.start=function(){"use strict";if(this._polling)return this;this._requests=0;this.request();return this};j.prototype.stop=function(){"use strict";this._cancelRequest();return this};j.prototype.mute=function(){"use strict";this._muted=true;return this};j.prototype.resume=function(){"use strict";if(this._muted){this._muted=false;if(this._handle===null&&this._polling)return this.request()}if(this._isSkipIndefinitely){this._isSkipIndefinitely=false;return this.request()}return this};j.prototype.skip=function(){"use strict";this._skip=true;return this};j.prototype.startSkipIndefinitely=function(){"use strict";this._isSkipIndefinitely=true;return this};j.prototype.stopSkipIndefinitely=function(){"use strict";this._isSkipIndefinitely=false;if(this._hasSkippedRequest)return this.request();else return this};j.prototype.isSkipIndefinitely=function(){"use strict";return this._isSkipIndefinitely};j.prototype.reset=function(){"use strict";return this.stop().start()};j.prototype.request=function(){"use strict";this._cancelRequest();this._polling=true;if(!this._config.allowNotLoggedIn&&!k())return this._done();if(this._muted)return this;var l=false;this._cancelRequest=function(){l=true;this._cleanup()}.bind(this);if(this._isSkipIndefinitely){this._deferRequest();this._hasSkippedRequest=true;return this}else this._hasSkippedRequest=false;if(++this._requests>this._config.maxRequests)return this._done();var m=new(c("AsyncRequest"))();m.setIsBackgroundRequest(true);m.setInitialHandler(function(){return!l});m.setFinallyHandler(this._deferRequest.bind(this));m.setInitialHandler=c("emptyFunction");m.setFinallyHandler=c("emptyFunction");this._config.setupRequest(m,this);if(this._skip){this._skip=false;c("setTimeoutAcrossTransitions")(this._deferRequest.bind(this),0)}else m.send();return this};j.prototype.isPolling=function(){"use strict";return this._polling};j.prototype.isMuted=function(){"use strict";return this._muted};j.prototype.setInterval=function(l){"use strict";if(l){this._config.interval=l;this.start()}};j.prototype.getInterval=function(){"use strict";return this._config.interval};j.prototype._cleanup=function(){"use strict";if(this._handle!==null)clearTimeout(this._handle);this._handle=null;this._cancelRequest=c("emptyFunction");this._polling=false};j.prototype._done=function(){"use strict";this._cleanup();this.inform("done",{sender:this});return this};j.prototype._deferRequest=function(){"use strict";if(!this._polling)return;if(this._requests<this._config.maxRequests){var l=this._config.interval;l=typeof l==="function"?l(this._requests):l;l=l>j.MIN_INTERVAL?l:j.MIN_INTERVAL;if(this._config.clearOnQuicklingEvents)this._handle=c("setTimeout")(this.request.bind(this),l);else this._handle=c("setTimeoutAcrossTransitions")(this.request.bind(this),l)}else this._done()};j.MIN_INTERVAL=2e3;function k(){return c("CurrentUser").isLoggedInNow()}f.exports=j}),null);