if (self.CavalryLogger) { CavalryLogger.start_js(["AraIY"]); }

__d("XBrowserPushDisabledController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/notifications/client/push/disabled/",{})}),null);
__d("XBrowserPushXOutController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/notifications/client/push/xout/",{})}),null);
__d("XServiceWorkerSessionChangeController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/service_workers/session/persist/",{})}),null);
__d("BrowserPushSessionChange.react",["cx","fbt","ix","AsyncRequest","BanzaiLogger","Image.react","ImageBlock.react","LayerFadeOnHide","React","ReloadPage","XBrowserPushDisabledController","XBrowserPushXOutController","XServiceWorkerSessionChangeController","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogOkayButton.react","XUIDialogTitle.react","XUISpinner.react","XUIText.react"],(function a(b,c,d,e,f,g,h,i,j){var k,l,m=c("React").PropTypes;k=babelHelpers.inherits(n,c("React").Component);l=k&&k.prototype;function n(){var o,p;"use strict";for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=l.constructor).call.apply(o,[this].concat(r)),this.state={dialogShown:true,spin:false},this.$BrowserPushSessionChange1=function(t){if(t)return;this.setState({dialogShown:false});this.$BrowserPushSessionChange2("session_keep");var u=c("XServiceWorkerSessionChangeController").getURIBuilder().getURI();new(c("AsyncRequest"))().setURI(u).setMethod("POST").setData({app_id:this.props.push.appID}).setAllowCrossPageTransition(true).setHandler(function(v){this.props.onHide()}.bind(this)).send()}.bind(this),this.$BrowserPushSessionChange3=function(){this.setState({spin:true});this.$BrowserPushSessionChange2("session_uninstall");this.$BrowserPushSessionChange2("xout");var t=c("XBrowserPushXOutController").getURIBuilder().getURI(),u=function(){this.props.push.unregisterPushAndSW(c("XBrowserPushDisabledController"),c("AsyncRequest")).done(function(v){c("ReloadPage").now()})}.bind(this);new(c("AsyncRequest"))().setURI(t).setMethod("POST").setHandler(u).setAllowCrossPageTransition(true).send()}.bind(this),p}n.prototype.$BrowserPushSessionChange2=function(event){"use strict";var o={event:event,appid:this.props.push.appID,surface:"session_change"};c("BanzaiLogger").log("BrowserPushLoggerConfig",o)};n.prototype.componentDidMount=function(){"use strict";this.$BrowserPushSessionChange2("session_change_prompt")};n.prototype.render=function(){"use strict";if(!this.state.dialogShown)return null;var o=j("92724");return c("React").createElement(c("XUIDialog.react"),{shown:true,behaviors:{LayerFadeOnHide:c("LayerFadeOnHide")},onToggle:this.$BrowserPushSessionChange1,width:445,key:"dialog"},c("React").createElement(c("XUIDialogTitle.react"),null,i._("Desktop Notifications Are On")),c("React").createElement(c("XUIDialogBody.react"),null,this.state.spin?c("React").createElement(c("XUISpinner.react"),{size:"large"}):c("React").createElement(c("ImageBlock.react"),{spacing:"medium"},c("React").createElement(c("Image.react"),{src:o,alt:i._("Desktop Notifications Are On")}),c("React").createElement("div",null,c("React").createElement("div",{className:"_3-8h"},c("React").createElement(c("XUIText.react"),{size:"large"},i._("When you get a new notification, you'll see it in the corner of your screen."))),c("React").createElement("div",{className:"_3-8h"},c("React").createElement(c("XUIText.react"),{size:"small"},i._("To be sure you get notifications, you'll now stay logged into Facebook on this computer. If you're using a public computer or don't want to stay logged in, click Undo to turn off desktop notifications.")))))),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIDialogButton.react"),{action:"button",label:i._("Undo"),onClick:this.$BrowserPushSessionChange3}),c("React").createElement(c("XUIDialogOkayButton.react"),{use:"confirm",action:"cancel"})))};n.propTypes={onHide:m.func.isRequired,push:m.object.isRequired};f.exports=n}),null);
__d("MockChromeBrowserNotification.react",["cx","fbt","ix","BrowserPushStrings","DOMContainer.react","Image.react","React","WorkModeConfig","isNode","joinClasses"],(function a(b,c,d,e,f,g,h,i,j){"use strict";var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;m.prototype.render=function(){var n=c("isNode")(this.props.message)?c("React").createElement(c("DOMContainer.react"),null,this.props.message):this.props.message,o=!this.props.image&&c("WorkModeConfig").is_work_user,p=this.props.image?this.props.image:this.props.defaultImage;return c("React").createElement("section",{className:c("joinClasses")(this.props.className,"_257o")},c("React").createElement("span",{className:"_61kd"}),c("React").createElement(c("Image.react"),{className:(!o?"_ega":"")+(o?" _2rk4":""),draggable:false,src:p}),c("React").createElement("div",{className:"_egb"},c("React").createElement("h3",null,c("BrowserPushStrings").title),c("React").createElement("p",null,n),c("React").createElement("cite",null,window.location.hostname)))};function m(){k.apply(this,arguments)}m.defaultProps={message:c("WorkModeConfig").work_chat_as_home?i._("You have new messages."):i._("You have new notifications."),defaultImage:c("WorkModeConfig").is_work_user?c("WorkModeConfig").work_chat_as_home?j("277478"):j("351290"):j("76304")};f.exports=m}),null);
__d("MockEdgeBrowserNotification.react",["cx","fbt","ix","BrowserPushStrings","DOMContainer.react","Image.react","React","WorkModeConfig","isNode","joinClasses"],(function a(b,c,d,e,f,g,h,i,j){"use strict";var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;m.prototype.render=function(){var n=c("isNode")(this.props.message)?c("React").createElement(c("DOMContainer.react"),null,this.props.message):this.props.message,o=i._("Microsoft Edge");return c("React").createElement("section",{className:c("joinClasses")(this.props.className,"_2eed")},c("React").createElement(c("Image.react"),{className:(!c("WorkModeConfig").is_work_user?"_2eee":"")+(c("WorkModeConfig").is_work_user?" _3_qv":""),draggable:false,src:this.props.image}),c("React").createElement("div",{className:"_2eef"},c("React").createElement("h3",{className:"_2eeg"},c("BrowserPushStrings").title),c("React").createElement("p",{className:"_2eeh"},n),c("React").createElement("div",{className:"_2eei"},o," \xb7 ",window.location.hostname)))};function m(){k.apply(this,arguments)}m.defaultProps={message:c("WorkModeConfig").work_chat_as_home?i._("You have new messages."):i._("You have new notifications."),image:c("WorkModeConfig").is_work_user?c("WorkModeConfig").work_chat_as_home?j("277478"):j("351290"):j("363137")};f.exports=m}),null);
__d("MockFirefoxBrowserNotification.react",["cx","fbt","ix","BrowserPushStrings","DOMContainer.react","Image.react","React","WorkModeConfig","isNode","joinClasses"],(function a(b,c,d,e,f,g,h,i,j){"use strict";var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;m.prototype.render=function(){var n=c("isNode")(this.props.message)?c("React").createElement(c("DOMContainer.react"),null,this.props.message):this.props.message,o=this.props.isWindows;return c("React").createElement("section",{className:c("joinClasses")(this.props.className,"_g5o")},o?this.$MockFirefoxBrowserNotification1(n):this.$MockFirefoxBrowserNotification2(n))};m.prototype.$MockFirefoxBrowserNotification2=function(n){return c("React").createElement("div",{className:"_g5p"},c("React").createElement("div",{className:"_g5q"},c("React").createElement(c("Image.react"),{draggable:false,src:j("355144")})),c("React").createElement("div",{className:"_g5r"},c("React").createElement("h3",null,c("BrowserPushStrings").title),c("React").createElement("cite",null,window.location.hostname),c("React").createElement("p",null,n)),c("React").createElement(c("Image.react"),{className:(!c("WorkModeConfig").is_work_user?"_g5u":"")+(c("WorkModeConfig").is_work_user?" _gcl":""),draggable:false,src:this.props.image}))};m.prototype.$MockFirefoxBrowserNotification1=function(n){return c("React").createElement("div",{className:"_g5w"},c("React").createElement("h3",null,c("BrowserPushStrings").title),c("React").createElement("div",{className:"_g5x"},c("React").createElement("span",{className:"_g5z"}),c("React").createElement("span",{className:"_g7w"})),c("React").createElement("div",{className:"_g5r"},c("React").createElement(c("Image.react"),{className:(!c("WorkModeConfig").is_work_user?"_g5u":"")+(c("WorkModeConfig").is_work_user?" _gcl":""),draggable:false,src:this.props.image}),c("React").createElement("div",{className:"_g7x"},c("React").createElement("p",null,n),c("React").createElement("cite",null,window.location.hostname))))};function m(){k.apply(this,arguments)}m.defaultProps={message:c("WorkModeConfig").work_chat_as_home?i._("You have new messages."):i._("You have new notifications."),image:c("WorkModeConfig").is_work_user?c("WorkModeConfig").work_chat_as_home?j("277478"):j("351290"):j("363137"),isWindows:false};f.exports=m}),null);
__d("MockBrowserNotification.react",["MockChromeBrowserNotification.react","MockEdgeBrowserNotification.react","MockFirefoxBrowserNotification.react","React","UserAgent"],(function a(b,c,d,e,f,g){"use strict";f.exports=function h(i){var j=c("UserAgent").isPlatform("Windows");if(c("UserAgent").isBrowser("Firefox"))return c("React").createElement(c("MockFirefoxBrowserNotification.react"),babelHelpers["extends"]({},i,{isWindows:j}));else if(c("UserAgent").isBrowser("Edge"))return c("React").createElement(c("MockEdgeBrowserNotification.react"),i);return c("React").createElement(c("MockChromeBrowserNotification.react"),babelHelpers["extends"]({},i,{isWindows:j}))}}),null);
__d("Spotlight",["csx","cx","Arbiter","ArbiterMixin","DOM","JSXDOM","Layer","LayerAutoFocus","LayerButtons","LayerTabIsolation","ModalLayer","Vector","classWithMixins","joinClasses","mixin"],(function a(b,c,d,e,f,g,h,i){var j,k;j=babelHelpers.inherits(l,c("classWithMixins")(c("Layer"),c("mixin")(c("ArbiterMixin"))));k=j&&j.prototype;function l(n,o){"use strict";k.constructor.call(this,n,o);this.stageMinSize=new(c("Vector"))(0,0);this.stagePadding=new(c("Vector"))(0,0)}l.prototype._buildWrapper=function(n,o){"use strict";var p=c("joinClasses")("_n8"+(n.wash==="dark"||!n.wash?" _3qx":"")+(n.wash==="xui"?" _4-hy":""),n.rootClassName);return c("JSXDOM").div({className:p},c("JSXDOM").div({className:"_n9"},o))};l.prototype._getDefaultBehaviors=function(){"use strict";return k._getDefaultBehaviors.call(this).concat([m,c("LayerAutoFocus"),c("LayerButtons"),c("LayerTabIsolation"),c("ModalLayer")])};l.prototype.getContentRoot=function(){"use strict";if(!this._content)this._content=c("DOM").find(this.getRoot(),"div._n3");return this._content};l.prototype.configure=function(n){"use strict";if(n.stageMinSize)this.stageMinSize=n.stageMinSize;if(n.stagePadding)this.stagePadding=n.stagePadding};l.prototype.onContentLoaded=function(){"use strict";this.inform("content-load")};l.prototype.updatePermalink=function(n){"use strict";this.inform("permalinkchange",n)};Object.assign(l.prototype,{stageMinSize:null,stagePadding:null});function m(n){"use strict";this._layer=n}m.prototype.enable=function(){"use strict";this._subscription=this._layer.subscribe(["show","hide"],function(n,o){if(n==="show")c("Arbiter").inform("layer_shown",{type:"Spotlight"});else c("Arbiter").inform("layer_hidden",{type:"Spotlight"})})};m.prototype.disable=function(){"use strict";this._subscription.unsubscribe();this._subscription=null};Object.assign(m.prototype,{_subscription:null});f.exports=l}),null);
__d("Spotlight.react",["LayerAutoFocusReact","LayerHideOnBlur","LayerHideOnEscape","LayerRefocusOnHide","ReactLayer","Spotlight","React"],(function a(b,c,d,e,f,g){var h=c("React").PropTypes,i=c("ReactLayer").createClass({propTypes:{causalElement:h.instanceOf(HTMLElement),onHide:h.func,rootClassName:h.string,shown:h.bool,wash:h.oneOf(["light","xui","dark"])},getDefaultEnabledBehaviors:function j(){return{hideOnBlur:c("LayerHideOnBlur"),hideOnEscape:c("LayerHideOnEscape"),refocusOnHide:c("LayerRefocusOnHide"),autoFocus:c("LayerAutoFocusReact")}},createLayer:function j(k){var l=this.enumerateBehaviors(this.props.behaviors),m={addedBehaviors:l,rootClassName:this.props.rootClassName,wash:this.props.wash},n=new(c("Spotlight"))(m,k);n.setCausalElement(this.props.causalElement);n.conditionShow(this.props.shown);if(this.props.onBeforeHide)n.subscribe("beforehide",this.props.onBeforeHide);if(this.props.onHide)n.subscribe("hide",this.props.onHide);return n},receiveProps:function j(k){if(this.layer){this.layer.setCausalElement(k.causalElement);this.layer.conditionShow(k.shown)}}});f.exports=i}),null);
__d("NotificationPermissionRequest.react",["cx","React","Spotlight.react"],(function a(b,c,d,e,f,g,h){var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.render=function(){"use strict";return c("React").createElement(c("Spotlight.react"),{shown:true,onHide:this.props.onHide,key:"spotlight"},c("React").createElement("div",{className:"_n3"}))};function l(){"use strict";i.apply(this,arguments)}l.propTypes={onHide:k.func};f.exports=l}),null);
__d("BrowserPushCommands",[],(function a(b,c,d,e,f,g){var h="browser_push_ack",i="browser_push_redirect",j="browser_push_window_visible",k={ACK:h,REDIRECT:i,WINDOW_VISIBLE:j};f.exports=k}),null);
__d("BrowserPushMessageRedirectUtil",["Bootloader"],(function a(b,c,d,e,f,g){var h=function h(i){var j="(messages)(.*?)(?:(tid=))([^&]*)",k=i.match(j);if(!k)return true;var l=k.pop();c("Bootloader").loadModules(["FantaTabActions"],function(m){m.openTab(l)},"BrowserPushMessageRedirectUtil");return false};f.exports=h}),null);
__d("BrowserPushMessageHandler",["BrowserPushCommands","BrowserPushMessageRedirectUtil","EventListener","URI","URISchemes","isFacebookURI"],(function a(b,c,d,e,f,g){function h(event){if(event.data.command&&event.data.command===c("BrowserPushCommands").REDIRECT){if(window.onbeforeunload()===undefined)event.ports[0].postMessage({command:c("BrowserPushCommands").ACK,success:true});else{event.ports[0].postMessage({command:c("BrowserPushCommands").ACK,success:false});return}var j=event.data.uri;if(/^([^.:/?#]+):/.test(j)&&!c("URISchemes").isAllowed(/^([^.:/?#]+):/.exec(j)[1])||!c("isFacebookURI")(new(c("URI"))(j)))throw new Error("goURI: URI scheme rejected, URI: "+j);if(c("BrowserPushMessageRedirectUtil")(j))window.location.href=j}}var i={registerRedirectHandler:function j(){c("EventListener").listen(window,"message",function(event){if(event.origin==="")h(event)});if(navigator.serviceWorker&&navigator.serviceWorker.addEventListener)navigator.serviceWorker.addEventListener("message",function(event){if(navigator.serviceWorker&&navigator.serviceWorker.controller&&event.target&&event.target.controller&&event.target.controller===navigator.serviceWorker.controller||new RegExp("^"+window.location.protocol+"//"+window.location.host+"$").test(event.origin))h(event)})}};f.exports=i}),null);
__d("BrowserPushVisibilityChanger",["BrowserPushCommands","ClientServiceWorkerMessage","Visibility"],(function a(b,c,d,e,f,g){function h(){new(c("ClientServiceWorkerMessage"))(c("BrowserPushCommands").WINDOW_VISIBLE,null).sendViaController()}var i={listenForVisibility:function j(){if(!c("Visibility").isHidden())h();c("Visibility").addListener(c("Visibility").VISIBLE,h)}};f.exports=i}),null);
__d("PushRegistration",["Promise","BrowserPushMessageHandler","BrowserPushVisibilityChanger","Map","ServiceWorkerRegistration","emptyFunction"],(function a(b,c,d,e,f,g){var h=window.Notification,i=new(c("Map"))();j.get=function(k,l){"use strict";if(i.has(l))return i.get(l);var m=new j(k,l);i.set(l,m);return m};function j(k,l){"use strict";this.$PushRegistration3=k;this.appID=l;if(!j.$PushRegistration1&&!j.$PushRegistration2){j.$PushRegistration1=false;j.$PushRegistration2=false}}j.prototype.getPushSubscription=function(){"use strict";return new(c("Promise"))(function(k,l){if(j.pushPermissionIsDenied())l(new Error("No permission or not supported"));c("ServiceWorkerRegistration").getWorkerRegistration(this.$PushRegistration3).then(function(m){if(!m){k(null);return}m.pushManager.getSubscription().then(function(n){k(n)})["catch"](l)})["catch"](l)}.bind(this))};j.prototype.$PushRegistration4=function(k){"use strict";var l=k.endpoint;if("subscriptionId"in k&&!new RegExp("/"+k.subscriptionId+"$").test(l))l+="/"+k.subscriptionId;return l};j.prototype.$PushRegistration5=function(k,l,m,n){"use strict";var o=this.$PushRegistration4(m),p=k.getURIBuilder().getURI(),q=new l(p),r=null;if(m.toJSON)r=m.toJSON().keys;else if(m.keys)r=m.keys;q.setData({app_id:this.appID,push_endpoint:o,subscription_keys:JSON.stringify(r)});q.setMethod("post");if(q.setHandler)q.setHandler(function(s){if(s.payload&&s.payload.session_change)n()});q.send()};j.prototype.getSubscription=function(){"use strict";return new(c("Promise"))(function(k,l){this.getPushSubscription().then(function(m){if(m)k(this.$PushRegistration4(m));else k(null)}.bind(this))["catch"](l)}.bind(this))};j.prototype.maybeRegisterPushAgain=function(k,l,m){"use strict";return new(c("Promise"))(function(n,o){this.getPushSubscription().then(function(p){if(p){this.$PushRegistration5(k,l,p,m);n(this.$PushRegistration4(p))}else n(null)}.bind(this))["catch"](function(){n(null)})}.bind(this))};j.prototype.$PushRegistration6=function(k,l,m){"use strict";return new(c("Promise"))(function(n,o){if(j.$PushRegistration2&&!m){o(new Error("sending disable info already"));return}j.$PushRegistration2=true;var p=k.getURIBuilder().getURI(),q=new l(p.toString());q.setData({appid:this.appID,from_browser_settings:m});q.setMethod("post");if(q.listen){q.listen("finally",n);q.listen("fail",function(){j.$PushRegistration2=false;o()})}else if(q.setErrorHandler&&q.setHandler){q.setErrorHandler(function(){j.$PushRegistration2=false;o()});q.setHandler(n)}else n();q.send()}.bind(this))};j.prototype.isPushRegistered=function(k,l,m,n){var o=arguments.length<=4||arguments[4]===undefined?false:arguments[4],p=arguments.length<=5||arguments[5]===undefined?c("emptyFunction"):arguments[5],q=arguments.length<=6||arguments[6]===undefined?false:arguments[6];"use strict";c("BrowserPushMessageHandler").registerRedirectHandler();return new(c("Promise"))(function(r,s){this.getPushSubscription().then(function(t){r(!!t||k&&!j.pushPermissionIsPending());if(t)if(o)self.$PushRegistration5(l,n,p,q);else c("BrowserPushVisibilityChanger").listenForVisibility();else if(!t&&k)if(j.pushPermissionIsOn())this.registerPush(l,n,p,q)["catch"](function(){});else this.$PushRegistration6(m,n,false)}.bind(this))["catch"](function(){if(k)this.$PushRegistration6(m,n,false);if(q)c("ServiceWorkerRegistration").unregisterControllingWorker();s()}.bind(this))}.bind(this))};j.prototype.$PushRegistration7=function(){"use strict";return new(c("Promise"))(function(k,l){h.requestPermission(k)})};j.prototype.registerPushAndWaitForEndpoint=function(k,l,m,n){"use strict";return new(c("Promise"))(function(o,p){this.$PushRegistration8(k,l,m,true,null,n).then(function(q){if(typeof q!=="string"){p(new Error("registerPushImpl did not return an endpoint"));return}o(q)})["catch"](p)}.bind(this))};j.prototype.registerPushOnKaiOS=function(k,l,m){"use strict";return new(c("Promise"))(function(n,o){m.waitForKaiOS().done(function(){m.registerPush(function(p){var q=JSON.parse(p.get("push_endpoint"));this.$PushRegistration5(k,l,q,c("emptyFunction"));n(this.$PushRegistration4(q))}.bind(this))}.bind(this))}.bind(this))};j.prototype.registerPush=function(k,l){var m=arguments.length<=2||arguments[2]===undefined?c("emptyFunction"):arguments[2],n=arguments.length<=3||arguments[3]===undefined?false:arguments[3];"use strict";return this.registerPushWithFinishedCallBack(k,l,m,null,n)};j.prototype.registerPushWithFinishedCallBack=function(k,l,m,n,o){"use strict";return new(c("Promise"))(function(p,q){this.$PushRegistration8(k,l,m,false,n,o).then(function(r){if(typeof r!=="boolean"){q(new Error("registerPushImpl did not return a boolean"));return}p(r)})["catch"](q)}.bind(this))};j.prototype.$PushRegistration8=function(k,l,m,n,o,p){"use strict";if(j.$PushRegistration1)return new(c("Promise"))(function(q,r){r(new Error("registering already"))});if(!self.PushManager)return c("Promise").reject(new Error("PushManager not found."));j.$PushRegistration1=true;return new(c("Promise"))(function(q,r){var s=c("ServiceWorkerRegistration").registerWorkerIfUnregistered(this.$PushRegistration3),t=this.$PushRegistration7();c("Promise").all([s,t]).then(function(u){var v=u[0];if(!j.pushPermissionIsOn()){if(p)v.unregister();throw new Error("Push permission was denied")}if(!n)q(true);v.pushManager.subscribe({userVisibleOnly:true}).then(function(w){if(n)q(this.$PushRegistration4(w));this.$PushRegistration5(k,l,w,m);if(o)o();c("BrowserPushVisibilityChanger").listenForVisibility()}.bind(this))["catch"](function(w){j.$PushRegistration1=false;if(p)v.unregister();r(w)})}.bind(this))["catch"](function(u){j.$PushRegistration1=false;r(u)})}.bind(this))};j.prototype.unregisterPushAndSWOnKaiOS=function(k,l,m,n){"use strict";return new(c("Promise"))(function(o,p){this.$PushRegistration6(k,l,n).then(function(){m.unregisterPush();o()})["catch"](p)}.bind(this))};j.prototype.unregisterPushAndSW=function(k,l){"use strict";return new(c("Promise"))(function(m,n){this.$PushRegistration6(k,l,true).then(function(){c("ServiceWorkerRegistration").unregisterControllingWorker().done(m)})["catch"](n)}.bind(this))};j.prototype.unregisterPushOnly=function(k,l){"use strict";return new(c("Promise"))(function(m,n){this.getPushSubscription().then(function(o){if(o)o.unsubscribe().then(this.$PushRegistration6(k,l,true)).then(function(){m(true)})["catch"](n);else n()}.bind(this))["catch"](n)}.bind(this))};j.pushPermissionIsPending=function(){"use strict";return window.Notification&&window.Notification.permission==="default"};j.pushPermissionIsOn=function(){"use strict";return window.Notification&&window.Notification.permission==="granted"};j.pushPermissionIsDenied=function(){"use strict";return window.Notification&&window.Notification.permission==="denied"};f.exports=j}),null);
__d("XBrowserPushUpsellXOutController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/notifications/client/push/upsellxout/",{})}),null);
__d("XPushRegisterServiceWorkerController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/push/register/service_worker/",{})}),null);
__d("NotificationJewelUpsell.react",["cx","fbt","ix","Arbiter","AsyncRequest","BanzaiLogger","BrowserPushStrings","Image.react","ImageBlock.react","NotificationPermissionRequest.react","PushRegistration","React","XBrowserPushDisabledController","XBrowserPushUpsellXOutController","XPushRegisterServiceWorkerController","XUIButton.react","XUICloseButton.react","emptyFunction"],(function a(b,c,d,e,f,g,h,i,j){var k,l,m="BrowserPushInstall/installed";k=babelHelpers.inherits(n,c("React").Component);l=k&&k.prototype;function n(o){"use strict";l.constructor.call(this,o);this.state={isInstalling:false,isHidden:true};this.$NotificationJewelUpsell3=function(){this.setState({isHidden:true})}.bind(this);this.$NotificationJewelUpsell4=function(){var p=c("XBrowserPushUpsellXOutController").getURIBuilder().getURI();new(c("AsyncRequest"))().setURI(p).setMethod("POST").send();c("Arbiter").inform(m);this.$NotificationJewelUpsell5("upsell_xout")}.bind(this);this.$NotificationJewelUpsell6=function(){this.$NotificationJewelUpsell5("turn_on");this.setState({isInstalling:true});this.$NotificationJewelUpsell1.registerPush(c("XPushRegisterServiceWorkerController"),c("AsyncRequest")).then(function(){c("Arbiter").inform(m);this.$NotificationJewelUpsell5("install")}.bind(this))["catch"](function(){c("Arbiter").inform(m);if(c("PushRegistration").pushPermissionIsDenied())this.$NotificationJewelUpsell5("deny");else this.$NotificationJewelUpsell5("install_ignore")}.bind(this))}.bind(this);this.$NotificationJewelUpsell1=c("PushRegistration").get(o.path,o.appID)}n.prototype.componentDidMount=function(){"use strict";this.$NotificationJewelUpsell1.isPushRegistered(this.props.isInstalled,c("XPushRegisterServiceWorkerController"),c("XBrowserPushDisabledController"),c("AsyncRequest")).then(function(o){if(!o&&!this.props.wasXOuted)this.$NotificationJewelUpsell2()}.bind(this))["catch"](c("emptyFunction"));c("Arbiter").subscribe(m,this.$NotificationJewelUpsell3)};n.prototype.$NotificationJewelUpsell2=function(){"use strict";this.setState({isHidden:false})};n.prototype.$NotificationJewelUpsell5=function(event){"use strict";c("BanzaiLogger").log("BrowserPushLoggerConfig",{event:event,appid:this.props.appID,surface:"jewel_upsell"})};n.prototype.render=function(){"use strict";if(this.state.isHidden)return null;var o=this.state.isInstalling?c("React").createElement(c("NotificationPermissionRequest.react"),{onHide:function(){return this.setState({isInstalling:false})}.bind(this)}):null;return c("React").createElement("section",{className:"_4by1"},o,c("React").createElement(c("ImageBlock.react"),{spacing:"large"},c("React").createElement(c("Image.react"),{draggable:false,src:j("287648")}),c("React").createElement("div",{className:"_4by2"},c("React").createElement("h4",null,c("BrowserPushStrings").turn_on),c("React").createElement("div",null,c("BrowserPushStrings").explanation),c("React").createElement(c("XUIButton.react"),{className:"_4by3",label:i._("Turn On"),onClick:this.$NotificationJewelUpsell6,use:"special"}))),c("React").createElement(c("XUICloseButton.react"),{className:"_4by4",onClick:this.$NotificationJewelUpsell4}))};f.exports=n}),null);
__d("NotificationPermissionNotice.react",["cx","fbt","Event","Keys","React","XUIAmbientNUX.react"],(function a(b,c,d,e,f,g,h,i){var j,k,l=[],m=c("React").PropTypes;j=babelHelpers.inherits(n,c("React").Component);k=j&&j.prototype;n.prototype.componentDidMount=function(){"use strict";l.push(c("Event").listen(window,"mousedown",this.props.onHide));l.push(c("Event").listen(window,"keydown",function(event){if(event.keyCode===c("Keys").ESC)this.props.onHide()}.bind(this)))};n.prototype.componentWillUnmount=function(){"use strict";while(l.length>0){var o=l.pop();o.remove()}};n.prototype.renderLayers=function(){"use strict";var o=this.props.shortText?i._("Click the lock to give {browser_name} permission to send you desktop notifications.",[i.param("browser_name",this.props.browserName)]):i._("If you change your mind, click the lock to give {browser_name} permission to send you desktop notifications.",[i.param("browser_name",this.props.browserName)]);return c("React").createElement(c("XUIAmbientNUX.react"),{contextRef:function(){return this.refs.noticeAnchor}.bind(this),shown:true,position:"below",onCloseButtonClick:this.props.onHide,key:"nux"},o)};n.prototype.render=function(){"use strict";return c("React").createElement("span",null,c("React").createElement("span",{ref:"noticeAnchor",className:"_1_i1"}),this.renderLayers())};function n(){"use strict";j.apply(this,arguments)}n.propTypes={onHide:m.func.isRequired,shortText:m.bool,browserName:m.string.isRequired};f.exports=n}),null);
__d("NotificationPermissionRequestWithPreview.react",["cx","fbt","ix","BrowserPushStrings","Image.react","ImageBlock.react","MockBrowserNotification.react","React","Spotlight.react","XUIAmbientNUX.react","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react"],(function a(b,c,d,e,f,g,h,i,j){"use strict";var k,l,m=function m(o){var p=void 0;return c("React").createElement(c("Spotlight.react"),{onHide:o.onHide,shown:o.shown,wash:"xui"},c("React").createElement("span",{ref:function q(r){return p=r},className:"_m4w"}),c("React").createElement("div",{className:"_n3"},c("React").createElement(c("XUIAmbientNUX.react"),{contextRef:function q(){return p},key:"nux",shown:o.shown,onCloseButtonClick:o.onHide,position:"below"},c("React").createElement("strong",null,i._("Almost Done!")),c("React").createElement("br",null),i._("Now, click \"Allow\" to finish activating notifications."))))};k=babelHelpers.inherits(n,c("React").Component);l=k&&k.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=l.constructor).call.apply(o,[this].concat(r)),this.state={acceptPromptShown:false,dialogShown:true,spinnerShown:false},this.$NotificationPermissionRequestWithPreview2=function(t){this.setState({dialogShown:t})}.bind(this),this.$NotificationPermissionRequestWithPreview3=function(){this.setState({acceptPromptShown:!this.props.showSpinnerWhileRequesting,dialogShown:this.props.showSpinnerWhileRequesting,spinnerShown:this.props.showSpinnerWhileRequesting});this.props.onAccept&&this.props.onAccept(this.$NotificationPermissionRequestWithPreview4)}.bind(this),this.$NotificationPermissionRequestWithPreview4=function(){if(this.$NotificationPermissionRequestWithPreview1)this.setState({acceptPromptShown:false,dialogShown:false})}.bind(this),this.$NotificationPermissionRequestWithPreview5=function(){this.setState({acceptPromptShown:false})}.bind(this),p}n.prototype.componentWillMount=function(){this.$NotificationPermissionRequestWithPreview1=true};n.prototype.componentWillUnmount=function(){this.$NotificationPermissionRequestWithPreview1=false};n.prototype.render=function(){var o=this.props,p=o.notificationImage,q=o.notificationMessage,r=c("React").createElement(c("MockBrowserNotification.react"),{className:"_m4x",image:p,message:q}),s=this.state.spinnerShown?c("React").createElement(c("XUIDialogBody.react"),null,c("React").createElement(c("ImageBlock.react"),{spacing:"large"},c("React").createElement(c("Image.react"),{draggable:false,src:j("287648")}),c("React").createElement("div",null,c("React").createElement("strong",null,i._("Almost Done!")),c("React").createElement("p",null,i._("Now, click \"Allow\" to finish activating notifications."))))):c("React").createElement(c("XUIDialogBody.react"),null,c("React").createElement(c("ImageBlock.react"),{spacing:"large"},c("React").createElement(c("Image.react"),{draggable:false,src:j("287648")}),c("React").createElement("div",null,this.props.isWebNotifications?c("BrowserPushStrings").explanation_web_notifications:c("BrowserPushStrings").explanation)),r),t=this.state.spinnerShown?null:c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIDialogButton.react"),{action:"cancel",label:i._("Not Now"),onClick:this.props.onClose}),c("React").createElement(c("XUIDialogButton.react"),{action:"button",label:i._("Turn On"),onClick:this.$NotificationPermissionRequestWithPreview3,use:"special"}));return c("React").createElement("div",{className:"_m4y"},c("React").createElement(c("XUIDialog.react"),{layerHideOnBlur:false,onToggle:this.$NotificationPermissionRequestWithPreview2,shown:this.state.dialogShown,titleID:"notification-permission-title",width:445},c("React").createElement(c("XUIDialogTitle.react"),{showCloseButton:false},c("React").createElement("span",{id:"notification-permission-title"},c("BrowserPushStrings").turn_on)),s,t),c("React").createElement(m,{shown:this.state.acceptPromptShown,onHide:this.$NotificationPermissionRequestWithPreview5}))};f.exports=n}),null);
__d("incognito",["regeneratorRuntime","Promise","UserAgent","WebStorage"],(function a(b,c,d,e,f,g){"use strict";function h(){var i;return c("regeneratorRuntime").async(function j(k){while(1)switch(k.prev=k.next){case 0:i=window.RequestFileSystem||window.webkitRequestFileSystem;if(!i){k.next=3;break}return k.abrupt("return",new(c("Promise"))(function(l){return i(window.TEMPORARY,10,function(){return l(false)},function(){return l(true)})}));case 3:if(!(c("UserAgent").isBrowser("IE >= 10")||c("UserAgent").isBrowser("Edge"))){k.next=5;break}return k.abrupt("return",!window.indexedDB);case 5:if(!c("UserAgent").isBrowser("Firefox >= 16")){k.next=7;break}return k.abrupt("return",new(c("Promise"))(function(l){var m=window.indexedDB.open("__test__");m.onsuccess=function(){return l(false)};m.onerror=function(n){n.preventDefault();l(true)}}));case 7:if(!c("UserAgent").isBrowser("Safari")){k.next=9;break}return k.abrupt("return",!c("WebStorage").getLocalStorage());case 9:return k.abrupt("return",false);case 10:case"end":return k.stop()}},null,this)}f.exports=h}),null);
__d("bs_block",[],(function a(b,c,d,e,f,g){"use strict";function h(i,j){j.tag=i;return j}g.__=h}),null);
__d("bs_caml_builtin_exceptions",[],(function a(b,c,d,e,f,g){"use strict";var h=["Out_of_memory",0],i=["Sys_error",-1],j=["Failure",-2],k=["Invalid_argument",-3],l=["End_of_file",-4],m=["Division_by_zero",-5],n=["Not_found",-6],o=["Match_failure",-7],p=["Stack_overflow",-8],q=["Sys_blocked_io",-9],r=["Assert_failure",-10],s=["Undefined_recursive_module",-11];h.tag=248;i.tag=248;j.tag=248;k.tag=248;l.tag=248;m.tag=248;n.tag=248;o.tag=248;p.tag=248;q.tag=248;r.tag=248;s.tag=248;g.out_of_memory=h;g.sys_error=i;g.failure=j;g.invalid_argument=k;g.end_of_file=l;g.division_by_zero=m;g.not_found=n;g.match_failure=o;g.stack_overflow=p;g.sys_blocked_io=q;g.assert_failure=r;g.undefined_recursive_module=s}),null);
__d("bs_caml_array",["bs_caml_builtin_exceptions"],(function a(b,c,d,e,f,g){"use strict";function h(p,q,i){var r=new Array(i),s=0,t=q;while(s<i){r[s]=p[t];s=s+1|0;t=t+1|0}return r}function i(p,q){while(true){var r=q,s=p;if(r){q=r[1];p=r[0].length+s|0;continue}else return s}}function j(p,q,r){while(true){var s=r,t=q;if(s){var u=s[0],v=u.length,w=t,x=0;while(x<v){p[w]=u[x];w=w+1|0;x=x+1|0}r=s[1];q=w;continue}else return 0}}function k(p){var q=i(0,p),r=new Array(q);j(r,0,p);return r}function l(p,q,r){if(q<0||q>=p.length)throw[c("bs_caml_builtin_exceptions").invalid_argument,"index out of bounds"];else{p[q]=r;return 0}}function m(p,q){if(q<0||q>=p.length)throw[c("bs_caml_builtin_exceptions").invalid_argument,"index out of bounds"];else return p[q]}function n(i,p){var q=new Array(i);for(var r=0,s=i-1|0;r<=s;++r)q[r]=p;return q}function o(p,q,r,s,i){if(s<=q){for(var t=0,u=i-1|0;t<=u;++t)r[t+s|0]=p[t+q|0];return 0}else{for(var v=i-1|0;v>=0;--v)r[v+s|0]=p[v+q|0];return 0}}g.caml_array_sub=h;g.caml_array_concat=k;g.caml_make_vect=n;g.caml_array_blit=o;g.caml_array_get=m;g.caml_array_set=l}),null);
__d("bs_caml_exceptions",[],(function a(b,c,d,e,f,g){"use strict";var h=[0];function i(m){m[1]=h[0];h[0]+=1;return m}function j(){h[0]+=1;return h[0]}function k(m){var n=j(0),o=[m,n];o.tag=248;return o}function l(m){if(m===undefined)return 0;else if(m.tag===248)return 1;else{var n=m[0];if(n!==undefined)return+(n.tag===248);else return 0}}g.caml_set_oo_id=i;g.get_id=j;g.create=k;g.isCamlExceptionOrOpenVariant=l}),null);
__d("bs_caml_int32",["bs_caml_builtin_exceptions"],(function a(b,c,d,e,f,g){"use strict";function h(n,o){if(o===0)throw c("bs_caml_builtin_exceptions").division_by_zero;else return n/o|0}function i(n,o){if(o===0)throw c("bs_caml_builtin_exceptions").division_by_zero;else return n%o}function j(n){return(n&255)<<8|(n&65280)>>>8}function k(n){return(n&255)<<24|(n&65280)<<8|(n&16711680)>>>8|(n&4278190080)>>>24}var l=Math.imul||function(n,o){o|=0;return((n>>16)*o<<16)+(n&65535)*o|0},m=k;g.div=h;g.mod_=i;g.caml_bswap16=j;g.caml_int32_bswap=k;g.caml_nativeint_bswap=m;g.imul=l}),null);
__d("bs_caml_obj",["bs_block","bs_caml_builtin_exceptions"],(function a(b,c,d,aa,ba,e){"use strict";function f(t){var u=t.length|0,v=new Array(u);for(var w=0,x=u-1|0;w<=x;++w)v[w]=t[w];v.tag=t.tag|0;return v}function g(t,u){var v=t.length|0;if(u<=0||u>v)throw[c("bs_caml_builtin_exceptions").invalid_argument,"Obj.truncate"];else if(v!==u){for(var w=u,x=v-1|0;w<=x;++w)t[w]=0;t.length=u;return 0}else return 0}function h(t){return c("bs_block").__(250,[t])}function i(t,u){var v=u.length|0;for(var w=0,x=v-1|0;w<=x;++w)t[w]=u[w];var y=u.tag|0;if(y!==0){t.tag=y;return 0}else return 0}function j(t,u){if(t<u)return-1;else if(t===u)return 0;else return 1}function k(t,u){while(true){var v=u,w=t,x=typeof w,y=typeof v;if(x==="string"){var z=w,A=v;if(z<A)return-1;else if(z===A)return 0;else return 1}else{var B=+(x==="number"),C=+(y==="number");if(B!==0)if(C!==0)return j(w,v);else return-1;else if(C!==0)return 1;else if(x==="boolean"||x==="undefined"||w===null){var D=w,E=v;if(D===E)return 0;else if(D<E)return-1;else return 1}else if(x==="function"||y==="function")throw[c("bs_caml_builtin_exceptions").invalid_argument,"compare: functional value"];else{var F=w.tag|0,G=v.tag|0;if(F===250){t=w[0];continue}else if(G===250){u=v[0];continue}else if(F===248)return j(w[1],v[1]);else if(F===251)throw[c("bs_caml_builtin_exceptions").invalid_argument,"equal: abstract value"];else if(F!==G)if(F<G)return-1;else return 1;else{var H=w.length|0,I=v.length|0;if(H===I){var J=w,K=v,L=0,M=H;while(true){var N=L;if(N===M)return 0;else{var O=k(J[N],K[N]);if(O!==0)return O;else{L=N+1|0;continue}}}}else if(H<I){var P=w,Q=v,R=0,S=H;while(true){var T=R;if(T===S)return-1;else{var U=k(P[T],Q[T]);if(U!==0)return U;else{R=T+1|0;continue}}}}else{var V=w,W=v,X=0,Y=I;while(true){var Z=X;if(Z===Y)return 1;else{var $=k(V[Z],W[Z]);if($!==0)return $;else{X=Z+1|0;continue}}}}}}}}}function l(t,u){while(true){var v=u,w=t;if(w===v)return 1;else{var x=typeof w;if(x==="string"||x==="number"||x==="boolean"||x==="undefined"||w===null)return 0;else{var y=typeof v;if(x==="function"||y==="function")throw[c("bs_caml_builtin_exceptions").invalid_argument,"equal: functional value"];else if(y==="number"||y==="undefined"||v===null)return 0;else{var z=w.tag|0,A=v.tag|0;if(z===250){t=w[0];continue}else if(A===250){u=v[0];continue}else if(z===248)return+(w[1]===v[1]);else if(z===251)throw[c("bs_caml_builtin_exceptions").invalid_argument,"equal: abstract value"];else if(z!==A)return 0;else{var B=w.length|0,C=v.length|0;if(B===C){var D=w,E=v,F=0,G=B;while(true){var H=F;if(H===G)return 1;else if(l(D[H],E[H])){F=H+1|0;continue}else return 0}}else return 0}}}}}}function m(t,u){return 1-l(t,u)}function n(t,u){return+(k(t,u)>=0)}function o(t,u){return+(k(t,u)>0)}function p(t,u){return+(k(t,u)<=0)}function q(t,u){return+(k(t,u)<0)}var r=j,s=j;e.caml_obj_dup=f;e.caml_obj_truncate=g;e.caml_lazy_make_forward=h;e.caml_update_dummy=i;e.caml_int_compare=j;e.caml_int32_compare=r;e.caml_nativeint_compare=s;e.caml_compare=k;e.caml_equal=l;e.caml_notequal=m;e.caml_greaterequal=n;e.caml_greaterthan=o;e.caml_lessthan=q;e.caml_lessequal=p}),null);
__d("bs_caml_utils",[],(function a(b,c,d,e,f,g){"use strict";var h=String.prototype.repeat&&function(i,j){return j.repeat(i)}||function(i,j){if(j.length==0||i==0)return"";if(j.length*i>=1<<28)throw new RangeError("repeat count must not overflow maximum string size");var k="";for(;;){if((i&1)==1)k+=j;i>>>=1;if(i==0)break;j+=j}return k};g.repeat=h}),null);
__d("bs_caml_int64",["bs_caml_obj","bs_caml_int32","bs_caml_utils","bs_caml_builtin_exceptions"],(function aa(ba,a,ca,da,ea,b){"use strict";var c=[-2147483648,0],d=[134217727,1],e=[0,1],f=[0,0],g=[-1,4294967295];function h(B){return+((B&2147483648)!==0)}function i(B,C){var D=C[1],E=B[1],F=E+D&4294967295,G=h(E)&&(h(D)||!h(F))||h(D)&&!h(F)?1:0,H=B[0]+C[0]+G&4294967295;return[H,F>>>0]}function j(B){var C=B[0]^-1,D=B[1]^-1;return[C,D>>>0]}function k(B,C){if(B[0]===C[0])return+(B[1]===C[1]);else return 0}function l(B){if(k(B,c))return c;else return i(j(B),e)}function m(B,C){return i(B,l(C))}function n(B,C){if(C){var D=B[1];if(C>=32)return[D<<(C-32|0),0];else{var E=D>>>(32-C|0)|B[0]<<C;return[E,D<<C>>>0]}}else return B}function o(B,C){if(C){var D=B[0],E=C-32|0;if(E)if(E>0){var F=D>>>E;return[0,F>>>0]}else{var G=D>>>C,H=D<<(-E|0)|B[1]>>>C;return[G,H>>>0]}else return[0,D>>>0]}else return B}function p(B,C){if(C){var D=B[0];if(C<32){var E=D>>C,F=D<<(32-C|0)|B[1]>>>C;return[E,F>>>0]}else{var G=D>>(C-32|0);return[D>=0?0:-1,G>>>0]}}else return B}function q(B){if(B[0]!==0||B[1]!==0)return 0;else return 1}function r(B,C){while(true){var D=C,E=B,F=0,G,H=E[0],I=0,J=0,K=0;if(H!==0)K=4;else if(E[1]!==0)K=4;else return f;if(K===4)if(D[0]!==0)J=3;else if(D[1]!==0)J=3;else return f;if(J===3)if(H!==-2147483648)I=2;else if(E[1]!==0)I=2;else{G=D[1];F=1}if(I===2){var L=D[0],M=E[1],N=0;if(L!==-2147483648)N=3;else if(D[1]!==0)N=3;else{G=M;F=1}if(N===3){var O=D[1];if(H<0)if(L<0){C=l(D);B=l(E);continue}else return l(r(l(E),D));else if(L<0)return l(r(E,l(D)));else{var P=H>>>16,Q=H&65535,R=M>>>16,S=M&65535,T=L>>>16,U=L&65535,V=O>>>16,W=O&65535,X=0,Y=0,Z=0,$=S*W;Z=($>>>16)+R*W;Y=Z>>>16;Z=(Z&65535)+S*V;Y=Y+(Z>>>16)+Q*W;X=Y>>>16;Y=(Y&65535)+R*V;X+=Y>>>16;Y=(Y&65535)+S*U;X+=Y>>>16;Y=Y&65535;X=X+(P*W+Q*V+R*U+S*T)&65535;var va=Y|X<<16,wa=$&65535|(Z&65535)<<16;return[va,wa>>>0]}}}if(F===1)if((G&1)===0)return f;else return c}}function s(B){var C=a("bs_caml_int32").caml_int32_bswap(B[1]),D=a("bs_caml_int32").caml_int32_bswap(B[0]);return[C,D>>>0]}function t(B,C){return[B[0]^C[0],(B[1]^C[1])>>>0]}function u(B,C){return[B[0]|C[0],(B[1]|C[1])>>>0]}function fa(B,C){return[B[0]&C[0],(B[1]&C[1])>>>0]}function v(B,C){var D=C[0],E=B[0];if(E>D)return 1;else if(E<D)return 0;else return+(B[1]>=C[1])}function ga(B,C){return 1-k(B,C)}function ha(B,C){return 1-v(B,C)}function w(B,C){if(B[0]>C[0])return 1;else if(B[0]<C[0])return 0;else return+(B[1]>C[1])}function ia(B,C){return 1-w(B,C)}function x(B){return B[0]*4294967296+B[1]}var y=Math.pow(2,32),ja=Math.pow(2,63),ka=-Math.pow(2,63);function z(B){if(isNaN(B)||!isFinite(B))return f;else if(B<=ka)return c;else if(B+1>=ja)return d;else if(B<0)return l(z(-B));else{var C=B/y|0,D=B%y|0;return[C,D>>>0]}}function A(B,C){while(true){var D=C,E=B,F=E[0],G=0,H=0;if(D[0]!==0)H=2;else if(D[1]!==0)H=2;else throw a("bs_caml_builtin_exceptions").division_by_zero;if(H===2)if(F!==-2147483648)if(F!==0)G=1;else if(E[1]!==0)G=1;else return f;else if(E[1]!==0)G=1;else if(k(D,e)||k(D,g))return E;else if(k(D,c))return e;else{var I=D[0],J=p(E,1),K=n(A(J,D),1),L=0;if(K[0]!==0)L=3;else if(K[1]!==0)L=3;else if(I<0)return e;else return l(e);if(L===3){var M=r(D,K),N=i(E,l(M));return i(K,A(N,D))}}if(G===1){var O=D[0],P=0;if(O!==-2147483648)P=2;else if(D[1]!==0)P=2;else return f;if(P===2)if(F<0)if(O<0){C=l(D);B=l(E);continue}else return l(A(l(E),D));else if(O<0)return l(A(E,l(D)));else{var Q=f,R=E;while(v(R,D)){var S=Math.max(1,Math.floor(x(R)/x(D))),T=Math.ceil(Math.log(S)/Math.LN2),U=T<=48?1:Math.pow(2,T-48),V=z(S),W=r(V,D);while(W[0]<0||w(W,R)){S-=U;V=z(S);W=r(V,D)}if(q(V))V=e;Q=i(Q,V);R=i(R,l(W))}return Q}}}}function la(B,C){var D=r(A(B,C),C);return i(B,l(D))}function ma(B,C){var D=A(B,C),E=r(D,C);return[D,i(B,l(E))]}function na(B,C){var D=a("bs_caml_obj").caml_nativeint_compare(B[0],C[0]);if(D)return D;else return a("bs_caml_obj").caml_nativeint_compare(B[1],C[1])}function oa(B){return[B<0?-1:0,B>>>0]}function pa(B){return B[1]|0}function qa(B){var C=function C(I){return(I>>>0).toString(16)},D=B[0],E=B[1],F=0;if(D!==0)F=1;else if(E!==0)F=1;else return"0";if(F===1)if(E!==0)if(D!==0){var G=C(B[1]),H=8-G.length|0;if(H<=0)return C(B[0])+G;else return C(B[0])+(a("bs_caml_utils").repeat(H,"0")+G)}else return C(B[1]);else return C(B[0])+"00000000"}function ra(B){return[2147483647&B[0],B[1]]}function sa(B){var C=new Int32Array([B[1],B[0]]);return new Float64Array(C.buffer)[0]}function ta(B){var C=new Float64Array([B]),D=new Int32Array(C.buffer),E=D[1],F=E,G=D[0],H=G;return[F,H>>>0]}function ua(B,C){var D=B.charCodeAt(C+4|0)<<32|B.charCodeAt(C+5|0)<<40|B.charCodeAt(C+6|0)<<48|B.charCodeAt(C+7|0)<<56,E=B.charCodeAt(C)|B.charCodeAt(C+1|0)<<8|B.charCodeAt(C+2|0)<<16|B.charCodeAt(C+3|0)<<24;return[D,E>>>0]}b.min_int=c;b.max_int=d;b.one=e;b.zero=f;b.not=j;b.of_int32=oa;b.to_int32=pa;b.add=i;b.neg=l;b.sub=m;b.lsl_=n;b.lsr_=o;b.asr_=p;b.is_zero=q;b.mul=r;b.xor=t;b.or_=u;b.and_=fa;b.swap=s;b.ge=v;b.eq=k;b.neq=ga;b.lt=ha;b.gt=w;b.le=ia;b.to_float=x;b.of_float=z;b.div=A;b.mod_=la;b.div_mod=ma;b.compare=na;b.to_hex=qa;b.discard_sign=ra;b.float_of_bits=sa;b.bits_of_float=ta;b.get64=ua}),null);
__d("bs_curry",["bs_caml_array"],(function a(b,c,d,e,f,g){"use strict";function h(G,H){while(true){var I=H,J=G,K=J.length,L=K?K:1,M=I.length,N=L-M|0;if(N)if(N<0){H=c("bs_caml_array").caml_array_sub(I,L,-N|0);G=J.apply(null,c("bs_caml_array").caml_array_sub(I,0,L));continue}else return function(J,I){return function(O){return h(J,I.concat([O]))}}(J,I);else return J.apply(null,I)}}function i(G,H,I){if(I>7||I<0)return h(G,[H]);else switch(I){case 0:case 1:return G(H);case 2:return function(J){return G(H,J)};case 3:return function(J,K){return G(H,J,K)};case 4:return function(J,K,L){return G(H,J,K,L)};case 5:return function(J,K,L,M){return G(H,J,K,L,M)};case 6:return function(J,K,L,M,N){return G(H,J,K,L,M,N)};case 7:return function(J,K,L,M,N,O){return G(H,J,K,L,M,N,O)}}}function j(G,H){var I=G.length;if(I===1)return G(H);else return i(G,H,I)}function k(G){var H=G.length;if(H===1)return G;else return function(I){return j(G,I)}}function l(G,H,I,J){if(J>7||J<0)return h(G,[H,I]);else switch(J){case 0:case 1:return h(G(H),[I]);case 2:return G(H,I);case 3:return function(K){return G(H,I,K)};case 4:return function(K,L){return G(H,I,K,L)};case 5:return function(K,L,M){return G(H,I,K,L,M)};case 6:return function(K,L,M,N){return G(H,I,K,L,M,N)};case 7:return function(K,L,M,N,O){return G(H,I,K,L,M,N,O)}}}function m(G,H,I){var J=G.length;if(J===2)return G(H,I);else return l(G,H,I,J)}function n(G){var H=G.length;if(H===2)return G;else return function(I,J){return m(G,I,J)}}function o(G,H,I,J,K){var L=0;if(K>7||K<0)return h(G,[H,I,J]);else switch(K){case 0:case 1:L=1;break;case 2:return h(G(H,I),[J]);case 3:return G(H,I,J);case 4:return function(M){return G(H,I,J,M)};case 5:return function(M,N){return G(H,I,J,M,N)};case 6:return function(M,N,O){return G(H,I,J,M,N,O)};case 7:return function(M,N,O,P){return G(H,I,J,M,N,O,P)}}if(L===1)return h(G(H),[I,J])}function p(G,H,I,J){var K=G.length;if(K===3)return G(H,I,J);else return o(G,H,I,J,K)}function q(G){var H=G.length;if(H===3)return G;else return function(I,J,K){return p(G,I,J,K)}}function r(G,H,I,J,K,L){var M=0;if(L>7||L<0)return h(G,[H,I,J,K]);else switch(L){case 0:case 1:M=1;break;case 2:return h(G(H,I),[J,K]);case 3:return h(G(H,I,J),[K]);case 4:return G(H,I,J,K);case 5:return function(N){return G(H,I,J,K,N)};case 6:return function(N,O){return G(H,I,J,K,N,O)};case 7:return function(N,O,P){return G(H,I,J,K,N,O,P)}}if(M===1)return h(G(H),[I,J,K])}function s(G,H,I,J,K){var L=G.length;if(L===4)return G(H,I,J,K);else return r(G,H,I,J,K,L)}function t(G){var H=G.length;if(H===4)return G;else return function(I,J,K,L){return s(G,I,J,K,L)}}function u(G,H,I,J,K,L,M){var N=0;if(M>7||M<0)return h(G,[H,I,J,K,L]);else switch(M){case 0:case 1:N=1;break;case 2:return h(G(H,I),[J,K,L]);case 3:return h(G(H,I,J),[K,L]);case 4:return h(G(H,I,J,K),[L]);case 5:return G(H,I,J,K,L);case 6:return function(O){return G(H,I,J,K,L,O)};case 7:return function(O,P){return G(H,I,J,K,L,O,P)}}if(N===1)return h(G(H),[I,J,K,L])}function v(G,H,I,J,K,L){var M=G.length;if(M===5)return G(H,I,J,K,L);else return u(G,H,I,J,K,L,M)}function w(G){var H=G.length;if(H===5)return G;else return function(I,J,K,L,M){return v(G,I,J,K,L,M)}}function x(G,H,I,J,K,L,M,N){var O=0;if(N>7||N<0)return h(G,[H,I,J,K,L,M]);else switch(N){case 0:case 1:O=1;break;case 2:return h(G(H,I),[J,K,L,M]);case 3:return h(G(H,I,J),[K,L,M]);case 4:return h(G(H,I,J,K),[L,M]);case 5:return h(G(H,I,J,K,L),[M]);case 6:return G(H,I,J,K,L,M);case 7:return function(P){return G(H,I,J,K,L,M,P)}}if(O===1)return h(G(H),[I,J,K,L,M])}function y(G,H,I,J,K,L,M){var N=G.length;if(N===6)return G(H,I,J,K,L,M);else return x(G,H,I,J,K,L,M,N)}function z(G){var H=G.length;if(H===6)return G;else return function(I,J,K,L,M,N){return y(G,I,J,K,L,M,N)}}function A(G,H,I,J,K,L,M,N,O){var P=0;if(O>7||O<0)return h(G,[H,I,J,K,L,M,N]);else switch(O){case 0:case 1:P=1;break;case 2:return h(G(H,I),[J,K,L,M,N]);case 3:return h(G(H,I,J),[K,L,M,N]);case 4:return h(G(H,I,J,K),[L,M,N]);case 5:return h(G(H,I,J,K,L),[M,N]);case 6:return h(G(H,I,J,K,L,M),[N]);case 7:return G(H,I,J,K,L,M,N)}if(P===1)return h(G(H),[I,J,K,L,M,N])}function B(G,H,I,J,K,L,M,N){var O=G.length;if(O===7)return G(H,I,J,K,L,M,N);else return A(G,H,I,J,K,L,M,N,O)}function C(G){var H=G.length;if(H===7)return G;else return function(I,J,K,L,M,N,O){return B(G,I,J,K,L,M,N,O)}}function D(G,H,I,J,K,L,M,N,O,P){var Q=0;if(P>7||P<0)return h(G,[H,I,J,K,L,M,N,O]);else switch(P){case 0:case 1:Q=1;break;case 2:return h(G(H,I),[J,K,L,M,N,O]);case 3:return h(G(H,I,J),[K,L,M,N,O]);case 4:return h(G(H,I,J,K),[L,M,N,O]);case 5:return h(G(H,I,J,K,L),[M,N,O]);case 6:return h(G(H,I,J,K,L,M),[N,O]);case 7:return h(G(H,I,J,K,L,M,N),[O])}if(Q===1)return h(G(H),[I,J,K,L,M,N,O])}function E(G,H,I,J,K,L,M,N,O){var P=G.length;if(P===8)return G(H,I,J,K,L,M,N,O);else return D(G,H,I,J,K,L,M,N,O,P)}function F(G){var H=G.length;if(H===8)return G;else return function(I,J,K,L,M,N,O,P){return E(G,I,J,K,L,M,N,O,P)}}g.app=h;g.curry_1=i;g._1=j;g.__1=k;g.curry_2=l;g._2=m;g.__2=n;g.curry_3=o;g._3=p;g.__3=q;g.curry_4=r;g._4=s;g.__4=t;g.curry_5=u;g._5=v;g.__5=w;g.curry_6=x;g._6=y;g.__6=z;g.curry_7=A;g._7=B;g.__7=C;g.curry_8=D;g._8=E;g.__8=F}),null);
__d("bs_caml_format",["bs_curry","bs_caml_int32","bs_caml_int64","bs_caml_utils","bs_caml_builtin_exceptions"],(function a(b,c,aa,ba,ca,d){"use strict";function e(x){throw[c("bs_caml_builtin_exceptions").failure,x]}function f(x){if(x>=65)if(x>=97)if(x>=123)return-1;else return x-87|0;else if(x>=91)return-1;else return x-55|0;else if(x>57||x<48)return-1;else return x-48|0}function g(x){switch(x){case 0:return 8;case 1:return 16;case 2:return 10;case 3:return 2}}function h(x){var y=1,z=2,A=0;if(x[A]==="-"){y=-1;A=A+1|0}var B=x.charCodeAt(A),C=x.charCodeAt(A+1|0);if(B===48)if(C>=89)if(C!==98)if(C!==111){if(C===120){z=1;A=A+2|0}}else{z=0;A=A+2|0}else{z=3;A=A+2|0}else if(C!==66)if(C!==79){if(C>=88){z=1;A=A+2|0}}else{z=0;A=A+2|0}else{z=3;A=A+2|0}return[A,y,z]}function i(x){var y=h(x),z=y[0],A=g(y[2]),B=4294967295,C=x.length,D=z<C?x.charCodeAt(z):0,E=f(D);if(E<0||E>=A)throw[c("bs_caml_builtin_exceptions").failure,"int_of_string"];var F=function F(I,J){while(true){var K=J,L=I;if(K===C)return L;else{var M=x.charCodeAt(K);if(M===95){J=K+1|0;continue}else{var N=f(M);if(N<0||N>=A)throw[c("bs_caml_builtin_exceptions").failure,"int_of_string"];else{var O=A*L+N;if(O>B)throw[c("bs_caml_builtin_exceptions").failure,"int_of_string"];else{J=K+1|0;I=O;continue}}}}}},G=y[1]*F(E,z+1|0),H=G|0;if(A===10&&G!==H)throw[c("bs_caml_builtin_exceptions").failure,"int_of_string"];return H}function j(x){var y=h(x),z=y[2],A=y[0],B=c("bs_caml_int64").of_int32(g(z)),C=c("bs_caml_int64").of_int32(y[1]),D;switch(z){case 0:D=[536870911,4294967295];break;case 1:D=[268435455,4294967295];break;case 2:D=[429496729,2576980377];break;case 3:D=[2147483647,4294967295];break}var E=x.length,F=A<E?x.charCodeAt(A):0,G=c("bs_caml_int64").of_int32(f(F));if(c("bs_caml_int64").lt(G,[0,0])||c("bs_caml_int64").ge(G,B))throw[c("bs_caml_builtin_exceptions").failure,"int64_of_string"];var H=function H(K,L){while(true){var M=L,N=K;if(M===E)return N;else{var O=x.charCodeAt(M);if(O===95){L=M+1|0;continue}else{var P=c("bs_caml_int64").of_int32(f(O));if(c("bs_caml_int64").lt(P,[0,0])||c("bs_caml_int64").ge(P,B)||c("bs_caml_int64").gt(N,D))throw[c("bs_caml_builtin_exceptions").failure,"int64_of_string"];else{var Q=c("bs_caml_int64").add(c("bs_caml_int64").mul(B,N),P);L=M+1|0;K=Q;continue}}}}},I=c("bs_caml_int64").mul(C,H(G,A+1|0)),J=c("bs_caml_int64").or_(I,[0,0]);if(c("bs_caml_int64").eq(B,[0,10])&&c("bs_caml_int64").neq(I,J))throw[c("bs_caml_builtin_exceptions").failure,"int64_of_string"];return J}function k(x){switch(x){case 0:return 8;case 1:return 16;case 2:return 10}}function l(x){if(x>=65&&x<=90||x>=192&&x<=214||x>=216&&x<=222)return x+32|0;else return x}function m(x){var y=x.length;if(y>31)throw[c("bs_caml_builtin_exceptions").invalid_argument,"format_int: format too long"];var z=["+","-"," ",0,2,0,0,0,1,-1,"f"],A=0;while(true){var B=A;if(B>=y)return z;else{var C=x.charCodeAt(B),D=0;if(C>=69)if(C>=88)if(C>=121)D=1;else switch(C-88|0){case 0:z[4]=1;z[7]=1;A=B+1|0;continue;case 13:case 14:case 15:D=5;break;case 12:case 17:D=4;break;case 23:z[4]=0;A=B+1|0;continue;case 29:z[4]=2;A=B+1|0;continue;case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 16:case 18:case 19:case 20:case 21:case 22:case 24:case 25:case 26:case 27:case 28:case 30:case 31:D=1;break;case 32:z[4]=1;A=B+1|0;continue}else if(C>=72)D=1;else{z[5]=1;z[7]=1;z[10]=String.fromCharCode(l(C));A=B+1|0;continue}else{var E=C-32|0;if(E>25||E<0)D=1;else switch(E){case 3:z[3]=1;A=B+1|0;continue;case 0:case 11:D=2;break;case 13:z[0]="-";A=B+1|0;continue;case 14:z[9]=0;var F=B+1|0;while(function(F){return function(){var H=x.charCodeAt(F)-48|0;return+(H>=0&&H<=9)}}(F)()){z[9]=(c("bs_caml_int32").imul(z[9],10)+x.charCodeAt(F)|0)-48|0;F=F+1|0}A=F;continue;case 1:case 2:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 12:case 15:D=1;break;case 16:z[2]="0";A=B+1|0;continue;case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:case 25:D=3;break}}switch(D){case 1:A=B+1|0;continue;case 2:z[1]=String.fromCharCode(C);A=B+1|0;continue;case 3:z[6]=0;var G=B;while(function(G){return function(){var H=x.charCodeAt(G)-48|0;return+(H>=0&&H<=9)}}(G)()){z[6]=(c("bs_caml_int32").imul(z[6],10)+x.charCodeAt(G)|0)-48|0;G=G+1|0}A=G;continue;case 4:z[5]=1;z[4]=2;A=B+1|0;continue;case 5:z[5]=1;z[10]=String.fromCharCode(C);A=B+1|0;continue}}}}function n(x,y){var z=x[0],A=x[1],B=x[2],C=x[3],D=x[4],E=x[5],F=x[6],G=x[7],H=x[8],I=y.length;if(E&&(H<0||A!=="-"))I=I+1|0;if(C)if(D){if(D===1)I=I+2|0}else I=I+1|0;var J="";if(z==="+"&&B===" ")for(var K=I,L=F-1|0;K<=L;++K)J=J+B;if(E)if(H<0)J=J+"-";else if(A!=="-")J=J+A;if(C&&D===0)J=J+"0";if(C&&D===1)J=J+"0x";if(z==="+"&&B==="0")for(var M=I,N=F-1|0;M<=N;++M)J=J+B;J=G?J+y.toUpperCase():J+y;if(z==="-")for(var O=I,P=F-1|0;O<=P;++O)J=J+" ";return J}function o(x,y){if(x==="%d")return String(y);else{var z=m(x),A=z,B=y,C=B<0?A[5]?(A[8]=-1,-B):B>>>0:B,D=C.toString(k(A[4]));if(A[9]>=0){A[2]=" ";var E=A[9]-D.length|0;if(E>0)D=c("bs_caml_utils").repeat(E,"0")+D}return n(A,D)}}function p(x,y){var z=m(x),A=z[5]&&c("bs_caml_int64").lt(y,[0,0])?(z[8]=-1,c("bs_caml_int64").neg(y)):y,B="",C=z[4];switch(C){case 0:var D=[0,8],E="01234567";if(c("bs_caml_int64").lt(A,[0,0])){var F=c("bs_caml_int64").discard_sign(A),G=c("bs_caml_int64").div_mod(F,D),H=c("bs_caml_int64").add([268435456,0],G[0]),I=G[1];B=String.fromCharCode(E.charCodeAt(I[1]|0))+B;while(c("bs_caml_int64").neq(H,[0,0])){var J=c("bs_caml_int64").div_mod(H,D);H=J[0];I=J[1];B=String.fromCharCode(E.charCodeAt(I[1]|0))+B}}else{var K=c("bs_caml_int64").div_mod(A,D),L=K[0],M=K[1];B=String.fromCharCode(E.charCodeAt(M[1]|0))+B;while(c("bs_caml_int64").neq(L,[0,0])){var N=c("bs_caml_int64").div_mod(L,D);L=N[0];M=N[1];B=String.fromCharCode(E.charCodeAt(M[1]|0))+B}}break;case 1:B=c("bs_caml_int64").to_hex(A)+B;break;case 2:var O=[0,10],P="0123456789";if(c("bs_caml_int64").lt(A,[0,0])){var Q=c("bs_caml_int64").discard_sign(A),R=c("bs_caml_int64").div_mod(Q,O),S=c("bs_caml_int64").div_mod(c("bs_caml_int64").add([0,8],R[1]),O),T=c("bs_caml_int64").add(c("bs_caml_int64").add([214748364,3435973836],R[0]),S[0]),U=S[1];B=String.fromCharCode(P.charCodeAt(U[1]|0))+B;while(c("bs_caml_int64").neq(T,[0,0])){var V=c("bs_caml_int64").div_mod(T,O);T=V[0];U=V[1];B=String.fromCharCode(P.charCodeAt(U[1]|0))+B}}else{var W=c("bs_caml_int64").div_mod(A,O),X=W[0],Y=W[1];B=String.fromCharCode(P.charCodeAt(Y[1]|0))+B;while(c("bs_caml_int64").neq(X,[0,0])){var Z=c("bs_caml_int64").div_mod(X,O);X=Z[0];Y=Z[1];B=String.fromCharCode(P.charCodeAt(Y[1]|0))+B}}break}if(z[9]>=0){z[2]=" ";var $=z[9]-B.length|0;if($>0)B=c("bs_caml_utils").repeat($,"0")+B}return n(z,B)}function q(x,y){var z=m(x),A=z[9]<0?6:z[9],B=y<0?(z[8]=-1,-y):y,C="";if(isNaN(B)){C="nan";z[2]=" "}else if(isFinite(B)){var D=z[10];switch(D){case"e":C=B.toExponential(A);var E=C.length;if(C[E-3|0]==="e")C=C.slice(0,E-1|0)+("0"+C.slice(E-1|0));break;case"f":C=B.toFixed(A);break;case"g":var F=A!==0?A:1;C=B.toExponential(F-1|0);var G=C.indexOf("e"),H=Number(C.slice(G+1|0))|0;if(H<-4||B>=1e21||B.toFixed().length>F){var I=G-1|0;while(C[I]==="0")I=I-1|0;if(C[I]===".")I=I-1|0;C=C.slice(0,I+1|0)+C.slice(G);var J=C.length;if(C[J-3|0]==="e")C=C.slice(0,J-1|0)+("0"+C.slice(J-1|0))}else{var K=F;if(H<0){K=K-(H+1|0)|0;C=B.toFixed(K)}else while(function(){C=B.toFixed(K);return+(C.length>(F+1|0))}())K=K-1|0;if(K!==0){var L=C.length-1|0;while(C[L]==="0")L=L-1|0;if(C[L]===".")L=L-1|0;C=C.slice(0,L+1|0)}}break;default:}}else{C="inf";z[2]=" "}return n(z,C)}var r=function r(x,e){var y=+x;if(x.length>0&&y===y)return y;x=x.replace(/_/g,"");y=+x;if(x.length>0&&y===y||/^[+-]?nan$/i.test(x))return y;if(/^ *0x[0-9a-f_]+p[+-]?[0-9_]+/i.test(x)){var z=x.indexOf("p");z=z==-1?x.indexOf("P"):z;var A=+x.substring(z+1);y=+x.substring(0,z);return y*Math.pow(2,A)}if(/^\+?inf(inity)?$/i.test(x))return Infinity;if(/^-inf(inity)?$/i.test(x))return-Infinity;e("float_of_string")};function s(x){return c("bs_curry")._2(r,x,e)}var t=o,u=o,v=i,w=i;d.caml_format_float=q;d.caml_format_int=o;d.caml_nativeint_format=t;d.caml_int32_format=u;d.caml_float_of_string=s;d.caml_int64_format=p;d.caml_int_of_string=i;d.caml_int32_of_string=v;d.caml_int64_of_string=j;d.caml_nativeint_of_string=w}),null);
__d("bs_caml_io",["bs_curry","bs_caml_builtin_exceptions"],(function a(b,c,d,e,f,g){"use strict";function h(u,v){return u+v}var i=undefined,j=["",function(u,v){var w=v.length-1|0;if(typeof process!=="undefined"&&process.stdout&&process.stdout.write)return process.stdout.write(v);else if(v[w]==="\n")return 0;else return 0}],k=["",function(u,v){var w=v.length-1|0;if(v[w]==="\n")return 0;else return 0}];function l(){throw[c("bs_caml_builtin_exceptions").failure,"caml_ml_open_descriptor_in not implemented"]}function m(){throw[c("bs_caml_builtin_exceptions").failure,"caml_ml_open_descriptor_out not implemented"]}function n(u){if(u[0]!==""){c("bs_curry")._2(u[1],u,u[0]);u[0]="";return 0}else return 0}var o=function o(u){return typeof process!=="undefined"&&process.stdout&&(process.stdout.write(u),true)};function p(u,v,w,x){var y=w===0&&x===v.length?v:v.slice(w,x);if(typeof process!=="undefined"&&process.stdout&&process.stdout.write&&u===j)return process.stdout.write(y);else{var z=y.lastIndexOf("\n");if(z<0){u[0]=u[0]+y;return 0}else{u[0]=u[0]+y.slice(0,z+1|0);n(u);u[0]=u[0]+y.slice(z+1|0);return 0}}}function q(u,v){return p(u,String.fromCharCode(v),0,1)}function r(u,v,w,x){throw[c("bs_caml_builtin_exceptions").failure,"caml_ml_input ic not implemented"]}function s(){throw[c("bs_caml_builtin_exceptions").failure,"caml_ml_input_char not implemnted"]}function t(){return[j,[k,0]]}g.$caret=h;g.stdin=i;g.stdout=j;g.stderr=k;g.caml_ml_open_descriptor_in=l;g.caml_ml_open_descriptor_out=m;g.caml_ml_flush=n;g.node_std_output=o;g.caml_ml_output=p;g.caml_ml_output_char=q;g.caml_ml_input=r;g.caml_ml_input_char=s;g.caml_ml_out_channels_list=t}),null);
__d("bs_caml_missing_polyfill",[],(function a(b,c,d,e,f,g){"use strict";var h=function h(i){throw new Error(i)};g.not_implemented=h}),null);
__d("bs_caml_string",["bs_caml_builtin_exceptions"],(function a(b,c,d,e,f,g){"use strict";function h(v){return String.fromCharCode(v)}function i(v,w){if(w>=v.length||w<0)throw[c("bs_caml_builtin_exceptions").invalid_argument,"index out of bounds"];else return v.charCodeAt(w)}function j(v){if(v<0)throw[c("bs_caml_builtin_exceptions").invalid_argument,"String.create"];else return new Array(v)}function k(v,w){if(v===w)return 0;else if(v<w)return-1;else return 1}function l(v,w,x,y){if(x>0){for(var z=w,A=(x+w|0)-1|0;z<=A;++z)v[z]=y;return 0}else return 0}function m(v,w,x,y,z){if(z>0){var A=v.length-w|0;if(z<=A){for(var B=0,C=z-1|0;B<=C;++B)x[y+B|0]=v.charCodeAt(w+B|0);return 0}else{for(var D=0,E=A-1|0;D<=E;++D)x[y+D|0]=v.charCodeAt(w+D|0);for(var F=A,G=z-1|0;F<=G;++F)x[y+F|0]=0;return 0}}else return 0}function n(v,w,x,y,z){if(z>0)if(v===x){var A=v,B=w,C=y,D=z;if(B<C){var E=(A.length-C|0)-1|0,F=D-1|0,G=E>F?F:E;for(var H=G;H>=0;--H)A[C+H|0]=A[B+H|0];return 0}else if(B>C){var I=(A.length-B|0)-1|0,J=D-1|0,K=I>J?J:I;for(var L=0;L<=K;++L)A[C+L|0]=A[B+L|0];return 0}else return 0}else{var M=v.length-w|0;if(z<=M){for(var N=0,O=z-1|0;N<=O;++N)x[y+N|0]=v[w+N|0];return 0}else{for(var P=0,Q=M-1|0;P<=Q;++P)x[y+P|0]=v[w+P|0];for(var R=M,S=z-1|0;R<=S;++R)x[y+R|0]=0;return 0}}else return 0}function o(v){var w=v.length,x=new Array(w);for(var y=0,z=w-1|0;y<=z;++y)x[y]=v.charCodeAt(y);return x}function p(v){var w=v,x=0,y=v.length,z="",A=y;if(x===0&&y<=4096&&y===w.length)return String.fromCharCode.apply(null,w);else{var B=0;while(A>0){var C=A<1024?A:1024,D=new Array(C);n(w,B,D,0,C);z=z+String.fromCharCode.apply(null,D);A=A-C|0;B=B+C|0}return z}}function q(v){var w=v.length,x=new Array(w);for(var y=0,z=w-1|0;y<=z;++y)x[y]=v[y];return p(x)}function r(v){if(v>31)return+(v<127);else return 0}function s(v,w){return v.charCodeAt(w)+(v.charCodeAt(w+1|0)<<8)|0}function t(v,w){return((v.charCodeAt(w)+(v.charCodeAt(w+1|0)<<8)|0)+(v.charCodeAt(w+2|0)<<16)|0)+(v.charCodeAt(w+3|0)<<24)|0}function u(v,w){if(w<0||w>=v.length)throw[c("bs_caml_builtin_exceptions").invalid_argument,"index out of bounds"];else return v.charCodeAt(w)}g.bytes_of_string=o;g.bytes_to_string=p;g.caml_is_printable=r;g.caml_string_of_char_array=q;g.caml_string_get=i;g.caml_string_compare=k;g.caml_create_string=j;g.caml_fill_string=l;g.caml_blit_string=m;g.caml_blit_bytes=n;g.caml_string_get16=s;g.caml_string_get32=t;g.string_of_char=h;g.get=u}),null);
__d("bs_caml_sys",["bs_caml_builtin_exceptions"],(function a(b,c,d,e,f,g){"use strict";function h(q){var r=typeof process==="undefined"?undefined:process;if(r!==undefined){var s=r.env[q];if(s!==undefined)return s;else throw c("bs_caml_builtin_exceptions").not_found}else throw c("bs_caml_builtin_exceptions").not_found}function i(){var q=typeof process==="undefined"?undefined:process;if(q!==undefined)return q.uptime();else return-1}function j(){return[((Date.now()|0)^4294967295)*Math.random()|0]}function k(){return 127}function l(){var q=typeof process==="undefined"?undefined:process;if(q!==undefined)return q.cwd();else return"/"}function m(){var q=typeof process==="undefined"?undefined:process;if(q!==undefined)return[q.argv[0],q.argv];else return["",[""]]}function n(q){var r=typeof process==="undefined"?undefined:process;if(r!==undefined)return r.exit(q);else return 0}function o(){throw[c("bs_caml_builtin_exceptions").failure,"caml_sys_is_directory not implemented"]}function p(){throw[c("bs_caml_builtin_exceptions").failure,"caml_sys_file_exists not implemented"]}g.caml_sys_getenv=h;g.caml_sys_time=i;g.caml_sys_random_seed=j;g.caml_sys_system_command=k;g.caml_sys_getcwd=l;g.caml_sys_get_argv=m;g.caml_sys_exit=n;g.caml_sys_is_directory=o;g.caml_sys_file_exists=p}),null);
__d("bs_camlinternalFormatBasics",["bs_block"],(function a(b,c,d,e,f,g){"use strict";function h(k){if(typeof k==="number")return 0;else switch(k.tag|0){case 0:return c("bs_block").__(0,[h(k[0])]);case 1:return c("bs_block").__(1,[h(k[0])]);case 2:return c("bs_block").__(2,[h(k[0])]);case 3:return c("bs_block").__(3,[h(k[0])]);case 4:return c("bs_block").__(4,[h(k[0])]);case 5:return c("bs_block").__(5,[h(k[0])]);case 6:return c("bs_block").__(6,[h(k[0])]);case 7:return c("bs_block").__(7,[h(k[0])]);case 8:return c("bs_block").__(8,[k[0],h(k[1])]);case 9:var l=k[0];return c("bs_block").__(9,[l,l,h(k[2])]);case 10:return c("bs_block").__(10,[h(k[0])]);case 11:return c("bs_block").__(11,[h(k[0])]);case 12:return c("bs_block").__(12,[h(k[0])]);case 13:return c("bs_block").__(13,[h(k[0])]);case 14:return c("bs_block").__(14,[h(k[0])])}}function i(k,l){if(typeof k==="number")return l;else switch(k.tag|0){case 0:return c("bs_block").__(0,[i(k[0],l)]);case 1:return c("bs_block").__(1,[i(k[0],l)]);case 2:return c("bs_block").__(2,[i(k[0],l)]);case 3:return c("bs_block").__(3,[i(k[0],l)]);case 4:return c("bs_block").__(4,[i(k[0],l)]);case 5:return c("bs_block").__(5,[i(k[0],l)]);case 6:return c("bs_block").__(6,[i(k[0],l)]);case 7:return c("bs_block").__(7,[i(k[0],l)]);case 8:return c("bs_block").__(8,[k[0],i(k[1],l)]);case 9:return c("bs_block").__(9,[k[0],k[1],i(k[2],l)]);case 10:return c("bs_block").__(10,[i(k[0],l)]);case 11:return c("bs_block").__(11,[i(k[0],l)]);case 12:return c("bs_block").__(12,[i(k[0],l)]);case 13:return c("bs_block").__(13,[i(k[0],l)]);case 14:return c("bs_block").__(14,[i(k[0],l)])}}function j(k,l){if(typeof k==="number")return l;else switch(k.tag|0){case 0:return c("bs_block").__(0,[j(k[0],l)]);case 1:return c("bs_block").__(1,[j(k[0],l)]);case 2:return c("bs_block").__(2,[k[0],j(k[1],l)]);case 3:return c("bs_block").__(3,[k[0],j(k[1],l)]);case 4:return c("bs_block").__(4,[k[0],k[1],k[2],j(k[3],l)]);case 5:return c("bs_block").__(5,[k[0],k[1],k[2],j(k[3],l)]);case 6:return c("bs_block").__(6,[k[0],k[1],k[2],j(k[3],l)]);case 7:return c("bs_block").__(7,[k[0],k[1],k[2],j(k[3],l)]);case 8:return c("bs_block").__(8,[k[0],k[1],k[2],j(k[3],l)]);case 9:return c("bs_block").__(9,[j(k[0],l)]);case 10:return c("bs_block").__(10,[j(k[0],l)]);case 11:return c("bs_block").__(11,[k[0],j(k[1],l)]);case 12:return c("bs_block").__(12,[k[0],j(k[1],l)]);case 13:return c("bs_block").__(13,[k[0],k[1],j(k[2],l)]);case 14:return c("bs_block").__(14,[k[0],k[1],j(k[2],l)]);case 15:return c("bs_block").__(15,[j(k[0],l)]);case 16:return c("bs_block").__(16,[j(k[0],l)]);case 17:return c("bs_block").__(17,[k[0],j(k[1],l)]);case 18:return c("bs_block").__(18,[k[0],j(k[1],l)]);case 19:return c("bs_block").__(19,[j(k[0],l)]);case 20:return c("bs_block").__(20,[k[0],k[1],j(k[2],l)]);case 21:return c("bs_block").__(21,[k[0],j(k[1],l)]);case 22:return c("bs_block").__(22,[j(k[0],l)]);case 23:return c("bs_block").__(23,[k[0],j(k[1],l)]);case 24:return c("bs_block").__(24,[k[0],k[1],j(k[2],l)])}}g.concat_fmtty=i;g.erase_rel=h;g.concat_fmt=j}),null);
__d("bs_js_null_undefined",[],(function a(b,c,d,e,f,g){"use strict";function h(k,l){if(k==null)return k;else return l(k)}function i(k,l){if(k==null)return 0;else return l(k)}function j(k){if(k)return k[0];else return undefined}g.bind=h;g.iter=i;g.from_opt=j}),null);
__d("bs_js_primitive",[],(function a(b,c,d,e,f,g){"use strict";function h(n){if(n===null)return 1;else return+(n===undefined)}function i(n){if(n===null||n===undefined)return 0;else return[n]}function j(n){if(n===undefined)return 0;else return[n]}function k(n){if(n===null)return 0;else return[n]}function l(n){if(n)return n[0];else return undefined}function m(n){if(n)return n[0][1];else return undefined}g.is_nil_undef=h;g.null_undefined_to_opt=i;g.undefined_to_opt=j;g.null_to_opt=k;g.option_get=l;g.option_get_unwrap=m}),null);
__d("bs_pervasives",["bs_curry","bs_caml_io","bs_caml_obj","bs_caml_sys","bs_caml_format","bs_caml_string","bs_caml_exceptions","bs_caml_missing_polyfill","bs_caml_builtin_exceptions","bs_camlinternalFormatBasics"],(function aa(ba,a,ca,da,ea,b){"use strict";function c(R){throw[a("bs_caml_builtin_exceptions").failure,R]}function d(R){throw[a("bs_caml_builtin_exceptions").invalid_argument,R]}var e=a("bs_caml_exceptions").create("Pervasives.Exit");function f(R,S){if(a("bs_caml_obj").caml_lessequal(R,S))return R;else return S}function g(R,S){if(a("bs_caml_obj").caml_greaterequal(R,S))return R;else return S}function h(R){if(R>=0)return R;else return-R|0}function i(R){return R^-1}var j=-2147483648;function k(R,S){return R+S}function l(R){if(R<0||R>255)throw[a("bs_caml_builtin_exceptions").invalid_argument,"char_of_int"];else return R}function m(R){if(R)return"true";else return"false"}function n(R){switch(R){case"false":return 0;case"true":return 1;default:throw[a("bs_caml_builtin_exceptions").invalid_argument,"bool_of_string"]}}function o(R){return""+R}function p(R){var S=R.length,T=0;while(true){var U=T;if(U>=S)return k(R,".");else{var V=a("bs_caml_string").get(R,U);if(V>=48)if(V>=58)return R;else{T=U+1|0;continue}else if(V!==45)return R;else{T=U+1|0;continue}}}}function q(R){return p(a("bs_caml_format").caml_format_float("%.12g",R))}function r(R,S){if(R)return[R[0],r(R[1],S)];else return S}var s=a("bs_caml_io").stdin,t=a("bs_caml_io").stdout,u=a("bs_caml_io").stderr;function v(R,S,T){return a("bs_caml_io").caml_ml_open_descriptor_out(a("bs_caml_missing_polyfill").not_implemented("caml_sys_open not implemented by bucklescript yet\n"))}function w(R){return v([1,[3,[4,[7,0]]]],438,R)}function x(R){return v([1,[3,[4,[6,0]]]],438,R)}function y(){var R=a("bs_caml_io").caml_ml_out_channels_list(0);while(true){var S=R;if(S){try{a("bs_caml_io").caml_ml_flush(S[0])}catch(T){}R=S[1];continue}else return 0}}function z(R,S){return a("bs_caml_io").caml_ml_output(R,S,0,S.length)}function A(R,S){return a("bs_caml_io").caml_ml_output(R,S,0,S.length)}function B(R,S,T,U){if(T<0||U<0||T>(S.length-U|0))throw[a("bs_caml_builtin_exceptions").invalid_argument,"output"];else return a("bs_caml_io").caml_ml_output(R,S,T,U)}function C(R,S,T,U){if(T<0||U<0||T>(S.length-U|0))throw[a("bs_caml_builtin_exceptions").invalid_argument,"output_substring"];else return a("bs_caml_io").caml_ml_output(R,S,T,U)}function D(R,S){return a("bs_caml_missing_polyfill").not_implemented("caml_output_value not implemented by bucklescript yet\n")}function E(R){a("bs_caml_io").caml_ml_flush(R);return a("bs_caml_missing_polyfill").not_implemented("caml_ml_close_channel not implemented by bucklescript yet\n")}function F(R){try{a("bs_caml_io").caml_ml_flush(R)}catch(S){}try{return a("bs_caml_missing_polyfill").not_implemented("caml_ml_close_channel not implemented by bucklescript yet\n")}catch(T){return 0}}function G(R,S,T){return a("bs_caml_io").caml_ml_open_descriptor_in(a("bs_caml_missing_polyfill").not_implemented("caml_sys_open not implemented by bucklescript yet\n"))}function H(R){return G([0,[7,0]],0,R)}function I(R){return G([0,[6,0]],0,R)}function J(R,S,T,U){if(T<0||U<0||T>(S.length-U|0))throw[a("bs_caml_builtin_exceptions").invalid_argument,"input"];else return a("bs_caml_missing_polyfill").not_implemented("caml_ml_input not implemented by bucklescript yet\n")}function K(R,S,T,U){while(true){var V=U,W=T;if(V<=0)return 0;else{var X=a("bs_caml_missing_polyfill").not_implemented("caml_ml_input not implemented by bucklescript yet\n");if(X){U=V-X|0;T=W+X|0;continue}else throw a("bs_caml_builtin_exceptions").end_of_file}}}function L(R,S,T,U){if(T<0||U<0||T>(S.length-U|0))throw[a("bs_caml_builtin_exceptions").invalid_argument,"really_input"];else return K(R,S,T,U)}function M(R,S){var T=a("bs_caml_string").caml_create_string(S);L(R,T,0,S);return a("bs_caml_string").bytes_to_string(T)}function N(R){var S=function S(U,V,W){while(true){var X=W,Y=V;if(X){var Z=X[0],$=Z.length;a("bs_caml_string").caml_blit_bytes(Z,0,U,Y-$|0,$);W=X[1];V=Y-$|0;continue}else return U}},T=function T(U,V){while(true){var W=V,X=U,Y=a("bs_caml_missing_polyfill").not_implemented("caml_ml_input_scan_line not implemented by bucklescript yet\n");if(Y)if(Y>0){var Z=a("bs_caml_string").caml_create_string(Y-1|0);a("bs_caml_missing_polyfill").not_implemented("caml_ml_input not implemented by bucklescript yet\n");a("bs_caml_io").caml_ml_input_char(R);if(X){var $=(W+Y|0)-1|0;return S(a("bs_caml_string").caml_create_string($),$,[Z,X])}else return Z}else{var eb=a("bs_caml_string").caml_create_string(-Y|0);a("bs_caml_missing_polyfill").not_implemented("caml_ml_input not implemented by bucklescript yet\n");V=W-Y|0;U=[eb,X];continue}else if(X)return S(a("bs_caml_string").caml_create_string(W),W,X);else throw a("bs_caml_builtin_exceptions").end_of_file}};return a("bs_caml_string").bytes_to_string(T(0,0))}function O(){try{return a("bs_caml_missing_polyfill").not_implemented("caml_ml_close_channel not implemented by bucklescript yet\n")}catch(R){return 0}}function fa(R){return a("bs_caml_io").caml_ml_output_char(t,R)}function ga(R){return A(t,R)}function ha(R){return z(t,R)}function ia(R){return A(t,""+R)}function ja(R){return A(t,p(a("bs_caml_format").caml_format_float("%.12g",R)))}function ka(R){return 0}function la(){a("bs_caml_io").caml_ml_output_char(t,10);return a("bs_caml_io").caml_ml_flush(t)}function ma(R){return a("bs_caml_io").caml_ml_output_char(u,R)}function na(R){return A(u,R)}function oa(R){return z(u,R)}function pa(R){return A(u,""+R)}function qa(R){return A(u,p(a("bs_caml_format").caml_format_float("%.12g",R)))}function ra(R){return 0}function sa(){a("bs_caml_io").caml_ml_output_char(u,10);return a("bs_caml_io").caml_ml_flush(u)}function ta(){a("bs_caml_io").caml_ml_flush(t);return N(s)}function ua(){return a("bs_caml_format").caml_int_of_string((a("bs_caml_io").caml_ml_flush(t),N(s)))}function va(){return a("bs_caml_format").caml_float_of_string((a("bs_caml_io").caml_ml_flush(t),N(s)))}function wa(R){return R[1]}function xa(R,S){return[a("bs_camlinternalFormatBasics").concat_fmt(R[0],S[0]),k(R[1],k("%,",S[1]))]}var P=[y];function ya(R){var S=P[0];P[0]=function(){a("bs_curry")._1(R,0);return a("bs_curry")._1(S,0)};return 0}function Q(){return a("bs_curry")._1(P[0],0)}function za(R){Q(0);return a("bs_caml_sys").caml_sys_exit(R)}var Aa=2147483647,Ba=Infinity,Ca=-Infinity,Da=NaN,Ea=Number.MAX_VALUE,Fa=Number.MIN_VALUE,Ga=2220446049250313e-31,Ha=a("bs_caml_io").caml_ml_flush,Ia=a("bs_caml_io").caml_ml_output_char,Ja=a("bs_caml_io").caml_ml_output_char;function Ka(R,S){return a("bs_caml_missing_polyfill").not_implemented("caml_ml_output_int not implemented by bucklescript yet\n")}function La(R,S){return a("bs_caml_missing_polyfill").not_implemented("caml_ml_seek_out not implemented by bucklescript yet\n")}function Ma(){return a("bs_caml_missing_polyfill").not_implemented("caml_ml_pos_out not implemented by bucklescript yet\n")}function Na(){return a("bs_caml_missing_polyfill").not_implemented("caml_ml_channel_size not implemented by bucklescript yet\n")}function Oa(R,S){return a("bs_caml_missing_polyfill").not_implemented("caml_ml_set_binary_mode not implemented by bucklescript yet\n")}var Pa=a("bs_caml_io").caml_ml_input_char,Qa=a("bs_caml_io").caml_ml_input_char;function Ra(){return a("bs_caml_missing_polyfill").not_implemented("caml_ml_input_int not implemented by bucklescript yet\n")}function Sa(){return a("bs_caml_missing_polyfill").not_implemented("caml_input_value not implemented by bucklescript yet\n")}function Ta(R,S){return a("bs_caml_missing_polyfill").not_implemented("caml_ml_seek_in not implemented by bucklescript yet\n")}function Ua(){return a("bs_caml_missing_polyfill").not_implemented("caml_ml_pos_in not implemented by bucklescript yet\n")}function Va(){return a("bs_caml_missing_polyfill").not_implemented("caml_ml_channel_size not implemented by bucklescript yet\n")}function Wa(){return a("bs_caml_missing_polyfill").not_implemented("caml_ml_close_channel not implemented by bucklescript yet\n")}function Xa(R,S){return a("bs_caml_missing_polyfill").not_implemented("caml_ml_set_binary_mode not implemented by bucklescript yet\n")}function Ya(R,S){return a("bs_caml_missing_polyfill").not_implemented("caml_ml_seek_out_64 not implemented by bucklescript yet\n")}function Za(){return a("bs_caml_missing_polyfill").not_implemented("caml_ml_pos_out_64 not implemented by bucklescript yet\n")}function $a(){return a("bs_caml_missing_polyfill").not_implemented("caml_ml_channel_size_64 not implemented by bucklescript yet\n")}function ab(R,S){return a("bs_caml_missing_polyfill").not_implemented("caml_ml_seek_in_64 not implemented by bucklescript yet\n")}function bb(){return a("bs_caml_missing_polyfill").not_implemented("caml_ml_pos_in_64 not implemented by bucklescript yet\n")}function cb(){return a("bs_caml_missing_polyfill").not_implemented("caml_ml_channel_size_64 not implemented by bucklescript yet\n")}var db=[Ya,Za,$a,ab,bb,cb];b.invalid_arg=d;b.failwith=c;b.Exit=e;b.min=f;b.max=g;b.abs=h;b.max_int=Aa;b.min_int=j;b.lnot=i;b.infinity=Ba;b.neg_infinity=Ca;b.nan=Da;b.max_float=Ea;b.min_float=Fa;b.epsilon_float=Ga;b.$caret=k;b.char_of_int=l;b.string_of_bool=m;b.bool_of_string=n;b.string_of_int=o;b.string_of_float=q;b.$at=r;b.stdin=s;b.stdout=t;b.stderr=u;b.print_char=fa;b.print_string=ga;b.print_bytes=ha;b.print_int=ia;b.print_float=ja;b.print_endline=ka;b.print_newline=la;b.prerr_char=ma;b.prerr_string=na;b.prerr_bytes=oa;b.prerr_int=pa;b.prerr_float=qa;b.prerr_endline=ra;b.prerr_newline=sa;b.read_line=ta;b.read_int=ua;b.read_float=va;b.open_out=w;b.open_out_bin=x;b.open_out_gen=v;b.flush=Ha;b.flush_all=y;b.output_char=Ia;b.output_string=A;b.output_bytes=z;b.output=B;b.output_substring=C;b.output_byte=Ja;b.output_binary_int=Ka;b.output_value=D;b.seek_out=La;b.pos_out=Ma;b.out_channel_length=Na;b.close_out=E;b.close_out_noerr=F;b.set_binary_mode_out=Oa;b.open_in=H;b.open_in_bin=I;b.open_in_gen=G;b.input_char=Pa;b.input_line=N;b.input=J;b.really_input=L;b.really_input_string=M;b.input_byte=Qa;b.input_binary_int=Ra;b.input_value=Sa;b.seek_in=Ta;b.pos_in=Ua;b.in_channel_length=Va;b.close_in=Wa;b.close_in_noerr=O;b.set_binary_mode_in=Xa;b.LargeFile=db;b.string_of_format=wa;b.$caret$caret=xa;b.exit=za;b.at_exit=ya;b.valid_float_lexem=p;b.unsafe_really_input=K;b.do_at_exit=Q}),null);
__d("bs_list",["bs_curry","bs_caml_obj","bs_pervasives","bs_caml_builtin_exceptions"],(function aa(ba,a,ca,da,ea,b){"use strict";function c(q){var r=0,s=q;while(true){var t=s,u=r;if(t){s=t[1];r=u+1|0;continue}else return u}}function fa(q){if(q)return q[0];else throw[a("bs_caml_builtin_exceptions").failure,"hd"]}function ga(q){if(q)return q[1];else throw[a("bs_caml_builtin_exceptions").failure,"tl"]}function ha(q,r){if(r<0)throw[a("bs_caml_builtin_exceptions").invalid_argument,"List.nth"];else{var s=q,t=r;while(true){var u=t,v=s;if(v)if(u){t=u-1|0;s=v[1];continue}else return v[0];else throw[a("bs_caml_builtin_exceptions").failure,"nth"]}}}function d(q,r){while(true){var s=r,t=q;if(t){r=[t[0],s];q=t[1];continue}else return s}}function ia(q){return d(q,0)}function e(q){if(q)return a("bs_pervasives").$at(q[0],e(q[1]));else return 0}function f(q,r){if(r){var s=a("bs_curry")._1(q,r[0]);return[s,f(q,r[1])]}else return 0}function g(q,r,s){if(s){var t=a("bs_curry")._2(r,q,s[0]);return[t,g(q+1|0,r,s[1])]}else return 0}function ja(q,r){return g(0,q,r)}function ka(q,r){var s=0,t=r;while(true){var u=t,v=s;if(u){t=u[1];s=[a("bs_curry")._1(q,u[0]),v];continue}else return v}}function la(q,r){while(true){var s=r;if(s){a("bs_curry")._1(q,s[0]);r=s[1];continue}else return 0}}function ma(q,r){var s=0,t=q,u=r;while(true){var v=u,w=s;if(v){a("bs_curry")._2(t,w,v[0]);u=v[1];s=w+1|0;continue}else return 0}}function na(q,r,s){while(true){var t=s,u=r;if(t){s=t[1];r=a("bs_curry")._2(q,u,t[0]);continue}else return u}}function h(q,r,s){if(r)return a("bs_curry")._2(q,r[0],h(q,r[1],s));else return s}function i(q,r,s){if(r)if(s){var t=a("bs_curry")._2(q,r[0],s[0]);return[t,i(q,r[1],s[1])]}else throw[a("bs_caml_builtin_exceptions").invalid_argument,"List.map2"];else if(s)throw[a("bs_caml_builtin_exceptions").invalid_argument,"List.map2"];else return 0}function oa(q,r,s){var t=0,u=r,v=s;while(true){var w=v,x=u,y=t;if(x)if(w){v=w[1];u=x[1];t=[a("bs_curry")._2(q,x[0],w[0]),y];continue}else throw[a("bs_caml_builtin_exceptions").invalid_argument,"List.rev_map2"];else if(w)throw[a("bs_caml_builtin_exceptions").invalid_argument,"List.rev_map2"];else return y}}function pa(q,r,s){while(true){var t=s,u=r;if(u)if(t){a("bs_curry")._2(q,u[0],t[0]);s=t[1];r=u[1];continue}else throw[a("bs_caml_builtin_exceptions").invalid_argument,"List.iter2"];else if(t)throw[a("bs_caml_builtin_exceptions").invalid_argument,"List.iter2"];else return 0}}function qa(q,r,s,t){while(true){var u=t,v=s,w=r;if(v)if(u){t=u[1];s=v[1];r=a("bs_curry")._3(q,w,v[0],u[0]);continue}else throw[a("bs_caml_builtin_exceptions").invalid_argument,"List.fold_left2"];else if(u)throw[a("bs_caml_builtin_exceptions").invalid_argument,"List.fold_left2"];else return w}}function j(q,r,s,t){if(r)if(s)return a("bs_curry")._3(q,r[0],s[0],j(q,r[1],s[1],t));else throw[a("bs_caml_builtin_exceptions").invalid_argument,"List.fold_right2"];else if(s)throw[a("bs_caml_builtin_exceptions").invalid_argument,"List.fold_right2"];else return t}function ra(q,r){while(true){var s=r;if(s)if(a("bs_curry")._1(q,s[0])){r=s[1];continue}else return 0;else return 1}}function sa(q,r){while(true){var s=r;if(s)if(a("bs_curry")._1(q,s[0]))return 1;else{r=s[1];continue}else return 0}}function ta(q,r,s){while(true){var t=s,u=r;if(u)if(t)if(a("bs_curry")._2(q,u[0],t[0])){s=t[1];r=u[1];continue}else return 0;else throw[a("bs_caml_builtin_exceptions").invalid_argument,"List.for_all2"];else if(t)throw[a("bs_caml_builtin_exceptions").invalid_argument,"List.for_all2"];else return 1}}function ua(q,r,s){while(true){var t=s,u=r;if(u)if(t)if(a("bs_curry")._2(q,u[0],t[0]))return 1;else{s=t[1];r=u[1];continue}else throw[a("bs_caml_builtin_exceptions").invalid_argument,"List.exists2"];else if(t)throw[a("bs_caml_builtin_exceptions").invalid_argument,"List.exists2"];else return 0}}function va(q,r){while(true){var s=r;if(s)if(a("bs_caml_obj").caml_compare(s[0],q)){r=s[1];continue}else return 1;else return 0}}function wa(q,r){while(true){var s=r;if(s)if(s[0]===q)return 1;else{r=s[1];continue}else return 0}}function xa(q,r){while(true){var s=r;if(s){var t=s[0];if(a("bs_caml_obj").caml_compare(t[0],q)){r=s[1];continue}else return t[1]}else throw a("bs_caml_builtin_exceptions").not_found}}function ya(q,r){while(true){var s=r;if(s){var t=s[0];if(t[0]===q)return t[1];else{r=s[1];continue}}else throw a("bs_caml_builtin_exceptions").not_found}}function za(q,r){while(true){var s=r;if(s)if(a("bs_caml_obj").caml_compare(s[0][0],q)){r=s[1];continue}else return 1;else return 0}}function Aa(q,r){while(true){var s=r;if(s)if(s[0][0]===q)return 1;else{r=s[1];continue}else return 0}}function k(q,r){if(r){var s=r[1],t=r[0];if(a("bs_caml_obj").caml_compare(t[0],q))return[t,k(q,s)];else return s}else return 0}function l(q,r){if(r){var s=r[1],t=r[0];if(t[0]===q)return s;else return[t,l(q,s)]}else return 0}function Ba(q,r){while(true){var s=r;if(s){var t=s[0];if(a("bs_curry")._1(q,t))return t;else{r=s[1];continue}}else throw a("bs_caml_builtin_exceptions").not_found}}function Ca(q){return function(r){var s=0,t=r;while(true){var u=t,v=s;if(u){var w=u[1],x=u[0];if(a("bs_curry")._1(q,x)){t=w;s=[x,v];continue}else{t=w;continue}}else return d(v,0)}}}function Da(q,r){var s=0,t=0,u=r;while(true){var v=u,w=t,x=s;if(v){var y=v[1],z=v[0];if(a("bs_curry")._1(q,z)){u=y;s=[z,x];continue}else{u=y;t=[z,w];continue}}else return[d(x,0),d(w,0)]}}function Ea(q){if(q){var r=q[0],s=Ea(q[1]);return[[r[0],s[0]],[r[1],s[1]]]}else return[0,0]}function Fa(q,r){if(q)if(r)return[[q[0],r[0]],Fa(q[1],r[1])];else throw[a("bs_caml_builtin_exceptions").invalid_argument,"List.combine"];else if(r)throw[a("bs_caml_builtin_exceptions").invalid_argument,"List.combine"];else return 0}function m(q,r,s){if(r)if(s){var t=s[0],u=r[0];if(a("bs_curry")._2(q,u,t)<=0)return[u,m(q,r[1],s)];else return[t,m(q,r,s[1])]}else return r;else return s}function n(q,r){while(true){var s=r,t=q;if(t)if(s){r=s[1];q=t-1|0;continue}else throw[a("bs_caml_builtin_exceptions").assert_failure,["list.ml",223,11]];else return s}}function o(q,r){var p=function p(u,r){var v=0;if(u!==2)if(u!==3)v=1;else if(r){var w=r[1];if(w){var x=w[1];if(x){var y=x[0],z=w[0],A=r[0];if(a("bs_curry")._2(q,A,z)<=0)if(a("bs_curry")._2(q,z,y)<=0)return[A,[z,[y,0]]];else if(a("bs_curry")._2(q,A,y)<=0)return[A,[y,[z,0]]];else return[y,[A,[z,0]]];else if(a("bs_curry")._2(q,A,y)<=0)return[z,[A,[y,0]]];else if(a("bs_curry")._2(q,z,y)<=0)return[z,[y,[A,0]]];else return[y,[z,[A,0]]]}else v=1}else v=1}else v=1;else if(r){var B=r[1];if(B){var C=B[0],D=r[0];if(a("bs_curry")._2(q,D,C)<=0)return[D,[C,0]];else return[C,[D,0]]}else v=1}else v=1;if(v===1){var E=u>>1,F=u-E|0,G=n(E,r),H=s(E,r),I=s(F,G),J=H,K=I,L=0;while(true){var M=L,N=K,O=J;if(O)if(N){var P=N[0],Q=O[0];if(a("bs_curry")._2(q,Q,P)>0){L=[Q,M];J=O[1];continue}else{L=[P,M];K=N[1];continue}}else return d(O,M);else return d(N,M)}}},s=function s(u,r){var v=0;if(u!==2)if(u!==3)v=1;else if(r){var w=r[1];if(w){var x=w[1];if(x){var y=x[0],z=w[0],A=r[0];if(a("bs_curry")._2(q,A,z)>0)if(a("bs_curry")._2(q,z,y)>0)return[A,[z,[y,0]]];else if(a("bs_curry")._2(q,A,y)>0)return[A,[y,[z,0]]];else return[y,[A,[z,0]]];else if(a("bs_curry")._2(q,A,y)>0)return[z,[A,[y,0]]];else if(a("bs_curry")._2(q,z,y)>0)return[z,[y,[A,0]]];else return[y,[z,[A,0]]]}else v=1}else v=1}else v=1;else if(r){var B=r[1];if(B){var C=B[0],D=r[0];if(a("bs_curry")._2(q,D,C)>0)return[D,[C,0]];else return[C,[D,0]]}else v=1}else v=1;if(v===1){var E=u>>1,F=u-E|0,G=n(E,r),H=p(E,r),I=p(F,G),J=H,K=I,L=0;while(true){var M=L,N=K,O=J;if(O)if(N){var P=N[0],Q=O[0];if(a("bs_curry")._2(q,Q,P)<=0){L=[Q,M];J=O[1];continue}else{L=[P,M];K=N[1];continue}}else return d(O,M);else return d(N,M)}}},t=c(r);if(t<2)return r;else return p(t,r)}function Ga(q,r){var p=function p(u,r){var v=0;if(u!==2)if(u!==3)v=1;else if(r){var w=r[1];if(w){var x=w[1];if(x){var y=x[0],z=w[0],A=r[0],B=a("bs_curry")._2(q,A,z);if(B)if(B<0){var C=a("bs_curry")._2(q,z,y);if(C)if(C<0)return[A,[z,[y,0]]];else{var D=a("bs_curry")._2(q,A,y);if(D)if(D<0)return[A,[y,[z,0]]];else return[y,[A,[z,0]]];else return[A,[z,0]]}else return[A,[z,0]]}else{var E=a("bs_curry")._2(q,A,y);if(E)if(E<0)return[z,[A,[y,0]]];else{var F=a("bs_curry")._2(q,z,y);if(F)if(F<0)return[z,[y,[A,0]]];else return[y,[z,[A,0]]];else return[z,[A,0]]}else return[z,[A,0]]}else{var G=a("bs_curry")._2(q,z,y);if(G)if(G<0)return[z,[y,0]];else return[y,[z,0]];else return[z,0]}}else v=1}else v=1}else v=1;else if(r){var H=r[1];if(H){var I=H[0],J=r[0],K=a("bs_curry")._2(q,J,I);if(K)if(K<0)return[J,[I,0]];else return[I,[J,0]];else return[J,0]}else v=1}else v=1;if(v===1){var L=u>>1,M=u-L|0,N=n(L,r),O=s(L,r),P=s(M,N),Q=O,R=P,S=0;while(true){var T=S,U=R,V=Q;if(V)if(U){var W=U[1],X=U[0],Y=V[1],Z=V[0],$=a("bs_curry")._2(q,Z,X);if($)if($>0){S=[Z,T];Q=Y;continue}else{S=[X,T];R=W;continue}else{S=[Z,T];R=W;Q=Y;continue}}else return d(V,T);else return d(U,T)}}},s=function s(u,r){var v=0;if(u!==2)if(u!==3)v=1;else if(r){var w=r[1];if(w){var x=w[1];if(x){var y=x[0],z=w[0],A=r[0],B=a("bs_curry")._2(q,A,z);if(B)if(B>0){var C=a("bs_curry")._2(q,z,y);if(C)if(C>0)return[A,[z,[y,0]]];else{var D=a("bs_curry")._2(q,A,y);if(D)if(D>0)return[A,[y,[z,0]]];else return[y,[A,[z,0]]];else return[A,[z,0]]}else return[A,[z,0]]}else{var E=a("bs_curry")._2(q,A,y);if(E)if(E>0)return[z,[A,[y,0]]];else{var F=a("bs_curry")._2(q,z,y);if(F)if(F>0)return[z,[y,[A,0]]];else return[y,[z,[A,0]]];else return[z,[A,0]]}else return[z,[A,0]]}else{var G=a("bs_curry")._2(q,z,y);if(G)if(G>0)return[z,[y,0]];else return[y,[z,0]];else return[z,0]}}else v=1}else v=1}else v=1;else if(r){var H=r[1];if(H){var I=H[0],J=r[0],K=a("bs_curry")._2(q,J,I);if(K)if(K>0)return[J,[I,0]];else return[I,[J,0]];else return[J,0]}else v=1}else v=1;if(v===1){var L=u>>1,M=u-L|0,N=n(L,r),O=p(L,r),P=p(M,N),Q=O,R=P,S=0;while(true){var T=S,U=R,V=Q;if(V)if(U){var W=U[1],X=U[0],Y=V[1],Z=V[0],$=a("bs_curry")._2(q,Z,X);if($)if($<0){S=[Z,T];Q=Y;continue}else{S=[X,T];R=W;continue}else{S=[Z,T];R=W;Q=Y;continue}}else return d(V,T);else return d(U,T)}}},t=c(r);if(t<2)return r;else return p(t,r)}var Ha=a("bs_pervasives").$at,Ia=e,Ja=Ca,p=o,Ka=o;b.length=c;b.hd=fa;b.tl=ga;b.nth=ha;b.rev=ia;b.append=Ha;b.rev_append=d;b.concat=Ia;b.flatten=e;b.iter=la;b.iteri=ma;b.map=f;b.mapi=ja;b.rev_map=ka;b.fold_left=na;b.fold_right=h;b.iter2=pa;b.map2=i;b.rev_map2=oa;b.fold_left2=qa;b.fold_right2=j;b.for_all=ra;b.exists=sa;b.for_all2=ta;b.exists2=ua;b.mem=va;b.memq=wa;b.find=Ba;b.filter=Ja;b.find_all=Ca;b.partition=Da;b.assoc=xa;b.assq=ya;b.mem_assoc=za;b.mem_assq=Aa;b.remove_assoc=k;b.remove_assq=l;b.split=Ea;b.combine=Fa;b.sort=p;b.stable_sort=o;b.fast_sort=Ka;b.sort_uniq=Ga;b.merge=m}),null);
__d("ReasonReact",["bs_list","bs_curry","React","bs_caml_builtin_exceptions"],(function aa(ba,a,ca,da,ea,b){"use strict";function c(D,E,F){var G=[D,E].concat(F);return a("React").createElement.apply(null,G)}var d=null;function e(){return 0}function f(D,E,F){a("bs_curry")._1(D,F);return a("bs_curry")._1(E,F)}var g=[e,f];function h(){return 0}function i(){return 0}function j(){return 0}function k(){return 0}function l(){return 1}function m(D){return D[4]}function n(){return"RenderNotImplemented"}function o(){return 0}function p(D,E){return 0}function q(D,E,F){var G=D.reasonProps;if(G==null)if(E)return[a("bs_curry")._1(E[0],D)];else throw[a("bs_caml_builtin_exceptions").invalid_argument,"A JS component called the Reason component "+(F+" which didn't implement the JS->Reason React props conversion.")];else return G}function r(D){return a("React").createClass({displayName:D,self:function E(F,G){var H=this;return[H.handleMethod,H.updateMethod,H.enqueueMethod,H.reduceMethod,F,G]},transitionNextTotalState:function E(F,G){if(typeof G==="number")return F;else switch(G.tag|0){case 0:return{reasonState:G[0],reasonStateVersion:F.reasonStateVersion+1|0,reasonStateVersionUsedToComputeSubelements:F.reasonStateVersionUsedToComputeSubelements,sideEffects:F.sideEffects};case 1:return{reasonState:G[0],reasonStateVersion:F.reasonStateVersion+1|0,reasonStateVersionUsedToComputeSubelements:F.reasonStateVersionUsedToComputeSubelements+1|0,sideEffects:F.sideEffects};case 2:return{reasonState:F.reasonState,reasonStateVersion:F.reasonStateVersion+1|0,reasonStateVersionUsedToComputeSubelements:F.reasonStateVersionUsedToComputeSubelements+1|0,sideEffects:[G[0],F.sideEffects]};case 3:return{reasonState:G[0],reasonStateVersion:F.reasonStateVersion+1|0,reasonStateVersionUsedToComputeSubelements:F.reasonStateVersionUsedToComputeSubelements,sideEffects:[G[1],F.sideEffects]};case 4:return{reasonState:G[0],reasonStateVersion:F.reasonStateVersion+1|0,reasonStateVersionUsedToComputeSubelements:F.reasonStateVersionUsedToComputeSubelements+1|0,sideEffects:[G[1],F.sideEffects]}}},getInitialState:function E(){var F=this,G=q(F.props,F.jsPropsToReason,D),H=a("bs_curry")._1(G[0][10],0);return{reasonState:H,reasonStateVersion:1,reasonStateVersionUsedToComputeSubelements:1,sideEffects:0}},componentDidMount:function E(){var F=this,G=this,H=q(G.props,G.jsPropsToReason,D),I=H[0];if(I[4]!==h){var J=G.state,K=J.reasonState,L=F.self(K,I[11]),M=a("bs_curry")._1(I[4],L),N=F.transitionNextTotalState(J,M);if(N.reasonStateVersion!==J.reasonStateVersion)return G.setState(N);else return 0}else return 0},componentDidUpdate:function E(F,G){var H=this,I=this,J=I.state,K=J.reasonState,L=I.props,M=q(L,I.jsPropsToReason,D),N=M[0];if(N[5]!==j){var O=+(F===L),P=O!==0?M:q(F,I.jsPropsToReason,D),Q=G.reasonState,R=H.self(K,N[11]),S=R[0],T=R[1],U=R[2],V=R[3],W=P[0][11],X=[S,T,U,V,Q,W];return a("bs_curry")._1(N[5],[X,R])}else return 0},componentWillUnmount:function E(){var F=this,G=this,H=q(G.props,G.jsPropsToReason,D),I=H[0];if(I[6]!==k){var J=G.state,K=J.reasonState;return a("bs_curry")._1(I[6],F.self(K,I[11]))}else return 0},componentWillUpdate:function E(F,G){var H=this,I=this,J=q(F,I.jsPropsToReason,D),K=J[0];if(K[7]!==i){var L=I.props,M=+(F===L),N=M!==0?J:q(L,I.jsPropsToReason,D),O=I.state,P=O.reasonState,Q=G.reasonState,R=H.self(Q,K[11]),S=R[0],T=R[1],U=R[2],V=R[3],W=N[0][11],X=[S,T,U,V,P,W];return a("bs_curry")._1(K[7],[X,R])}else return 0},componentWillReceiveProps:function E(F){var G=this,H=this,I=q(F,H.jsPropsToReason,D),J=I[0];if(J[3]!==m){var K=H.props,L=+(F===K),M=L!==0?I:q(K,H.jsPropsToReason,D),N=M[0];return H.setState(function(O,P){var Q=O.reasonState,R=O.reasonStateVersion,S=G.self(Q,N[11]),T=a("bs_curry")._1(J[3],S),L=+(T!==Q),U=L!==0?R+1|0:R;if(U!==R)return{reasonState:T,reasonStateVersion:U,reasonStateVersionUsedToComputeSubelements:O.reasonStateVersionUsedToComputeSubelements,sideEffects:T.sideEffects};else return O})}else return 0},shouldComponentUpdate:function E(F,G,H){var I=this,J=this,K=J.props,L=+(F!==K),M=q(J.props,J.jsPropsToReason,D),N=+(F===K),O=N!==0?M:q(F,J.jsPropsToReason,D),P=O[0],Q=G.reasonStateVersion,R=G.reasonStateVersionUsedToComputeSubelements,S=+(R!==Q),T=L||S,U=G.reasonState,V=I.self(U,P[11]),W;if(T&&P[8]!==l){var X=J.state,Y=X.reasonState,Z=V[0],fa=V[1],ga=V[2],ha=V[3],ia=M[0][11],ja=[Z,fa,ga,ha,Y,ia];W=a("bs_curry")._1(P[8],[ja,V])}else W=T;G.reasonStateVersionUsedToComputeSubelements=Q;var $=a("bs_list").rev(G.sideEffects);if($!==0){a("bs_list").iter(function(la){return a("bs_curry")._1(la,V)},$);var ka={reasonState:G.reasonState,reasonStateVersion:G.reasonStateVersion,reasonStateVersionUsedToComputeSubelements:Q,sideEffects:0};J.setState(ka)}return W},enqueueMethod:function E(F){var G=this,H=this;return function(I){var J=a("bs_curry")._1(F,I);return H.setState(function(K,L){var M=K.reasonState,N=a("bs_curry")._1(J,M);if(N){var O=G.transitionNextTotalState(K,N);if(O.reasonStateVersion!==K.reasonStateVersion)return O;else return d}else return d})}},handleMethod:function E(F){var G=this,H=this;return function(I){var J=H.state,K=J.reasonState,L=q(H.props,H.jsPropsToReason,D);return a("bs_curry")._2(F,I,G.self(K,L[0][11]))}},updateMethod:function E(F){var G=this,H=this;return function(I){var J=H.state,K=J.reasonState,L=q(H.props,H.jsPropsToReason,D),M=a("bs_curry")._2(F,I,G.self(K,L[0][11]));if(M){var N=G.transitionNextTotalState(J,M);if(N.reasonStateVersion!==J.reasonStateVersion)return H.setState(N);else return 0}else return d}},reduceMethod:function E(F){var G=this,H=this;return function(I){var J=q(H.props,H.jsPropsToReason,D),K=J[0];if(K[12]!==p){var L=a("bs_curry")._1(F,I);return H.setState(function(M,N){var O=M.reasonState,P=a("bs_curry")._2(K[12],L,O);if(P){var Q=G.transitionNextTotalState(M,P);if(Q.reasonStateVersion!==M.reasonStateVersion)return Q;else return d}else return d})}else return 0}},render:function E(){var F=this,G=this,H=q(G.props,G.jsPropsToReason,D),I=H[0],J=G.state,K=J.reasonState;return a("bs_curry")._1(I[9],F.self(K,I[11]))}})}function s(D){return[D,r(D),[0],m,h,j,k,i,l,n,o,0,p,0]}var t=s,u=s,v=s,w=s,x=s,y=s;function z(D,E,F){var G=D?D[0]:undefined,H=E?E[0]:undefined,I=[F],J=F[13];if(J)return a("bs_curry")._2(J[0],G,H);else return a("React").createElement(F[1],{key:G,ref:H,reasonProps:I})}function A(D,E){var F=D[1].prototype;F.jsPropsToReason=[E];return D[1]}var B=u("interop");function C(D,E,F){var G=[function(I,J){var K=D,L=E,M=F,N=I,O=J,P=Object.assign(Object.assign({},L),{ref:O,key:N}),Q=[K,P].concat(M);return a("React").createElement.apply(null,Q)}],H=B.slice();H[13]=G;return H}b.Callback=g;b.statelessComponent=t;b.statelessComponentWithRetainedProps=w;b.reducerComponent=x;b.reducerComponentWithRetainedProps=y;b.statefulComponent=u;b.statefulComponentWithRetainedProps=v;b.element=z;b.wrapReasonForJs=A;b.createDomElement=c;b.wrapJsForReason=C}),null);
__d("XBrowserWebNotificationsEnableController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/notifications/client/web_notifications/enable/",{})}),null);
__d("BrowserPushDirectPromptInstaller",["Promise","Arbiter","AsyncRequest","BanzaiLogger","BrowserPushSessionChange.react","Bootloader","CrossWindowEventEmitter","DOM","NotificationPermissionNotice.react","NotificationPermissionRequest.react","NotificationPermissionRequestWithPreview.react","PushRegistration","QE2Logger","React","ReactDOM","XBrowserPushDisabledController","XBrowserPushXOutController","XBrowserWebNotificationsEnableController","XPushRegisterServiceWorkerController","emptyFunction","incognito"],(function a(b,c,d,e,f,g){"use strict";var h=window.Notification,i=new(c("CrossWindowEventEmitter"))("BrowserPushInstall"),j={},k,l=false;function m(event,u){var v=babelHelpers["extends"]({event:event,appid:u,surface:"prompt"},j);c("BanzaiLogger").log("BrowserPushLoggerConfig",v)}function n(){if(j.xout_count===0&&k)c("QE2Logger").logExposureForUser(k)}function o(u){var v=c("XBrowserPushXOutController").getURIBuilder().getURI();new(c("AsyncRequest"))().setURI(v).setMethod("POST").send();m("xout",u)}function p(u){var v=c("XBrowserWebNotificationsEnableController").getURIBuilder().getURI();new(c("AsyncRequest"))().setURI(v).setMethod("POST").send();c("Arbiter").inform("WebNotifications/enabled");i.emitRemote("complete");c("Bootloader").loadModules(["WebNotificationsPresenter"],function(w){w.init(u.toString())},"BrowserPushDirectPromptInstaller")}function q(u){if(!l){l=true;c("ReactDOM").unmountComponentAtNode(u)}}function r(u,v){var w=c("DOM").insertBefore(u,c("DOM").create("span")),x=w.pop();c("ReactDOM").render(c("React").createElement(c("BrowserPushSessionChange.react"),{onHide:function y(){c("ReactDOM").unmountComponentAtNode(u)},push:v}),x)}function s(u,v,w,x,y){var z=c("PushRegistration").get(u,v);m("turn_on",v);return z.registerPushWithFinishedCallBack(c("XPushRegisterServiceWorkerController"),c("AsyncRequest"),function(){r(w,z)},function(){c("Arbiter").inform("BrowserPushInstall/installed")},y).then(function(){q(w);m("install",v)})["catch"](function(A){q(w);if(c("PushRegistration").pushPermissionIsDenied()){c("ReactDOM").render(c("React").createElement(c("NotificationPermissionNotice.react"),{onHide:function B(){c("ReactDOM").unmountComponentAtNode(w)},browserName:x}),w);m("deny",v)}else m("install_ignore",v);o(v)})}var t={setLogExtraData:function u(v){j=v},setQEUniverseName:function u(v){k=v},requestThenInstallWebNotifications:function u(v,w,x,y,z,A){n();this._showRequestPermissions({appID:v,baseElement:w,browserName:x,hasEnoughFriendsToRequestPush:y,sampleNotificationAvatarURI:A,sampleNotificationMessage:z,showSpinnerWhileRequesting:true,isWebNotifications:true,onAcceptCallback:this._getOnWebNotificationsDialogAccept({appID:v,callback:function B(C){if(C==="granted"){m("install",v);i.emitRemote("complete");q(w);p(v)}else{m("deny",v);o(v)}}})})},requestThenInstallPush:function u(v,w,x,y,z,A,B,C,D,E,F,G){var H=c("PushRegistration").get(v,w),I=H.isPushRegistered(y,c("XPushRegisterServiceWorkerController"),c("XBrowserPushDisabledController"),c("AsyncRequest"),!!A,function(){r(x,H)},C);c("Promise").all([I,c("incognito")()]).then(function(J){var K=J[0],L=J[1];if(K||L)return;n();if(c("PushRegistration").pushPermissionIsPending())this._showRequestPermissions({appID:w,baseElement:x,hasEnoughFriendsToRequestPush:D,isWebNotifications:false,onAcceptCallback:this._getOnPushNotificationsAccept({appID:w,baseElement:x,browserName:B,path:v,workerIsForPushOnly:C}),sampleNotificationAvatarURI:F,sampleNotificationMessage:E,showSpinnerWhileRequesting:G,wasXOuted:z});else if(!z&&c("PushRegistration").pushPermissionIsOn())s(v,w,x,B,C)}.bind(this))["catch"](function(){if(c("PushRegistration").pushPermissionIsDenied())n()})},installPush:function u(v,w,x,y,z,A,B,C,D){var E=c("PushRegistration").get(v,w),F=E.isPushRegistered(y,c("XPushRegisterServiceWorkerController"),c("XBrowserPushDisabledController"),c("AsyncRequest"),!!A,function(){r(x,E)},C);c("Promise").all([F,c("incognito")()]).then(function(G){var H=G[0],I=G[1];if(H||I)return;n();if(c("PushRegistration").pushPermissionIsPending()){if(!D||z)return;c("ReactDOM").render(c("React").createElement(c("NotificationPermissionRequest.react"),{onHide:function J(){q(x)}}),x);s(v,w,x,B,C)}else if(!z)s(v,w,x,B,C)})["catch"](function(){if(c("PushRegistration").pushPermissionIsDenied())n()})},_showRequestPermissions:function u(v){var w=v.appID,x=v.baseElement,y=v.hasEnoughFriendsToRequestPush,z=v.isWebNotifications,A=v.onAcceptCallback,B=v.sampleNotificationAvatarURI,C=v.sampleNotificationMessage,D=v.showSpinnerWhileRequesting,E=v.wasXOuted;i.once("complete",function(F){q(x);m("twostep_suppressed",w)});if(!y||E)return;m("twostep_request",w);c("ReactDOM").render(c("React").createElement(c("NotificationPermissionRequestWithPreview.react"),{isWebNotifications:z,notificationImage:B||undefined,notificationMessage:C||undefined,onAccept:A,onClose:function F(){m("twostep_notnow",w);i.emitRemote("complete");o(w);q(x)},showSpinnerWhileRequesting:D}),x)},_getOnPushNotificationsAccept:function u(v){var w=v.appID,x=v.baseElement,y=v.browserName,z=v.callback,A=v.path,B=v.workerIsForPushOnly;return function(){m("twostep_accept",w);i.emitRemote("complete");s(A,w,x,y,B).then(z,z).done()}},_getOnWebNotificationsDialogAccept:function u(v){var w=v.appID,x=v.callback;return function(){m("twostep_accept",w);this._requestWebNotificationsFromBrowser(w,x)}.bind(this)},_requestWebNotificationsFromBrowser:function u(v,w){m("turn_on",v);h.requestPermission(w)}};f.exports=t}),null);
__d("XBrowserPushMuteController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/notifications/client/push/mute/",{appid:{type:"Int",required:true},push_endpoint:{type:"String",required:true},surface:{type:"Enum",required:true,enumType:1},mute_for:{type:"Enum",enumType:0},__asyncDialog:{type:"Int"}})}),null);
__d("BrowserPushMuteOptions",["fbt","AsyncRequest","PushRegistration","React","ReactDOM","XBrowserPushMuteController"],(function a(b,c,d,e,f,g,h){function i(k,l,m){var n=c("PushRegistration").get(l,m);n.getPushSubscription().done(function(o){if(o){var p=c("XBrowserPushMuteController").getURIBuilder().setEnum("surface","jewel").setString("push_endpoint",o.endpoint).setInt("appid",m).getURI();new(c("AsyncRequest"))().setURI(p).setRelativeTo(k).send()}})}var j={showMuteOptions:function k(l,m,n){if(!c("PushRegistration").pushPermissionIsOn())return;c("ReactDOM").render(c("React").createElement("a",{href:"#",onClick:function o(){i(l,m,n)}},h._("Mute")),l)}};f.exports=j}),null);
__d("BrowserPushNotificationJewelUpsellLogger",["Arbiter","QE2Logger"],(function a(b,c,d,e,f,g){"use strict";var h={exposeOnVisible:function i(j){c("Arbiter").subscribeOnce("notificationJewel/opened",function(){return c("QE2Logger").logExposureForUser(j.qeUniverseName)})}};f.exports=h}),null);