if (self.CavalryLogger) { CavalryLogger.start_js(["Q9B+I"]); }

__d("getByPath",[],(function a(b,c,d,e,f,g){"use strict";function h(i,j,k){var l=i;for(var m=0;m<j.length;m++){var n=j[m];if(l&&typeof l!=="string"&&n in l)l=l[n];else return k}return l}f.exports=h}),null);
__d("UFIRootRegistry",[],(function a(b,c,d,e,f,g){"use strict";var h={},i={},j={},k=[],l={registerController:function m(n,o,p,q){h[n]=q;i[p]=[].concat(i[p]||[],[o]);j[o]=p},registerSnowliftID:function m(n){k.push(n)},isSnowliftNode:function m(n){return k.indexOf(n)>=0},getInstanceIDFromFTEntIdentifier:function m(n){return i[n]||null},getFTEntIdentifierFromInstanceID:function m(n){return j[n]||null},cleanupInstance:function m(n){var o=j[n],p=i[o];if(p&&p.includes(n)){i[o]=p.filter(function(q){return q!=n});if(i[o].length==0)delete i[o]}delete j[n]},cleanupSnowliftNodes:function m(){k.forEach(function(n){return h[n]&&h[n]()});h={};k=[]}};f.exports=l}),null);
__d("LiveWWWFeedbackTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:LiveWWWFeedbackLoggerConfig",this.$LiveWWWFeedbackTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:LiveWWWFeedbackLoggerConfig",this.$LiveWWWFeedbackTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$LiveWWWFeedbackTypedLogger1={};return this};h.prototype.updateData=function(j){this.$LiveWWWFeedbackTypedLogger1=babelHelpers["extends"]({},this.$LiveWWWFeedbackTypedLogger1,j);return this};h.prototype.setCommentID=function(j){this.$LiveWWWFeedbackTypedLogger1.comment_id=j;return this};h.prototype.setEvent=function(j){this.$LiveWWWFeedbackTypedLogger1.event=j;return this};h.prototype.setIsMSite=function(j){this.$LiveWWWFeedbackTypedLogger1.is_m_site=j;return this};h.prototype.setMechanism=function(j){this.$LiveWWWFeedbackTypedLogger1.mechanism=j;return this};h.prototype.setOriginatedLocally=function(j){this.$LiveWWWFeedbackTypedLogger1.originated_locally=j;return this};h.prototype.setRecipientID=function(j){this.$LiveWWWFeedbackTypedLogger1.recipient_id=j;return this};h.prototype.setTimeSinceSub=function(j){this.$LiveWWWFeedbackTypedLogger1.time_since_sub=j;return this};h.prototype.setUpdateType=function(j){this.$LiveWWWFeedbackTypedLogger1.update_type=j;return this};h.prototype.setVC=function(j){this.$LiveWWWFeedbackTypedLogger1.vc=j;return this};var i={comment_id:true,event:true,is_m_site:true,mechanism:true,originated_locally:true,recipient_id:true,time_since_sub:true,update_type:true,vc:true};f.exports=h}),null);
__d("UFIFeedbackMutator",["ClientIDs","LiveWWWFeedbackTypedLogger","UFIConstants","UFIReactionTypes","emptyFunction"],(function a(b,c,d,e,f,g){"use strict";var h=c("UFIConstants").UFIActionType,i=c("UFIConstants").UFIPayloadSourceType,j={getHandlerForAction:function k(l){var m;return(m={},m[h.LIKE_ACTION]=j.handleLike,m[h.SUBSCRIBE_ACTION]=j.handleSubscribe,m[h.DISABLE_COMMENTS]=j.handleCommentsDisabled,m[h.REACTION]=j.handleReaction,m[h.UPDATE_CONSTITUENT_TITLE]=j.handleUpdateConstituentTitle,m)[l.actiontype]||c("emptyFunction")},handleLike:function k(l,m,n){var o=m.clientid&&c("ClientIDs").isExistingClientID(m.clientid);if(n===i.LIVE_SEND||n===i.STREAMING)new(c("LiveWWWFeedbackTypedLogger"))().updateData({event:"update_view",update_type:"like",originated_locally:Boolean(o)}).log();if(o&&m.hasviewerliked!=l.hasviewerliked)return null;l.likecount=m.likecount;l.likesentences=m.likesentences;if(m.actorid==l.actorforpost)l.hasviewerliked=m.hasviewerliked;else{l.likesentences.isunseen=true;if(m.hasviewerliked!=l.hasviewerliked){l.likecount+=l.hasviewerliked?1:-1;l.likesentences={current:m.likesentences.alternate,alternate:m.likesentences.current,isunseen:l.likesentences.isunseen}}}return l},handleSubscribe:function k(l,m,n){if(m.clientid&&c("ClientIDs").isExistingClientID(m.clientid)&&m.hasviewersubscribed!=l.hasviewersubscribed)return null;if(m.actorid==l.actorforpost){l.hasviewersubscribed=m.hasviewersubscribed;return l}return l},handleCommentsDisabled:function k(l,m,n){l.cancomment=m.cancomment;l.arecommentsdisabled=m.arecommentsdisabled;l.commentdisablednotice=m.commentdisablednotice;return l},handleReaction:function k(l,m,n){if(m.clientid&&c("ClientIDs").isExistingClientID(m.clientid)&&m.viewerreaction!==l.viewerreaction)return null;if(l.reactors&&l.actorforpost==m.actorid&&l.viewerreaction!=m.viewerreaction)if(m.viewerreaction==c("UFIReactionTypes").NONE)l.reactors=l.reactors.slice(1);else if(l.viewerreaction==c("UFIReactionTypes").NONE)l.reactors.unshift({name:l.ownname,profilepicsrc:l.ownprofpic,reaction:m.viewerreaction});else l.reactors[0].reaction=m.viewerreaction;if(l.actorforpost==m.actorid||l.viewerreaction==m.viewerreaction){l.reactioncount=m.reactioncount;l.reactioncountmap=m.reactioncountmap;l.reactioncountreduced=m.reactioncountreduced;l.reactionsentences=m.reactionsentences;l.reactorids=m.reactorids;l.userreactions=m.userreactions;l.viewerreaction=m.viewerreaction}return l},handleUpdateConstituentTitle:function k(l,m,n){l.constituentbanneruri=m.constituentbanneruri;return l}};f.exports=j}),null);
__d("UFICentralUpdates",["Arbiter","BanzaiODS","LiveTimer","ShortProfiles","UFIConstants"],(function a(b,c,d,e,f,g){"use strict";c("BanzaiODS").setEntitySample("feedback",1e-4);var h=0,i={},j={},k=[];function l(){if(!h){var p=i,q=j;i={};j={};if(Object.keys(p).length)n("feedback-updated",p);if(Object.keys(q).length)n("comments-updated",q);k.pop()}}function m(){if(k.length)return k[k.length-1];else return c("UFIConstants").UFIPayloadSourceType.UNKNOWN}function n(event,p){o.inform(event,{updates:p,payloadSource:m()})}var o=Object.assign(new(c("Arbiter"))(),{handleUpdate:function p(q,r){if(Object.keys(r).length)this.synchronizeInforms(function(){k.push(q);var s=babelHelpers["extends"]({payloadsource:m()},r);this.inform("update-feedback",s);this.inform("update-comment-lists",s);this.inform("update-comments",s);this.inform("update-actions",s);c("ShortProfiles").setMulti(r.profiles||{});if(r.servertime)c("LiveTimer").restart(r.servertime)}.bind(this))},didUpdateFeedback:function p(q){i[q]=true;l()},didUpdateComment:function p(q){j[q]=true;l()},synchronizeInforms:function p(q){h++;try{q()}catch(r){throw r}finally{h--;l()}}});f.exports=o}),18);
__d("UFIFeedbackTargets",["KeyedCallbackManager","UFICentralUpdates","UFIFeedbackMutator"],(function a(b,c,d,e,f,g){"use strict";var h=new(c("KeyedCallbackManager"))();function i(l){var m;if(!l)return;var n=babelHelpers["extends"]({},l);delete n.commentlist;delete n.commentcount;c("UFICentralUpdates").didUpdateFeedback(l.entidentifier);h.addResourcesAndExecute((m={},m[l.entidentifier]=n,m))}function j(l,m){for(var n=0;n<l.length;n++){var o=l[n];o.arecommentsdisabled=!!o.arecommentsdisabled;o.cancomment=!!o.cancomment;o.hasviewerliked=!!o.hasviewerliked;o.hasviewersubscribed=!!o.hasviewersubscribed;o.likecount=o.likecount||0;var p=h.getResource(o.entidentifier);if(!p)break;var q=c("UFIFeedbackMutator").getHandlerForAction(o);i(q(p,o,m))}}var k={getFeedbackTarget:function l(m,n){var o=h.executeOrEnqueue(m,n),p=h.getUnavailableResources(o);p.length;return o},getFeedbackTargetIfExists:function l(m){return h.getResource(m)||null},unsubscribe:function l(m){h.unsubscribe(m)}};c("UFICentralUpdates").subscribe("update-feedback",function(l,m){var n=m.feedbacktarget?m.feedbacktarget:m.feedbacktargets&&m.feedbacktargets[0];if(n)i(n)});c("UFICentralUpdates").subscribe("update-actions",function(l,m){if(m.actions&&m.actions.length)j(m.actions,m.payloadsource)});f.exports=k}),22);
__d("MessengerWebGraphQLTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:MessengerWebGraphQLLoggerConfig",this.$MessengerWebGraphQLTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:MessengerWebGraphQLLoggerConfig",this.$MessengerWebGraphQLTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$MessengerWebGraphQLTypedLogger1={};return this};h.prototype.updateData=function(j){this.$MessengerWebGraphQLTypedLogger1=babelHelpers["extends"]({},this.$MessengerWebGraphQLTypedLogger1,j);return this};h.prototype.setErrorMessage=function(j){this.$MessengerWebGraphQLTypedLogger1.error_message=j;return this};h.prototype.setEvent=function(j){this.$MessengerWebGraphQLTypedLogger1.event=j;return this};h.prototype.setVC=function(j){this.$MessengerWebGraphQLTypedLogger1.vc=j;return this};var i={error_message:true,event:true,vc:true};f.exports=h}),null);
__d("MercuryPayloadSource",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({UNKNOWN:"unknown",CLIENT_CHANNEL_MESSAGE:"client_channel_message",CLIENT_SEND_MESSAGE:"client_send_message",CLIENT_CHANGE_ARCHIVED_STATUS:"client_change-archived_status",CLIENT_CHANGE_FOLDER:"client_change_folder",CLIENT_CHANGE_MUTE_SETTINGS:"client_change_mute_settings",CLIENT_CHANGE_READ_STATUS:"client_change_read_status",CLIENT_CHANGE_CUSTOM_LIKE:"client_change_custom_like",CLIENT_MARK_THREAD_SEEN:"client_mark_thread_seen",CLIENT_ADD_PARTICIPANTS:"client_add_participants",CLIENT_FETCH_PARTICIPANTS:"client_fetch_participants",CLIENT_DELETE_MESSAGES:"client_delete_messages",CLIENT_DELETE_THREAD:"client_delete_thread",CLIENT_UPDATE_SNIPPET:"client_update_snippet",CLIENT_HANDLE_ERROR:"client_handle_error",CLIENT_CHANGE_FLAG:"client_change_flag",CLIENT_MOVE_PENDING_TO_INBOX:"client_move_pending_to_inbox",CLIENT_CREATE_PAGE_ADMIN_NOTE:"client_create_page_admin_note",CLIENT_UNWRAP_MESSAGE:"client_unwrap_message",CLIENT_UPDATE_COMM_STATUS:"client_update_comm_status",SERVER_INITIAL_DATA:"server_initial_data",SERVER_SEND_MESSAGE:"server_send_message",SERVER_CHANGE_ARCHIVED_STATUS:"server_change_archived_status",SERVER_CHANGE_READ_STATUS:"server_change_read_status",SERVER_MARK_FOLDER_READ:"server_mark_folder_read",SERVER_MARK_SEEN:"server_mark_seen",SERVER_FETCH_PARTICIPANTS:"server_fetch_participants",SERVER_FETCH_THREAD_INFO:"server_fetch_thread_info",SERVER_FETCH_THREADLIST_INFO:"server_fetch_threadlist_info",SERVER_STANDALONE_NOTIFICATIONS:"server_standalone_notifications",SERVER_THREAD_SYNC:"server_thread_sync",SERVER_TAB_PRESENCE:"server_tab_presence",SERVER_UNREAD_THREADS:"server_unread_threads",SERVER_UNSEEN_THREADS:"server_unseen_threads",SERVER_SEARCH:"server_search",SERVER_CHANGE_FLAG:"server_change_flag",SERVER_INVALIDATE_THREAD_STATE:"server_invalidate_thread_state",SERVER_INVALIDATE_GLOBAL_STATE:"server_invalidate_global_state"})}),null);
__d("MercuryServerURIs",[],(function a(b,c,d,e,f,g){"use strict";f.exports={THREAD_INFO:"/ajax/mercury/thread_info.php",MARK_FOLDER_READ:"/ajax/mercury/mark_folder_as_read.php",CHANGE_READ_STATUS:"/ajax/mercury/change_read_status.php",MARK_SEEN:"/ajax/mercury/mark_seen.php",THREADLIST_INFO:"/ajax/mercury/threadlist_info.php",MARK_SPAM:"/ajax/mercury/mark_spam.php",UNMARK_SPAM:"/ajax/mercury/unmark_spam.php",UNREAD_THREADS:"/ajax/mercury/unread_threads.php",CHANGE_ARCHIVED_STATUS:"/ajax/mercury/change_archived_status.php",DELETE_THREAD:"/ajax/mercury/delete_thread.php",DELETE_MESSAGES:"/ajax/mercury/delete_messages.php",DELIVERY_RECEIPTS:"/ajax/mercury/delivery_receipts.php",MOVE_THREAD:"/ajax/mercury/move_thread.php",CHANGE_MUTE_THREAD:"/ajax/mercury/change_mute_thread.php"}}),null);
__d("MessengerWebGraphQLEvent",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({THREAD_FAILURE:"thread_failure",THREADLIST_FAILURE:"threadlist_failure"})}),null);
__d("MercuryServerDispatcher",["AsyncRequest","AsyncResponse","BanzaiLogger","Bootloader","ChatPerfEvent","CurrentUser","FBID","LogHistory","JewelLogger","MercuryConfig","MercuryMessengerJewelPerfConfig","MercuryPayloadSource","MercuryServerURIs","MessagingTag","MessengerWebGraphQLEvent","MessengerWebGraphQLTypedLogger","Set","areJSONRepresentationsEqual","debounceAcrossTransitions","getByPath","performanceAbsoluteNow","performanceNowNoFallback"],(function a(b,c,d,e,f,g){"use strict";var h=c("JewelLogger").logDataEagerLoad,i={},j=c("LogHistory").getInstance("mercury_server_dispatcher"),k=false,l=c("MercuryMessengerJewelPerfConfig").logJewelData&&c("performanceNowNoFallback");function m(){l&&h({jewelName:"mercurymessages",eventName:"data_eager_load_start",timestamp:c("performanceNowNoFallback")()})}function n(){l&&h({jewelName:"mercurymessages",eventName:"data_eager_load_end",timestamp:c("performanceNowNoFallback")()})}var o={IMMEDIATE:"immediate",IDEMPOTENT:"idempotent",BATCH_SUCCESSIVE:"batch-successive",BATCH_SUCCESSIVE_UNIQUE:"batch-successive-unique",BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR:"batch-successive-piggyback-retry",BATCH_DEFERRED_MULTI:"batch-deferred-multi",BATCH_CONDITIONAL:"batch-conditional",DEFAULT_ENDPOINT_ID:"mercuryServerDispatcherDefaultEndpointID",registerEndpoints:function r(s){for(var t in s){var u=s[t],v=u.request_user_id||c("CurrentUser").getID(),w=u.endpoint_id||o.DEFAULT_ENDPOINT_ID;if(!i[t])i[t]={};if(!i[t][v])i[t][v]={};i[t][v][w]=new p(t,u)}},trySend:function r(s,t,u,v,w){v=v||c("CurrentUser").getID();w=w||o.DEFAULT_ENDPOINT_ID;i[s][v][w].trySend(t,u)}};function p(r,s){var t=s.mode||o.IMMEDIATE;switch(t){case o.IMMEDIATE:case o.IDEMPOTENT:case o.BATCH_SUCCESSIVE:case o.BATCH_SUCCESSIVE_UNIQUE:case o.BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR:case o.BATCH_DEFERRED_MULTI:case o.BATCH_CONDITIONAL:break;default:throw new Error("Invalid MercuryServerDispatcher mode "+t)}this._endpoint=r;this._mode=t;this._customHeader=s.customHeader;this._requestUserID=s.request_user_id;this._combineData=s.batch_function;this._combineDataIf=s.batch_if;this._batches=[];this._handler=s.handler;this._errorHandler=s.error_handler;this._transportErrorHandler=s.transport_error_handler||s.error_handler;this._connectionRetries=s.connection_retries||0;this._timeoutHandler=s.timeout_handler;this._timeout=s.timeout;this._serverDialogCancelHandler=s.server_dialog_cancel_handler||s.error_handler;this._deferredSend=c("debounceAcrossTransitions")(this._batchSend,0,this)}Object.assign(p.prototype,{_inFlight:0,_handler:null,_errorHandler:null,_transportErrorHandler:null,_timeoutHandler:null,_timeout:null,_serverDialogCancelHandler:null,_combineData:null,trySend:function r(s,t){if(k)return;if(s===undefined)s=null;var u=t||this._mode;if(u==o.IMMEDIATE)this._send(s);else if(u==o.IDEMPOTENT){if(!this._inFlight)this._send(s)}else if(u==o.BATCH_SUCCESSIVE||u==o.BATCH_SUCCESSIVE_UNIQUE)if(!this._inFlight)this._send(s);else this._batchData(s);else if(u==o.BATCH_CONDITIONAL){var v=this._batches[0]&&this._batches[0].getData();if(this._inFlight&&(this._combineDataIf(this._pendingRequestData,s)||this._combineDataIf(v,s)))this._batchData(s);else this._send(s)}else if(u==o.BATCH_DEFERRED_MULTI){this._batchData(s);this._deferredSend()}else if(u==o.BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR){this._batchData(s);if(!this._inFlight)this._batchSend()}},_send:function r(s){var t,u=this;m();this._inFlight++;this._pendingRequestData=babelHelpers["extends"]({},s);if(this._requestUserID!=c("CurrentUser").getID())s.request_user_id=this._requestUserID;j.log("send",JSON.stringify({endpoint:this._endpoint,inflight_count:this._inFlight}));var v=c("performanceAbsoluteNow")(),w=new(c("AsyncRequest"))(this._endpoint).setData(s).setOption("retries",this._connectionRetries).setAllowCrossPageTransition(true);if(this._customHeader)w.setRequestHeader(this._customHeader.name,this._customHeader.value);if(this._endpoint===c("MercuryServerURIs").THREADLIST_INFO&&c("MercuryConfig").SulfurThreadlist){c("Bootloader").loadModules(["messengerGraphQLThreadlistFetcherRe"],function(x){var y,z=s.request_user_id||c("CurrentUser").getID(),A=s.request_user_id&&!c("FBID").isUser(s.request_user_id),B=(y={},y[c("MessagingTag").INBOX]="INBOX",y[c("MessagingTag").OTHER]="OTHER",y[c("MessagingTag").ACTION_ARCHIVED]="ARCHIVED",y[c("MessagingTag").SPAM]="SPAM",y[c("MessagingTag").PENDING]="PENDING",y),C=[];for(var D=Object.keys(B),E=Array.isArray(D),F=0,D=E?D:D[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var G;if(E){if(F>=D.length)break;G=D[F++]}else{F=D.next();if(F.done)break;G=F.value}var H=G;if(Object.prototype.hasOwnProperty.call(s,H)){var I=s[H];C.push({limit:I.before?I.limit+1:I.limit,folder:H,tags:I.filter?[B[H],I.filter]:[B[H]],timestamp:I.before,offset:I.offset,filter:I.filter,includeDeliveryReceipts:true,includeSeqID:false})}}x.fetchAll(z,C,A).done(function(J){var K=new(c("AsyncResponse"))(w,babelHelpers["extends"]({},J,{payload_source:c("MercuryPayloadSource").SERVER_FETCH_THREADLIST_INFO}));this._handleResponse(K)}.bind(this),function(J){this._handleGraphQLError(c("MessengerWebGraphQLEvent").THREADLIST_FAILURE,J,w)}.bind(this))}.bind(this),"MercuryServerDispatcher");return}if(this._endpoint===c("MercuryServerURIs").THREAD_INFO&&c("MercuryConfig").SulfurThreadFetcher){var t=function(){var x=c("getByPath")(s,["threads","user_ids"],[]),y=c("getByPath")(s,["threads","thread_fbids"],[]),z=c("getByPath")(s,["messages","user_ids"],{}),A=c("getByPath")(s,["messages","thread_fbids"],{}),B=s.request_user_id&&!c("FBID").isUser(s.request_user_id);c("Bootloader").loadModules(["messengerGraphQLThreadFetcherRe"],function(C){var D=s.request_user_id||c("CurrentUser").getID(),E=Object.keys(z),F=E.map(function(K){var L=z[K].limit,M=z[K].timestamp;return{id:K,limit:M?L+1:L,loadReadReceipts:z[K].offset>0,timestamp:M,isCanonical:true}}),G=new(c("Set"))(E);x.forEach(function(K){if(G.has(K))return;F.push({id:K,limit:0,loadReadReceipts:false,timestamp:null,isCanonical:true})});var H=Object.keys(A),I=H.map(function(K){var L=A[K].limit,M=A[K].timestamp;return{id:K,limit:M?L+1:L,loadReadReceipts:A[K].offset>0,timestamp:M,isCanonical:false}}),J=new(c("Set"))(H);y.forEach(function(K){if(J.has(K))return;I.push({id:K,limit:0,loadReadReceipts:false,timestamp:null,isCanonical:false})});C.fetchAll(D,[].concat(F,I),B).done(function(K){var L,M=this,N=K;if(N.length>0)(function(){var O={};N.forEach(function(S){return Object.assign(O,S.roger)});var P=[];N.forEach(function(S){return P=P.concat(S.actions)});P=P.filter(Boolean);var Q={actions:P,threads:N.map(function(S){return S.thread}).filter(Boolean),end_of_history:N.map(function(S){return S.end_of_history}).filter(Boolean),roger:O,payload_source:c("MercuryPayloadSource").SERVER_FETCH_THREAD_INFO},R=new(c("AsyncResponse"))(w,Q);M._handleResponse(R)})();else this._handleResponse(new(c("AsyncResponse"))(w,{}))}.bind(this),function(K){this._handleGraphQLError(c("MessengerWebGraphQLEvent").THREAD_FAILURE,K,w)}.bind(this))}.bind(u),"MercuryServerDispatcher");return{v:void 0}}();if(typeof t==="object")return t.v}w.setHandler(function(x){c("BanzaiLogger").log("ChatPerfLoggerConfig",{event:c("ChatPerfEvent").ASYNC_REQUEST,duration:c("performanceAbsoluteNow")()-v,endpoint:this._endpoint});this._handleResponse(x)}.bind(this)).setErrorHandler(this._handleError.bind(this)).setTransportErrorHandler(this._handleTransportError.bind(this)).setServerDialogCancelHandler(this._handleServerDialogCancel.bind(this));if(this._timeout&&this._timeoutHandler)w.setTimeoutHandler(this._timeout,this._handleTimeout.bind(this));w.send()},_handleGraphQLError:function r(s,t,u){var v=null,w=u.getData().retry_count;if(typeof t.toString==="function")v=t.toString();if(typeof t.getRequest!=="function"){var x=t.errors&&t.errors[0];t=new(c("AsyncResponse"))(u,t);t.errorSummary=x?x.description:null;t.errorDescription=x?x.message:null;v=x&&x.message?x.message:v;t.silentError=x&&x.is_silent;t.transientError=x&&x.is_transient}if(!w)new(c("MessengerWebGraphQLTypedLogger"))().setErrorMessage(v).setEvent(c("MessengerWebGraphQLEvent").THREAD_FAILURE).log();this._handleError(t)},_batchData:function r(s,t){if(this._mode==o.BATCH_SUCCESSIVE_UNIQUE&&this._pendingRequestData!==undefined&&c("areJSONRepresentationsEqual")(s,this._pendingRequestData))return;else{var u=this._batches.length-1;if(u>=0)t?this._batches[u].combineWithOlder(s,this._combineData):this._batches[u].combineWith(s,this._combineData);else this._batches.push(new q(s));j.debug("batch",JSON.stringify({endpoint:this._endpoint}))}},_batchSend:function r(){if(this._batches[0]){this._send(this._batches[0].getData());this._batches.shift()}},_handleResponse:function r(s){n();this._inFlight--;j.log("response",JSON.stringify({endpoint:this._endpoint,inflight_count:this._inFlight}));var t=s.getPayload();k=t&&t.kill_chat;if(k)j.log("killswitch_enabled",JSON.stringify({endpoint:this._endpoint,inflight_count:this._inFlight}));if(t&&t.error_payload){if(this._errorHandler)this._errorHandler(s)}else this._handler&&this._handler(t,s.getRequest());if(this._mode==o.BATCH_SUCCESSIVE||this._mode==o.BATCH_SUCCESSIVE_UNIQUE||this._mode==o.BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR||this._mode==o.BATCH_CONDITIONAL)this._batchSend();delete this._pendingRequestData},_postErrorHandler:function r(s){this._inFlight--;j.error("error",JSON.stringify({endpoint:this._endpoint,inflight_count:this._inFlight,error:s instanceof c("AsyncResponse")?s.getError()+" "+s.getErrorDescription():s instanceof Error?s.toString():"Unknown"}));var t=this._mode;if(t==o.BATCH_SUCCESSIVE||t==o.BATCH_SUCCESSIVE_UNIQUE||t==o.BATCH_CONDITIONAL)this._batchSend();else if(t==o.BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR)if(this._batches[0]){this._batchData(this._pendingRequestData,true);this._batchSend()}else this._batchData(this._pendingRequestData,true);delete this._pendingRequestData},_handleError:function r(s){this._errorHandler&&this._errorHandler(s);this._postErrorHandler(s)},_handleTransportError:function r(s){this._transportErrorHandler&&this._transportErrorHandler(s);this._postErrorHandler(s)},_handleTimeout:function r(s){this._timeoutHandler&&this._timeoutHandler(s);this._postErrorHandler(new Error("Endpoint Timeout"))},_handleServerDialogCancel:function r(s){this._serverDialogCancelHandler&&this._serverDialogCancelHandler(s);this._postErrorHandler(s)}});function q(r){this._data=r;this._size=1}Object.assign(q.prototype,{getData:function r(){return this._data},getSize:function r(){return this._size},combineWith:function r(s,t){this._data=t(this._data,s);this._size++},combineWithOlder:function r(s,t){this._data=t(s,this._data);this._size++}});f.exports=o}),null);
__d("FeedProfilePhotoFooter",["SubscriptionsHandler","UFICentralUpdates","URI","destroyOnUnload"],(function a(b,c,d,e,f,g){function h(i,j){"use strict";var k=new(c("SubscriptionsHandler"))();k.addSubscriptions(c("UFICentralUpdates").subscribe("actor-changed",function(l,m){return i.setAttribute("href",new(c("URI"))(j).addQueryData("profile_id",m.actorID).toString())}));c("destroyOnUnload")(function(){return k.release()})}f.exports=h}),null);
__d("setByPath",["invariant"],(function a(b,c,d,e,f,g,h){"use strict";function i(j,k,l){var m=j;for(var n=0;n<k.length;n++){var o=k[n];if(n===k.length-1){m[o]=l;return}if(!Object.prototype.hasOwnProperty.call(m,o))m[o]={};else if(m[o]==null)m[o]={};else Array.isArray(m[o])||Object.prototype.toString.call(m[o])==="[object Object]"||h(0);m=m[o]}}f.exports=i}),null);
__d("everyObject",[],(function a(b,c,d,e,f,g){"use strict";var h=Object.prototype.hasOwnProperty;function i(j,k,l){for(var m in j){var n=m;if(h.call(j,n))if(!k.call(l,j[n],n,j))return false}return true}f.exports=i}),null);